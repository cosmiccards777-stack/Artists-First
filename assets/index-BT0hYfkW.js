function l$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ll(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W_={exports:{}},dd={};var a2;function u$(){if(a2)return dd;a2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return dd.Fragment=e,dd.jsx=n,dd.jsxs=n,dd}var s2;function c$(){return s2||(s2=1,W_.exports=u$()),W_.exports}var _=c$(),Y_={exports:{}},Be={};var o2;function f$(){if(o2)return Be;o2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(H,ae,pe){this.props=H,this.context=ae,this.refs=E,this.updater=pe||w}C.prototype.isReactComponent={},C.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=C.prototype;function N(H,ae,pe){this.props=H,this.context=ae,this.refs=E,this.updater=pe||w}var M=N.prototype=new D;M.constructor=N,S(M,C.prototype),M.isPureReactComponent=!0;var V=Array.isArray;function L(){}var R={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function k(H,ae,pe){var ge=pe.ref;return{$$typeof:t,type:H,key:ae,ref:ge!==void 0?ge:null,props:pe}}function F(H,ae){return k(H.type,ae,H.props)}function B(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(pe){return ae[pe]})}var q=/\/+/g;function K(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ae.toString(36)}function he(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(L,L):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,ae,pe,ge,Re){var je=typeof H;(je==="undefined"||je==="boolean")&&(H=null);var Me=!1;if(H===null)Me=!0;else switch(je){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(H.$$typeof){case t:case e:Me=!0;break;case d:return Me=H._init,W(Me(H._payload),ae,pe,ge,Re)}}if(Me)return Re=Re(H),Me=ge===""?"."+K(H,0):ge,V(Re)?(pe="",Me!=null&&(pe=Me.replace(q,"$&/")+"/"),W(Re,ae,pe,"",function(Ve){return Ve})):Re!=null&&(B(Re)&&(Re=F(Re,pe+(Re.key==null||H&&H.key===Re.key?"":(""+Re.key).replace(q,"$&/")+"/")+Me)),ae.push(Re)),1;Me=0;var Ct=ge===""?".":ge+":";if(V(H))for(var se=0;se<H.length;se++)ge=H[se],je=Ct+K(ge,se),Me+=W(ge,ae,pe,je,Re);else if(se=b(H),typeof se=="function")for(H=se.call(H),se=0;!(ge=H.next()).done;)ge=ge.value,je=Ct+K(ge,se++),Me+=W(ge,ae,pe,je,Re);else if(je==="object"){if(typeof H.then=="function")return W(he(H),ae,pe,ge,Re);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ie(H,ae,pe){if(H==null)return H;var ge=[],Re=0;return W(H,ge,"","",function(je){return ae.call(pe,je,Re++)}),ge}function de(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(pe){(H._status===0||H._status===-1)&&(H._status=1,H._result=pe)},function(pe){(H._status===0||H._status===-1)&&(H._status=2,H._result=pe)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var _e=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ae={map:ie,forEach:function(H,ae,pe){ie(H,function(){ae.apply(this,arguments)},pe)},count:function(H){var ae=0;return ie(H,function(){ae++}),ae},toArray:function(H){return ie(H,function(ae){return ae})||[]},only:function(H){if(!B(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Be.Activity=p,Be.Children=Ae,Be.Component=C,Be.Fragment=n,Be.Profiler=i,Be.PureComponent=N,Be.StrictMode=r,Be.Suspense=f,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Be.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},Be.cache=function(H){return function(){return H.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(H,ae,pe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ge=S({},H.props),Re=H.key;if(ae!=null)for(je in ae.key!==void 0&&(Re=""+ae.key),ae)!O.call(ae,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ae.ref===void 0||(ge[je]=ae[je]);var je=arguments.length-2;if(je===1)ge.children=pe;else if(1<je){for(var Me=Array(je),Ct=0;Ct<je;Ct++)Me[Ct]=arguments[Ct+2];ge.children=Me}return k(H.type,Re,ge)},Be.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Be.createElement=function(H,ae,pe){var ge,Re={},je=null;if(ae!=null)for(ge in ae.key!==void 0&&(je=""+ae.key),ae)O.call(ae,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Re[ge]=ae[ge]);var Me=arguments.length-2;if(Me===1)Re.children=pe;else if(1<Me){for(var Ct=Array(Me),se=0;se<Me;se++)Ct[se]=arguments[se+2];Re.children=Ct}if(H&&H.defaultProps)for(ge in Me=H.defaultProps,Me)Re[ge]===void 0&&(Re[ge]=Me[ge]);return k(H,je,Re)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(H){return{$$typeof:u,render:H}},Be.isValidElement=B,Be.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:de}},Be.memo=function(H,ae){return{$$typeof:h,type:H,compare:ae===void 0?null:ae}},Be.startTransition=function(H){var ae=R.T,pe={};R.T=pe;try{var ge=H(),Re=R.S;Re!==null&&Re(pe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(L,_e)}catch(je){_e(je)}finally{ae!==null&&pe.types!==null&&(ae.types=pe.types),R.T=ae}},Be.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Be.use=function(H){return R.H.use(H)},Be.useActionState=function(H,ae,pe){return R.H.useActionState(H,ae,pe)},Be.useCallback=function(H,ae){return R.H.useCallback(H,ae)},Be.useContext=function(H){return R.H.useContext(H)},Be.useDebugValue=function(){},Be.useDeferredValue=function(H,ae){return R.H.useDeferredValue(H,ae)},Be.useEffect=function(H,ae){return R.H.useEffect(H,ae)},Be.useEffectEvent=function(H){return R.H.useEffectEvent(H)},Be.useId=function(){return R.H.useId()},Be.useImperativeHandle=function(H,ae,pe){return R.H.useImperativeHandle(H,ae,pe)},Be.useInsertionEffect=function(H,ae){return R.H.useInsertionEffect(H,ae)},Be.useLayoutEffect=function(H,ae){return R.H.useLayoutEffect(H,ae)},Be.useMemo=function(H,ae){return R.H.useMemo(H,ae)},Be.useOptimistic=function(H,ae){return R.H.useOptimistic(H,ae)},Be.useReducer=function(H,ae,pe){return R.H.useReducer(H,ae,pe)},Be.useRef=function(H){return R.H.useRef(H)},Be.useState=function(H){return R.H.useState(H)},Be.useSyncExternalStore=function(H,ae,pe){return R.H.useSyncExternalStore(H,ae,pe)},Be.useTransition=function(){return R.H.useTransition()},Be.version="19.2.4",Be}var l2;function $f(){return l2||(l2=1,Y_.exports=f$()),Y_.exports}var T=$f();const h$=ll(T),d$=l$({__proto__:null,default:h$},[T]);var X_={exports:{}},md={},Q_={exports:{}},Z_={};var u2;function m$(){return u2||(u2=1,(function(t){function e(W,ie){var de=W.length;W.push(ie);e:for(;0<de;){var _e=de-1>>>1,Ae=W[_e];if(0<i(Ae,ie))W[_e]=ie,W[de]=Ae,de=_e;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ie=W[0],de=W.pop();if(de!==ie){W[0]=de;e:for(var _e=0,Ae=W.length,H=Ae>>>1;_e<H;){var ae=2*(_e+1)-1,pe=W[ae],ge=ae+1,Re=W[ge];if(0>i(pe,de))ge<Ae&&0>i(Re,pe)?(W[_e]=Re,W[ge]=de,_e=ge):(W[_e]=pe,W[ae]=de,_e=ae);else if(ge<Ae&&0>i(Re,de))W[_e]=Re,W[ge]=de,_e=ge;else break e}}return ie}function i(W,ie){var de=W.sortIndex-ie.sortIndex;return de!==0?de:W.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],h=[],d=1,p=null,y=3,b=!1,w=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(W){for(var ie=n(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=W)r(h),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(h)}}function V(W){if(S=!1,M(W),!w)if(n(f)!==null)w=!0,L||(L=!0,U());else{var ie=n(h);ie!==null&&he(V,ie.startTime-W)}}var L=!1,R=-1,O=5,k=-1;function F(){return E?!0:!(t.unstable_now()-k<O)}function B(){if(E=!1,L){var W=t.unstable_now();k=W;var ie=!0;try{e:{w=!1,S&&(S=!1,D(R),R=-1),b=!0;var de=y;try{t:{for(M(W),p=n(f);p!==null&&!(p.expirationTime>W&&F());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,y=p.priorityLevel;var Ae=_e(p.expirationTime<=W);if(W=t.unstable_now(),typeof Ae=="function"){p.callback=Ae,M(W),ie=!0;break t}p===n(f)&&r(f),M(W)}else r(f);p=n(f)}if(p!==null)ie=!0;else{var H=n(h);H!==null&&he(V,H.startTime-W),ie=!1}}break e}finally{p=null,y=de,b=!1}ie=void 0}}finally{ie?U():L=!1}}}var U;if(typeof N=="function")U=function(){N(B)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,K=q.port2;q.port1.onmessage=B,U=function(){K.postMessage(null)}}else U=function(){C(B,0)};function he(W,ie){R=C(function(){W(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var de=y;y=ie;try{return W()}finally{y=de}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=y;y=W;try{return ie()}finally{y=de}},t.unstable_scheduleCallback=function(W,ie,de){var _e=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?_e+de:_e):de=_e,W){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=de+Ae,W={id:d++,callback:ie,priorityLevel:W,startTime:de,expirationTime:Ae,sortIndex:-1},de>_e?(W.sortIndex=de,e(h,W),n(f)===null&&W===n(h)&&(S?(D(R),R=-1):S=!0,he(V,de-_e))):(W.sortIndex=Ae,e(f,W),w||b||(w=!0,L||(L=!0,U()))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var ie=y;return function(){var de=y;y=ie;try{return W.apply(this,arguments)}finally{y=de}}}})(Z_)),Z_}var c2;function p$(){return c2||(c2=1,Q_.exports=m$()),Q_.exports}var J_={exports:{}},nr={};var f2;function g$(){if(f2)return nr;f2=1;var t=$f();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,d)},nr.flushSync=function(f){var h=o.T,d=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=h,r.p=d,r.d.f()}},nr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},nr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},nr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):d==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},nr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},nr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin);r.d.L(f,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},nr.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},nr.requestFormReset=function(f){r.d.r(f)},nr.unstable_batchedUpdates=function(f,h){return f(h)},nr.useFormState=function(f,h,d){return o.H.useFormState(f,h,d)},nr.useFormStatus=function(){return o.H.useHostTransitionStatus()},nr.version="19.2.4",nr}var h2;function g4(){if(h2)return J_.exports;h2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),J_.exports=g$(),J_.exports}var d2;function y$(){if(d2)return md;d2=1;var t=p$(),e=$f(),n=g4();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(r(188))}function h(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var c=s,m=l;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return f(v),s;if(x===m)return f(v),l;x=x.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=x;else{for(var I=!1,j=v.child;j;){if(j===c){I=!0,c=v,m=x;break}if(j===m){I=!0,m=v,c=x;break}j=j.sibling}if(!I){for(j=x.child;j;){if(j===c){I=!0,c=x,m=v;break}if(j===m){I=!0,m=x,c=v;break}j=j.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function K(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case L:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case N:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case M:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return l=s.displayName||null,l!==null?l:K(s.type)||"Memo";case O:l=s._payload,s=s._init;try{return K(s(l))}catch{}}return null}var he=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},_e=[],Ae=-1;function H(s){return{current:s}}function ae(s){0>Ae||(s.current=_e[Ae],_e[Ae]=null,Ae--)}function pe(s,l){Ae++,_e[Ae]=s.current,s.current=l}var ge=H(null),Re=H(null),je=H(null),Me=H(null);function Ct(s,l){switch(pe(je,l),pe(Re,s),pe(ge,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?CO(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=CO(l),s=PO(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(ge),pe(ge,s)}function se(){ae(ge),ae(Re),ae(je)}function Ve(s){s.memoizedState!==null&&pe(Me,s);var l=ge.current,c=PO(l,s.type);l!==c&&(pe(Re,s),pe(ge,c))}function Fe(s){Re.current===s&&(ae(ge),ae(Re)),Me.current===s&&(ae(Me),ud._currentValue=de)}var fe,Bt;function Ge(s){if(fe===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);fe=l&&l[1]||"",Bt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+s+Bt}var Jt=!1;function St(s,l){if(!s||Jt)return"";Jt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ee=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){ee=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),I=x[0],j=x[1];if(I&&j){var $=I.split(`
`),J=j.split(`
`);for(v=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(m===$.length||v===J.length)for(m=$.length-1,v=J.length-1;1<=m&&0<=v&&$[m]!==J[v];)v--;for(;1<=m&&0<=v;m--,v--)if($[m]!==J[v]){if(m!==1||v!==1)do if(m--,v--,0>v||$[m]!==J[v]){var oe=`
`+$[m].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=m&&0<=v);break}}}finally{Jt=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ge(c):""}function bn(s,l){switch(s.tag){case 26:case 27:case 5:return Ge(s.type);case 16:return Ge("Lazy");case 13:return s.child!==l&&l!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return St(s.type,!1);case 11:return St(s.type.render,!1);case 1:return St(s.type,!0);case 31:return Ge("Activity");default:return""}}function ri(s){try{var l="",c=null;do l+=bn(s,c),c=s,s=s.return;while(s);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ft=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,In=t.unstable_cancelCallback,Yu=t.unstable_shouldYield,Xu=t.unstable_requestPaint,Un=t.unstable_now,xe=t.unstable_getCurrentPriorityLevel,it=t.unstable_ImmediatePriority,Cn=t.unstable_UserBlockingPriority,kr=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,Ap=t.unstable_IdlePriority,Ip=t.log,Cp=t.unstable_setDisableYieldValue,Oi=null,Bn=null;function ii(s){if(typeof Ip=="function"&&Cp(s),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(Oi,s)}catch{}}var en=Math.clz32?Math.clz32:Rp,Pp=Math.log,Qu=Math.LN2;function Rp(s){return s>>>=0,s===0?32:31-(Pp(s)/Qu|0)|0}var ta=256,yl=262144,an=4194304;function na(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ra(s,l,c){var m=s.pendingLanes;if(m===0)return 0;var v=0,x=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var j=m&134217727;return j!==0?(m=j&~x,m!==0?v=na(m):(I&=j,I!==0?v=na(I):c||(c=j&~s,c!==0&&(v=na(c))))):(j=m&~x,j!==0?v=na(j):I!==0?v=na(I):c||(c=m&~s,c!==0&&(v=na(c)))),v===0?0:l!==0&&l!==v&&(l&x)===0&&(x=v&-v,c=l&-l,x>=c||x===32&&(c&4194048)!==0)?l:v}function Ni(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Zb(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Op(){var s=an;return an<<=1,(an&62914560)===0&&(an=4194304),s}function ia(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function vl(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jb(s,l,c,m,v,x){var I=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var j=s.entanglements,$=s.expirationTimes,J=s.hiddenUpdates;for(c=I&~c;0<c;){var oe=31-en(c),ce=1<<oe;j[oe]=0,$[oe]=-1;var ee=J[oe];if(ee!==null)for(J[oe]=null,oe=0;oe<ee.length;oe++){var ne=ee[oe];ne!==null&&(ne.lane&=-536870913)}c&=~ce}m!==0&&bl(s,m,0),x!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=x&~(I&~l))}function bl(s,l,c){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-en(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|c&261930}function mh(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var m=31-en(c),v=1<<m;v&l|s[m]&l&&(s[m]|=l),c&=~v}}function ph(s,l){var c=l&-l;return c=(c&42)!==0?1:xl(c),(c&(s.suspendedLanes|l))!==0?0:c}function xl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Wa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Np(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:ZO(s.type))}function Di(s,l){var c=ie.p;try{return ie.p=s,l()}finally{ie.p=c}}var Mi=Math.random().toString(36).slice(2),sn="__reactFiber$"+Mi,Pn="__reactProps$"+Mi,aa="__reactContainer$"+Mi,Zu="__reactEvents$"+Mi,ex="__reactListeners$"+Mi,Dp="__reactHandles$"+Mi,Mp="__reactResources$"+Mi,sa="__reactMarker$"+Mi;function Ju(s){delete s[sn],delete s[Pn],delete s[Zu],delete s[ex],delete s[Dp]}function oa(s){var l=s[sn];if(l)return l;for(var c=s.parentNode;c;){if(l=c[aa]||c[sn]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=jO(s);s!==null;){if(c=s[sn])return c;s=jO(s)}return l}s=c,c=s.parentNode}return null}function ai(s){if(s=s[sn]||s[aa]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function jr(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function la(s){var l=s[Mp];return l||(l=s[Mp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function on(s){s[sa]=!0}var gh=new Set,yh={};function ua(s,l){ca(s,l),ca(s+"Capture",l)}function ca(s,l){for(yh[s]=l,s=0;s<l.length;s++)gh.add(l[s])}var vh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bh={},xh={};function kp(s){return Ft.call(xh,s)?!0:Ft.call(bh,s)?!1:vh.test(s)?xh[s]=!0:(bh[s]=!0,!1)}function ec(s,l,c){if(kp(l))if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+c)}}function Vr(s,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+c)}}function ln(s,l,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(l,c,""+m)}}function Rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zs(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function _h(s,l,c){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,x=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return v.call(this)},set:function(I){c=""+I,x.call(this,I)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function ht(s){if(!s._valueTracker){var l=Zs(s)?"checked":"value";s._valueTracker=_h(s,l,""+s[l])}}function _l(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return s&&(m=Zs(s)?s.checked?"true":"false":s.value),s=m,s!==c?(l.setValue(s),!0):!1}function fa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wl=/[\n"\\]/g;function Er(s){return s.replace(wl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function tc(s,l,c,m,v,x,I,j){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Rn(l)):s.value!==""+Rn(l)&&(s.value=""+Rn(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?wh(s,I,Rn(l)):c!=null?wh(s,I,Rn(c)):m!=null&&s.removeAttribute("value"),v==null&&x!=null&&(s.defaultChecked=!!x),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Rn(j):s.removeAttribute("name")}function jp(s,l,c,m,v,x,I,j){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),l!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||l!=null)){ht(s);return}c=c!=null?""+Rn(c):"",l=l!=null?""+Rn(l):c,j||l===s.value||(s.value=l),s.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=j?s.checked:!!m,s.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),ht(s)}function wh(s,l,c){l==="number"&&fa(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Js(s,l,c,m){if(s=s.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=l.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+Rn(c),l=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}l!==null||s[v].disabled||(l=s[v])}l!==null&&(l.selected=!0)}}function Vp(s,l,c){if(l!=null&&(l=""+Rn(l),l!==s.value&&(s.value=l),c==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=c!=null?""+Rn(c):""}function eo(s,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(r(92));if(he(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=Rn(l),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m),ht(s)}function Tr(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var Lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eh(s,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,c):typeof c!="number"||c===0||Lp.has(l)?l==="float"?s.cssFloat=c:s[l]=(""+c).trim():s[l]=c+"px"}function Th(s,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&c[v]!==m&&Eh(s,v,m)}else for(var x in l)l.hasOwnProperty(x)&&Eh(s,x,l[x])}function nc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(s){return to.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ki(){}var Sh=null;function si(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var no=null,ha=null;function El(s){var l=ai(s);if(l&&(s=l.stateNode)){var c=s[Pn]||null;e:switch(s=l.stateNode,l.type){case"input":if(tc(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Er(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==s&&m.form===s.form){var v=m[Pn]||null;if(!v)throw Error(r(90));tc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===s.form&&_l(m)}break e;case"textarea":Vp(s,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&Js(s,!!c.multiple,l,!1)}}}var ic=!1;function ro(s,l,c){if(ic)return s(l,c);ic=!0;try{var m=s(l);return m}finally{if(ic=!1,(no!==null||ha!==null)&&(Ng(),no&&(l=no,s=ha,ha=no=null,El(l),s)))for(l=0;l<s.length;l++)El(s[l])}}function ji(s,l){var c=s.stateNode;if(c===null)return null;var m=c[Pn]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=!1;if(oi)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{Tl=!1}var da=null,Ah=null,Sl=null;function Ih(){if(Sl)return Sl;var s,l=Ah,c=l.length,m,v="value"in da?da.value:da.textContent,x=v.length;for(s=0;s<c&&l[s]===v[s];s++);var I=c-s;for(m=1;m<=I&&l[c-m]===v[x-m];m++);return Sl=v.slice(s,1<m?1-m:void 0)}function Al(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ya(){return!0}function Vi(){return!1}function Fn(s){function l(c,m,v,x,I){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(x):x[j]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ya:Vi,this.isPropagationStopped=Vi,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),l}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Fn(Xa),io=p({},Xa,{view:0,detail:0}),Ch=Fn(io),ao,ac,pa,sc=p({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pa&&(pa&&s.type==="mousemove"?(ao=s.screenX-pa.screenX,ac=s.screenY-pa.screenY):ac=ao=0,pa=s),ao)},movementY:function(s){return"movementY"in s?s.movementY:ac}}),Ph=Fn(sc),Il=p({},sc,{dataTransfer:0}),Up=Fn(Il),Bp=p({},io,{relatedTarget:0}),Cl=Fn(Bp),Rh=p({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=Fn(Rh),oc=p({},Xa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qp=Fn(oc),$p=p({},Xa,{data:0}),ga=Fn($p),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wp(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Kp[s])?!!l[s]:!1}function so(){return Wp}var hr=p({},io,{key:function(s){if(s.key){var l=Hp[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Al(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(s){return s.type==="keypress"?Al(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Al(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yp=Fn(hr),Xp=p({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Fn(Xp),g=p({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),A=Fn(g),P=p({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Fn(P),Q=p({},sc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),te=Fn(Q),ye=p({},Xa,{newState:0,oldState:0}),qe=Fn(ye),tn=[9,13,27,32],lt=oi&&"CompositionEvent"in window,Dt=null;oi&&"documentMode"in document&&(Dt=document.documentMode);var li=oi&&"TextEvent"in window&&!Dt,ya=oi&&(!lt||Dt&&8<Dt&&11>=Dt),Li=" ",zi=!1;function Pl(s,l){switch(s){case"keyup":return tn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var uc=!1;function Nq(s,l){switch(s){case"compositionend":return lc(l);case"keypress":return l.which!==32?null:(zi=!0,Li);case"textInput":return s=l.data,s===Li&&zi?null:s;default:return null}}function Dq(s,l){if(uc)return s==="compositionend"||!lt&&Pl(s,l)?(s=Ih(),Sl=Ah=da=null,uc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ya&&l.locale!=="ko"?null:l.data;default:return null}}var Mq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zC(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Mq[s.type]:l==="textarea"}function UC(s,l,c,m){no?ha?ha.push(m):ha=[m]:no=m,l=zg(l,"onChange"),0<l.length&&(c=new ma("onChange","change",null,c,m),s.push({event:c,listeners:l}))}var Oh=null,Nh=null;function kq(s){wO(s,0)}function Qp(s){var l=jr(s);if(_l(l))return s}function BC(s,l){if(s==="change")return l}var FC=!1;if(oi){var tx;if(oi){var nx="oninput"in document;if(!nx){var qC=document.createElement("div");qC.setAttribute("oninput","return;"),nx=typeof qC.oninput=="function"}tx=nx}else tx=!1;FC=tx&&(!document.documentMode||9<document.documentMode)}function $C(){Oh&&(Oh.detachEvent("onpropertychange",HC),Nh=Oh=null)}function HC(s){if(s.propertyName==="value"&&Qp(Nh)){var l=[];UC(l,Nh,s,si(s)),ro(kq,l)}}function jq(s,l,c){s==="focusin"?($C(),Oh=l,Nh=c,Oh.attachEvent("onpropertychange",HC)):s==="focusout"&&$C()}function Vq(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qp(Nh)}function Lq(s,l){if(s==="click")return Qp(l)}function zq(s,l){if(s==="input"||s==="change")return Qp(l)}function Uq(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Lr=typeof Object.is=="function"?Object.is:Uq;function Dh(s,l){if(Lr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!Ft.call(l,v)||!Lr(s[v],l[v]))return!1}return!0}function GC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function KC(s,l){var c=GC(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=l&&m>=l)return{node:c,offset:l-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=GC(c)}}function WC(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?WC(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function YC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=fa(s.document);l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)s=l.contentWindow;else break;l=fa(s.document)}return l}function rx(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Bq=oi&&"documentMode"in document&&11>=document.documentMode,cc=null,ix=null,Mh=null,ax=!1;function XC(s,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ax||cc==null||cc!==fa(m)||(m=cc,"selectionStart"in m&&rx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Mh&&Dh(Mh,m)||(Mh=m,m=zg(ix,"onSelect"),0<m.length&&(l=new ma("onSelect","select",null,l,c),s.push({event:l,listeners:m}),l.target=cc)))}function Rl(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var fc={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},sx={},QC={};oi&&(QC=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function Ol(s){if(sx[s])return sx[s];if(!fc[s])return s;var l=fc[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in QC)return sx[s]=l[c];return s}var ZC=Ol("animationend"),JC=Ol("animationiteration"),eP=Ol("animationstart"),Fq=Ol("transitionrun"),qq=Ol("transitionstart"),$q=Ol("transitioncancel"),tP=Ol("transitionend"),nP=new Map,ox="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ox.push("scrollEnd");function Ui(s,l){nP.set(s,l),ua(l,[s])}var Zp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ui=[],hc=0,lx=0;function Jp(){for(var s=hc,l=lx=hc=0;l<s;){var c=ui[l];ui[l++]=null;var m=ui[l];ui[l++]=null;var v=ui[l];ui[l++]=null;var x=ui[l];if(ui[l++]=null,m!==null&&v!==null){var I=m.pending;I===null?v.next=v:(v.next=I.next,I.next=v),m.pending=v}x!==0&&rP(c,v,x)}}function eg(s,l,c,m){ui[hc++]=s,ui[hc++]=l,ui[hc++]=c,ui[hc++]=m,lx|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function ux(s,l,c,m){return eg(s,l,c,m),tg(s)}function Nl(s,l){return eg(s,null,null,l),tg(s)}function rP(s,l,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var v=!1,x=s.return;x!==null;)x.childLanes|=c,m=x.alternate,m!==null&&(m.childLanes|=c),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(v=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,v&&l!==null&&(v=31-en(c),s=x.hiddenUpdates,m=s[v],m===null?s[v]=[l]:m.push(l),l.lane=c|536870912),x):null}function tg(s){if(50<nd)throw nd=0,v_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var dc={};function Hq(s,l,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,l,c,m){return new Hq(s,l,c,m)}function cx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Za(s,l){var c=s.alternate;return c===null?(c=zr(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function iP(s,l){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,l=c.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function ng(s,l,c,m,v,x){var I=0;if(m=s,typeof s=="function")cx(s)&&(I=1);else if(typeof s=="string")I=X7(s,c,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=zr(31,c,l,v),s.elementType=k,s.lanes=x,s;case S:return Dl(c.children,v,x,l);case E:I=8,v|=24;break;case C:return s=zr(12,c,l,v|2),s.elementType=C,s.lanes=x,s;case V:return s=zr(13,c,l,v),s.elementType=V,s.lanes=x,s;case L:return s=zr(19,c,l,v),s.elementType=L,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:I=10;break e;case D:I=9;break e;case M:I=11;break e;case R:I=14;break e;case O:I=16,m=null;break e}I=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=zr(I,c,l,v),l.elementType=s,l.type=m,l.lanes=x,l}function Dl(s,l,c,m){return s=zr(7,s,m,l),s.lanes=c,s}function fx(s,l,c){return s=zr(6,s,null,l),s.lanes=c,s}function aP(s){var l=zr(18,null,null,0);return l.stateNode=s,l}function hx(s,l,c){return l=zr(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var sP=new WeakMap;function ci(s,l){if(typeof s=="object"&&s!==null){var c=sP.get(s);return c!==void 0?c:(l={value:s,source:l,stack:ri(l)},sP.set(s,l),l)}return{value:s,source:l,stack:ri(l)}}var mc=[],pc=0,rg=null,kh=0,fi=[],hi=0,oo=null,va=1,ba="";function Ja(s,l){mc[pc++]=kh,mc[pc++]=rg,rg=s,kh=l}function oP(s,l,c){fi[hi++]=va,fi[hi++]=ba,fi[hi++]=oo,oo=s;var m=va;s=ba;var v=32-en(m)-1;m&=~(1<<v),c+=1;var x=32-en(l)+v;if(30<x){var I=v-v%5;x=(m&(1<<I)-1).toString(32),m>>=I,v-=I,va=1<<32-en(l)+v|c<<v|m,ba=x+s}else va=1<<x|c<<v|m,ba=s}function dx(s){s.return!==null&&(Ja(s,1),oP(s,1,0))}function mx(s){for(;s===rg;)rg=mc[--pc],mc[pc]=null,kh=mc[--pc],mc[pc]=null;for(;s===oo;)oo=fi[--hi],fi[hi]=null,ba=fi[--hi],fi[hi]=null,va=fi[--hi],fi[hi]=null}function lP(s,l){fi[hi++]=va,fi[hi++]=ba,fi[hi++]=oo,va=l.id,ba=l.overflow,oo=s}var qn=null,Rt=null,tt=!1,lo=null,di=!1,px=Error(r(519));function uo(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jh(ci(l,s)),px}function uP(s){var l=s.stateNode,c=s.type,m=s.memoizedProps;switch(l[sn]=s,l[Pn]=m,c){case"dialog":Ye("cancel",l),Ye("close",l);break;case"iframe":case"object":case"embed":Ye("load",l);break;case"video":case"audio":for(c=0;c<id.length;c++)Ye(id[c],l);break;case"source":Ye("error",l);break;case"img":case"image":case"link":Ye("error",l),Ye("load",l);break;case"details":Ye("toggle",l);break;case"input":Ye("invalid",l),jp(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ye("invalid",l);break;case"textarea":Ye("invalid",l),eo(l,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||AO(l.textContent,c)?(m.popover!=null&&(Ye("beforetoggle",l),Ye("toggle",l)),m.onScroll!=null&&Ye("scroll",l),m.onScrollEnd!=null&&Ye("scrollend",l),m.onClick!=null&&(l.onclick=ki),l=!0):l=!1,l||uo(s,!0)}function cP(s){for(qn=s.return;qn;)switch(qn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:qn=qn.return}}function gc(s){if(s!==qn)return!1;if(!tt)return cP(s),tt=!0,!1;var l=s.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||D_(s.type,s.memoizedProps)),c=!c),c&&Rt&&uo(s),cP(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Rt=kO(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Rt=kO(s)}else l===27?(l=Rt,To(s.type)?(s=L_,L_=null,Rt=s):Rt=l):Rt=qn?pi(s.stateNode.nextSibling):null;return!0}function Ml(){Rt=qn=null,tt=!1}function gx(){var s=lo;return s!==null&&(Cr===null?Cr=s:Cr.push.apply(Cr,s),lo=null),s}function jh(s){lo===null?lo=[s]:lo.push(s)}var yx=H(null),kl=null,es=null;function co(s,l,c){pe(yx,l._currentValue),l._currentValue=c}function ts(s){s._currentValue=yx.current,ae(yx)}function vx(s,l,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===c)break;s=s.return}}function bx(s,l,c,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var x=v.dependencies;if(x!==null){var I=v.child;x=x.firstContext;e:for(;x!==null;){var j=x;x=v;for(var $=0;$<l.length;$++)if(j.context===l[$]){x.lanes|=c,j=x.alternate,j!==null&&(j.lanes|=c),vx(x.return,c,s),m||(I=null);break e}x=j.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=c,x=I.alternate,x!==null&&(x.lanes|=c),vx(I,c,s),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===s){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function yc(s,l,c,m){s=null;for(var v=l,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var j=v.type;Lr(v.pendingProps.value,I.value)||(s!==null?s.push(j):s=[j])}}else if(v===Me.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ud):s=[ud])}v=v.return}s!==null&&bx(l,s,c,m),l.flags|=262144}function ig(s){for(s=s.firstContext;s!==null;){if(!Lr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function jl(s){kl=s,es=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $n(s){return fP(kl,s)}function ag(s,l){return kl===null&&jl(s),fP(s,l)}function fP(s,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},es===null){if(s===null)throw Error(r(308));es=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else es=es.next=l;return c}var Gq=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(c){return c()})}},Kq=t.unstable_scheduleCallback,Wq=t.unstable_NormalPriority,un={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xx(){return{controller:new Gq,data:new Map,refCount:0}}function Vh(s){s.refCount--,s.refCount===0&&Kq(Wq,function(){s.controller.abort()})}var Lh=null,_x=0,vc=0,bc=null;function Yq(s,l){if(Lh===null){var c=Lh=[];_x=0,vc=T_(),bc={status:"pending",value:void 0,then:function(m){c.push(m)}}}return _x++,l.then(hP,hP),l}function hP(){if(--_x===0&&Lh!==null){bc!==null&&(bc.status="fulfilled");var s=Lh;Lh=null,vc=0,bc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function Xq(s,l){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<c.length;v++)(0,c[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var dP=W.S;W.S=function(s,l){XR=Un(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Yq(s,l),dP!==null&&dP(s,l)};var Vl=H(null);function wx(){var s=Vl.current;return s!==null?s:Et.pooledCache}function sg(s,l){l===null?pe(Vl,Vl.current):pe(Vl,l.pool)}function mP(){var s=wx();return s===null?null:{parent:un._currentValue,pool:s}}var xc=Error(r(460)),Ex=Error(r(474)),og=Error(r(542)),lg={then:function(){}};function pP(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gP(s,l,c){switch(c=s[c],c===void 0?s.push(l):c!==l&&(l.then(ki,ki),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,vP(s),s;default:if(typeof l.status=="string")l.then(ki,ki);else{if(s=Et,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,vP(s),s}throw zl=l,xc}}function Ll(s){try{var l=s._init;return l(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(zl=c,xc):c}}var zl=null;function yP(){if(zl===null)throw Error(r(459));var s=zl;return zl=null,s}function vP(s){if(s===xc||s===og)throw Error(r(483))}var _c=null,zh=0;function ug(s){var l=zh;return zh+=1,_c===null&&(_c=[]),gP(_c,s,l)}function Uh(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function cg(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function bP(s){function l(Y,G){if(s){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function c(Y,G){if(!s)return null;for(;G!==null;)l(Y,G),G=G.sibling;return null}function m(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function v(Y,G){return Y=Za(Y,G),Y.index=0,Y.sibling=null,Y}function x(Y,G,Z){return Y.index=Z,s?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function I(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function j(Y,G,Z,ue){return G===null||G.tag!==6?(G=fx(Z,Y.mode,ue),G.return=Y,G):(G=v(G,Z),G.return=Y,G)}function $(Y,G,Z,ue){var Oe=Z.type;return Oe===S?oe(Y,G,Z.props.children,ue,Z.key):G!==null&&(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===O&&Ll(Oe)===G.type)?(G=v(G,Z.props),Uh(G,Z),G.return=Y,G):(G=ng(Z.type,Z.key,Z.props,null,Y.mode,ue),Uh(G,Z),G.return=Y,G)}function J(Y,G,Z,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=hx(Z,Y.mode,ue),G.return=Y,G):(G=v(G,Z.children||[]),G.return=Y,G)}function oe(Y,G,Z,ue,Oe){return G===null||G.tag!==7?(G=Dl(Z,Y.mode,ue,Oe),G.return=Y,G):(G=v(G,Z),G.return=Y,G)}function ce(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=fx(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return Z=ng(G.type,G.key,G.props,null,Y.mode,Z),Uh(Z,G),Z.return=Y,Z;case w:return G=hx(G,Y.mode,Z),G.return=Y,G;case O:return G=Ll(G),ce(Y,G,Z)}if(he(G)||U(G))return G=Dl(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return ce(Y,ug(G),Z);if(G.$$typeof===N)return ce(Y,ag(Y,G),Z);cg(Y,G)}return null}function ee(Y,G,Z,ue){var Oe=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Oe!==null?null:j(Y,G,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Oe?$(Y,G,Z,ue):null;case w:return Z.key===Oe?J(Y,G,Z,ue):null;case O:return Z=Ll(Z),ee(Y,G,Z,ue)}if(he(Z)||U(Z))return Oe!==null?null:oe(Y,G,Z,ue,null);if(typeof Z.then=="function")return ee(Y,G,ug(Z),ue);if(Z.$$typeof===N)return ee(Y,G,ag(Y,Z),ue);cg(Y,Z)}return null}function ne(Y,G,Z,ue,Oe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(Z)||null,j(G,Y,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return Y=Y.get(ue.key===null?Z:ue.key)||null,$(G,Y,ue,Oe);case w:return Y=Y.get(ue.key===null?Z:ue.key)||null,J(G,Y,ue,Oe);case O:return ue=Ll(ue),ne(Y,G,Z,ue,Oe)}if(he(ue)||U(ue))return Y=Y.get(Z)||null,oe(G,Y,ue,Oe,null);if(typeof ue.then=="function")return ne(Y,G,Z,ug(ue),Oe);if(ue.$$typeof===N)return ne(Y,G,Z,ag(G,ue),Oe);cg(G,ue)}return null}function Ee(Y,G,Z,ue){for(var Oe=null,at=null,Ie=G,He=G=0,Qe=null;Ie!==null&&He<Z.length;He++){Ie.index>He?(Qe=Ie,Ie=null):Qe=Ie.sibling;var st=ee(Y,Ie,Z[He],ue);if(st===null){Ie===null&&(Ie=Qe);break}s&&Ie&&st.alternate===null&&l(Y,Ie),G=x(st,G,He),at===null?Oe=st:at.sibling=st,at=st,Ie=Qe}if(He===Z.length)return c(Y,Ie),tt&&Ja(Y,He),Oe;if(Ie===null){for(;He<Z.length;He++)Ie=ce(Y,Z[He],ue),Ie!==null&&(G=x(Ie,G,He),at===null?Oe=Ie:at.sibling=Ie,at=Ie);return tt&&Ja(Y,He),Oe}for(Ie=m(Ie);He<Z.length;He++)Qe=ne(Ie,Y,He,Z[He],ue),Qe!==null&&(s&&Qe.alternate!==null&&Ie.delete(Qe.key===null?He:Qe.key),G=x(Qe,G,He),at===null?Oe=Qe:at.sibling=Qe,at=Qe);return s&&Ie.forEach(function(Po){return l(Y,Po)}),tt&&Ja(Y,He),Oe}function ke(Y,G,Z,ue){if(Z==null)throw Error(r(151));for(var Oe=null,at=null,Ie=G,He=G=0,Qe=null,st=Z.next();Ie!==null&&!st.done;He++,st=Z.next()){Ie.index>He?(Qe=Ie,Ie=null):Qe=Ie.sibling;var Po=ee(Y,Ie,st.value,ue);if(Po===null){Ie===null&&(Ie=Qe);break}s&&Ie&&Po.alternate===null&&l(Y,Ie),G=x(Po,G,He),at===null?Oe=Po:at.sibling=Po,at=Po,Ie=Qe}if(st.done)return c(Y,Ie),tt&&Ja(Y,He),Oe;if(Ie===null){for(;!st.done;He++,st=Z.next())st=ce(Y,st.value,ue),st!==null&&(G=x(st,G,He),at===null?Oe=st:at.sibling=st,at=st);return tt&&Ja(Y,He),Oe}for(Ie=m(Ie);!st.done;He++,st=Z.next())st=ne(Ie,Y,He,st.value,ue),st!==null&&(s&&st.alternate!==null&&Ie.delete(st.key===null?He:st.key),G=x(st,G,He),at===null?Oe=st:at.sibling=st,at=st);return s&&Ie.forEach(function(o$){return l(Y,o$)}),tt&&Ja(Y,He),Oe}function wt(Y,G,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Oe=Z.key;G!==null;){if(G.key===Oe){if(Oe=Z.type,Oe===S){if(G.tag===7){c(Y,G.sibling),ue=v(G,Z.props.children),ue.return=Y,Y=ue;break e}}else if(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===O&&Ll(Oe)===G.type){c(Y,G.sibling),ue=v(G,Z.props),Uh(ue,Z),ue.return=Y,Y=ue;break e}c(Y,G);break}else l(Y,G);G=G.sibling}Z.type===S?(ue=Dl(Z.props.children,Y.mode,ue,Z.key),ue.return=Y,Y=ue):(ue=ng(Z.type,Z.key,Z.props,null,Y.mode,ue),Uh(ue,Z),ue.return=Y,Y=ue)}return I(Y);case w:e:{for(Oe=Z.key;G!==null;){if(G.key===Oe)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){c(Y,G.sibling),ue=v(G,Z.children||[]),ue.return=Y,Y=ue;break e}else{c(Y,G);break}else l(Y,G);G=G.sibling}ue=hx(Z,Y.mode,ue),ue.return=Y,Y=ue}return I(Y);case O:return Z=Ll(Z),wt(Y,G,Z,ue)}if(he(Z))return Ee(Y,G,Z,ue);if(U(Z)){if(Oe=U(Z),typeof Oe!="function")throw Error(r(150));return Z=Oe.call(Z),ke(Y,G,Z,ue)}if(typeof Z.then=="function")return wt(Y,G,ug(Z),ue);if(Z.$$typeof===N)return wt(Y,G,ag(Y,Z),ue);cg(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(c(Y,G.sibling),ue=v(G,Z),ue.return=Y,Y=ue):(c(Y,G),ue=fx(Z,Y.mode,ue),ue.return=Y,Y=ue),I(Y)):c(Y,G)}return function(Y,G,Z,ue){try{zh=0;var Oe=wt(Y,G,Z,ue);return _c=null,Oe}catch(Ie){if(Ie===xc||Ie===og)throw Ie;var at=zr(29,Ie,null,Y.mode);return at.lanes=ue,at.return=Y,at}}}var Ul=bP(!0),xP=bP(!1),fo=!1;function Tx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sx(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ho(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function mo(s,l,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(ut&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=tg(s),rP(s,null,c),l}return eg(s,m,l,c),tg(s)}function Bh(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,mh(s,c)}}function Ax(s,l){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=I:x=x.next=I,c=c.next}while(c!==null);x===null?v=x=l:x=x.next=l}else v=x=l;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}var Ix=!1;function Fh(){if(Ix){var s=bc;if(s!==null)throw s}}function qh(s,l,c,m){Ix=!1;var v=s.updateQueue;fo=!1;var x=v.firstBaseUpdate,I=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var $=j,J=$.next;$.next=null,I===null?x=J:I.next=J,I=$;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==I&&(j===null?oe.firstBaseUpdate=J:j.next=J,oe.lastBaseUpdate=$))}if(x!==null){var ce=v.baseState;I=0,oe=J=$=null,j=x;do{var ee=j.lane&-536870913,ne=ee!==j.lane;if(ne?(Xe&ee)===ee:(m&ee)===ee){ee!==0&&ee===vc&&(Ix=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ee=s,ke=j;ee=l;var wt=c;switch(ke.tag){case 1:if(Ee=ke.payload,typeof Ee=="function"){ce=Ee.call(wt,ce,ee);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ke.payload,ee=typeof Ee=="function"?Ee.call(wt,ce,ee):Ee,ee==null)break e;ce=p({},ce,ee);break e;case 2:fo=!0}}ee=j.callback,ee!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(J=oe=ne,$=ce):oe=oe.next=ne,I|=ee;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);oe===null&&($=ce),v.baseState=$,v.firstBaseUpdate=J,v.lastBaseUpdate=oe,x===null&&(v.shared.lanes=0),bo|=I,s.lanes=I,s.memoizedState=ce}}function _P(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function wP(s,l){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)_P(c[s],l)}var wc=H(null),fg=H(0);function EP(s,l){s=cs,pe(fg,s),pe(wc,l),cs=s|l.baseLanes}function Cx(){pe(fg,cs),pe(wc,wc.current)}function Px(){cs=fg.current,ae(wc),ae(fg)}var Ur=H(null),mi=null;function po(s){var l=s.alternate;pe(nn,nn.current&1),pe(Ur,s),mi===null&&(l===null||wc.current!==null||l.memoizedState!==null)&&(mi=s)}function Rx(s){pe(nn,nn.current),pe(Ur,s),mi===null&&(mi=s)}function TP(s){s.tag===22?(pe(nn,nn.current),pe(Ur,s),mi===null&&(mi=s)):go()}function go(){pe(nn,nn.current),pe(Ur,Ur.current)}function Br(s){ae(Ur),mi===s&&(mi=null),ae(nn)}var nn=H(0);function hg(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||j_(c)||V_(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ns=0,$e=null,xt=null,cn=null,dg=!1,Ec=!1,Bl=!1,mg=0,$h=0,Tc=null,Qq=0;function Gt(){throw Error(r(321))}function Ox(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!Lr(s[c],l[c]))return!1;return!0}function Nx(s,l,c,m,v,x){return ns=x,$e=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,W.H=s===null||s.memoizedState===null?oR:Kx,Bl=!1,x=c(m,v),Bl=!1,Ec&&(x=AP(l,c,m,v)),SP(s),x}function SP(s){W.H=Kh;var l=xt!==null&&xt.next!==null;if(ns=0,cn=xt=$e=null,dg=!1,$h=0,Tc=null,l)throw Error(r(300));s===null||fn||(s=s.dependencies,s!==null&&ig(s)&&(fn=!0))}function AP(s,l,c,m){$e=s;var v=0;do{if(Ec&&(Tc=null),$h=0,Ec=!1,25<=v)throw Error(r(301));if(v+=1,cn=xt=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=lR,x=l(c,m)}while(Ec);return x}function Zq(){var s=W.H,l=s.useState()[0];return l=typeof l.then=="function"?Hh(l):l,s=s.useState()[0],(xt!==null?xt.memoizedState:null)!==s&&($e.flags|=1024),l}function Dx(){var s=mg!==0;return mg=0,s}function Mx(s,l,c){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~c}function kx(s){if(dg){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}dg=!1}ns=0,cn=xt=$e=null,Ec=!1,$h=mg=0,Tc=null}function dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?$e.memoizedState=cn=s:cn=cn.next=s,cn}function rn(){if(xt===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var l=cn===null?$e.memoizedState:cn.next;if(l!==null)cn=l,xt=s;else{if(s===null)throw $e.alternate===null?Error(r(467)):Error(r(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},cn===null?$e.memoizedState=cn=s:cn=cn.next=s}return cn}function pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hh(s){var l=$h;return $h+=1,Tc===null&&(Tc=[]),s=gP(Tc,s,l),l=$e,(cn===null?l.memoizedState:cn.next)===null&&(l=l.alternate,W.H=l===null||l.memoizedState===null?oR:Kx),s}function gg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hh(s);if(s.$$typeof===N)return $n(s)}throw Error(r(438,String(s)))}function jx(s){var l=null,c=$e.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=$e.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=pg(),$e.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(s),m=0;m<s;m++)c[m]=F;return l.index++,c}function rs(s,l){return typeof l=="function"?l(s):l}function yg(s){var l=rn();return Vx(l,xt,s)}function Vx(s,l,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=s.baseQueue,x=m.pending;if(x!==null){if(v!==null){var I=v.next;v.next=x.next,x.next=I}l.baseQueue=v=x,m.pending=null}if(x=s.baseState,v===null)s.memoizedState=x;else{l=v.next;var j=I=null,$=null,J=l,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(Xe&ce)===ce:(ns&ce)===ce){var ee=J.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===vc&&(oe=!0);else if((ns&ee)===ee){J=J.next,ee===vc&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(j=$=ce,I=x):$=$.next=ce,$e.lanes|=ee,bo|=ee;ce=J.action,Bl&&c(x,ce),x=J.hasEagerState?J.eagerState:c(x,ce)}else ee={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(j=$=ee,I=x):$=$.next=ee,$e.lanes|=ce,bo|=ce;J=J.next}while(J!==null&&J!==l);if($===null?I=x:$.next=j,!Lr(x,s.memoizedState)&&(fn=!0,oe&&(c=bc,c!==null)))throw c;s.memoizedState=x,s.baseState=I,s.baseQueue=$,m.lastRenderedState=x}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Lx(s){var l=rn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,x=l.memoizedState;if(v!==null){c.pending=null;var I=v=v.next;do x=s(x,I.action),I=I.next;while(I!==v);Lr(x,l.memoizedState)||(fn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),c.lastRenderedState=x}return[x,m]}function IP(s,l,c){var m=$e,v=rn(),x=tt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=l();var I=!Lr((xt||v).memoizedState,c);if(I&&(v.memoizedState=c,fn=!0),v=v.queue,Bx(RP.bind(null,m,v,s),[s]),v.getSnapshot!==l||I||cn!==null&&cn.memoizedState.tag&1){if(m.flags|=2048,Sc(9,{destroy:void 0},PP.bind(null,m,v,c,l),null),Et===null)throw Error(r(349));x||(ns&127)!==0||CP(m,l,c)}return c}function CP(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=$e.updateQueue,l===null?(l=pg(),$e.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function PP(s,l,c,m){l.value=c,l.getSnapshot=m,OP(l)&&NP(s)}function RP(s,l,c){return c(function(){OP(l)&&NP(s)})}function OP(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!Lr(s,c)}catch{return!0}}function NP(s){var l=Nl(s,2);l!==null&&Pr(l,s,2)}function zx(s){var l=dr();if(typeof s=="function"){var c=s;if(s=c(),Bl){ii(!0);try{c()}finally{ii(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},l}function DP(s,l,c,m){return s.baseState=c,Vx(s,xt,typeof m=="function"?m:rs)}function Jq(s,l,c,m,v){if(xg(s))throw Error(r(485));if(s=l.action,s!==null){var x={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};W.T!==null?c(!0):x.isTransition=!1,m(x),c=l.pending,c===null?(x.next=l.pending=x,MP(l,x)):(x.next=c.next,l.pending=c.next=x)}}function MP(s,l){var c=l.action,m=l.payload,v=s.state;if(l.isTransition){var x=W.T,I={};W.T=I;try{var j=c(v,m),$=W.S;$!==null&&$(I,j),kP(s,l,j)}catch(J){Ux(s,l,J)}finally{x!==null&&I.types!==null&&(x.types=I.types),W.T=x}}else try{x=c(v,m),kP(s,l,x)}catch(J){Ux(s,l,J)}}function kP(s,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){jP(s,l,m)},function(m){return Ux(s,l,m)}):jP(s,l,c)}function jP(s,l,c){l.status="fulfilled",l.value=c,VP(l),s.state=c,l=s.pending,l!==null&&(c=l.next,c===l?s.pending=null:(c=c.next,l.next=c,MP(s,c)))}function Ux(s,l,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,VP(l),l=l.next;while(l!==m)}s.action=null}function VP(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function LP(s,l){return l}function zP(s,l){if(tt){var c=Et.formState;if(c!==null){e:{var m=$e;if(tt){if(Rt){t:{for(var v=Rt,x=di;v.nodeType!==8;){if(!x){v=null;break t}if(v=pi(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Rt=pi(v.nextSibling),m=v.data==="F!";break e}}uo(m)}m=!1}m&&(l=c[0])}}return c=dr(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LP,lastRenderedState:l},c.queue=m,c=iR.bind(null,$e,m),m.dispatch=c,m=zx(!1),x=Gx.bind(null,$e,!1,m.queue),m=dr(),v={state:l,dispatch:null,action:s,pending:null},m.queue=v,c=Jq.bind(null,$e,v,x,c),v.dispatch=c,m.memoizedState=s,[l,c,!1]}function UP(s){var l=rn();return BP(l,xt,s)}function BP(s,l,c){if(l=Vx(s,l,LP)[0],s=yg(rs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Hh(l)}catch(I){throw I===xc?og:I}else m=l;l=rn();var v=l.queue,x=v.dispatch;return c!==l.memoizedState&&($e.flags|=2048,Sc(9,{destroy:void 0},e7.bind(null,v,c),null)),[m,x,s]}function e7(s,l){s.action=l}function FP(s){var l=rn(),c=xt;if(c!==null)return BP(l,c,s);rn(),l=l.memoizedState,c=rn();var m=c.queue.dispatch;return c.memoizedState=s,[l,m,!1]}function Sc(s,l,c,m){return s={tag:s,create:c,deps:m,inst:l,next:null},l=$e.updateQueue,l===null&&(l=pg(),$e.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,l.lastEffect=s),s}function qP(){return rn().memoizedState}function vg(s,l,c,m){var v=dr();$e.flags|=s,v.memoizedState=Sc(1|l,{destroy:void 0},c,m===void 0?null:m)}function bg(s,l,c,m){var v=rn();m=m===void 0?null:m;var x=v.memoizedState.inst;xt!==null&&m!==null&&Ox(m,xt.memoizedState.deps)?v.memoizedState=Sc(l,x,c,m):($e.flags|=s,v.memoizedState=Sc(1|l,x,c,m))}function $P(s,l){vg(8390656,8,s,l)}function Bx(s,l){bg(2048,8,s,l)}function t7(s){$e.flags|=4;var l=$e.updateQueue;if(l===null)l=pg(),$e.updateQueue=l,l.events=[s];else{var c=l.events;c===null?l.events=[s]:c.push(s)}}function HP(s){var l=rn().memoizedState;return t7({ref:l,nextImpl:s}),function(){if((ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function GP(s,l){return bg(4,2,s,l)}function KP(s,l){return bg(4,4,s,l)}function WP(s,l){if(typeof l=="function"){s=s();var c=l(s);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function YP(s,l,c){c=c!=null?c.concat([s]):null,bg(4,4,WP.bind(null,l,s),c)}function Fx(){}function XP(s,l){var c=rn();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&Ox(l,m[1])?m[0]:(c.memoizedState=[s,l],s)}function QP(s,l){var c=rn();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&Ox(l,m[1]))return m[0];if(m=s(),Bl){ii(!0);try{s()}finally{ii(!1)}}return c.memoizedState=[m,l],m}function qx(s,l,c){return c===void 0||(ns&1073741824)!==0&&(Xe&261930)===0?s.memoizedState=l:(s.memoizedState=c,s=ZR(),$e.lanes|=s,bo|=s,c)}function ZP(s,l,c,m){return Lr(c,l)?c:wc.current!==null?(s=qx(s,c,m),Lr(s,l)||(fn=!0),s):(ns&42)===0||(ns&1073741824)!==0&&(Xe&261930)===0?(fn=!0,s.memoizedState=c):(s=ZR(),$e.lanes|=s,bo|=s,l)}function JP(s,l,c,m,v){var x=ie.p;ie.p=x!==0&&8>x?x:8;var I=W.T,j={};W.T=j,Gx(s,!1,l,c);try{var $=v(),J=W.S;if(J!==null&&J(j,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var oe=Xq($,m);Gh(s,l,oe,$r(s))}else Gh(s,l,m,$r(s))}catch(ce){Gh(s,l,{then:function(){},status:"rejected",reason:ce},$r())}finally{ie.p=x,I!==null&&j.types!==null&&(I.types=j.types),W.T=I}}function n7(){}function $x(s,l,c,m){if(s.tag!==5)throw Error(r(476));var v=eR(s).queue;JP(s,v,l,de,c===null?n7:function(){return tR(s),c(m)})}function eR(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:de},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:c},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function tR(s){var l=eR(s);l.next===null&&(l=s.alternate.memoizedState),Gh(s,l.next.queue,{},$r())}function Hx(){return $n(ud)}function nR(){return rn().memoizedState}function rR(){return rn().memoizedState}function r7(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var c=$r();s=ho(c);var m=mo(l,s,c);m!==null&&(Pr(m,l,c),Bh(m,l,c)),l={cache:xx()},s.payload=l;return}l=l.return}}function i7(s,l,c){var m=$r();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},xg(s)?aR(l,c):(c=ux(s,l,c,m),c!==null&&(Pr(c,s,m),sR(c,l,m)))}function iR(s,l,c){var m=$r();Gh(s,l,c,m)}function Gh(s,l,c,m){var v={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(xg(s))aR(l,v);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var I=l.lastRenderedState,j=x(I,c);if(v.hasEagerState=!0,v.eagerState=j,Lr(j,I))return eg(s,l,v,0),Et===null&&Jp(),!1}catch{}if(c=ux(s,l,v,m),c!==null)return Pr(c,s,m),sR(c,l,m),!0}return!1}function Gx(s,l,c,m){if(m={lane:2,revertLane:T_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},xg(s)){if(l)throw Error(r(479))}else l=ux(s,c,m,2),l!==null&&Pr(l,s,2)}function xg(s){var l=s.alternate;return s===$e||l!==null&&l===$e}function aR(s,l){Ec=dg=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function sR(s,l,c){if((c&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,mh(s,c)}}var Kh={readContext:$n,use:gg,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};Kh.useEffectEvent=Gt;var oR={readContext:$n,use:gg,useCallback:function(s,l){return dr().memoizedState=[s,l===void 0?null:l],s},useContext:$n,useEffect:$P,useImperativeHandle:function(s,l,c){c=c!=null?c.concat([s]):null,vg(4194308,4,WP.bind(null,l,s),c)},useLayoutEffect:function(s,l){return vg(4194308,4,s,l)},useInsertionEffect:function(s,l){vg(4,2,s,l)},useMemo:function(s,l){var c=dr();l=l===void 0?null:l;var m=s();if(Bl){ii(!0);try{s()}finally{ii(!1)}}return c.memoizedState=[m,l],m},useReducer:function(s,l,c){var m=dr();if(c!==void 0){var v=c(l);if(Bl){ii(!0);try{c(l)}finally{ii(!1)}}}else v=l;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=i7.bind(null,$e,s),[m.memoizedState,s]},useRef:function(s){var l=dr();return s={current:s},l.memoizedState=s},useState:function(s){s=zx(s);var l=s.queue,c=iR.bind(null,$e,l);return l.dispatch=c,[s.memoizedState,c]},useDebugValue:Fx,useDeferredValue:function(s,l){var c=dr();return qx(c,s,l)},useTransition:function(){var s=zx(!1);return s=JP.bind(null,$e,s.queue,!0,!1),dr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,c){var m=$e,v=dr();if(tt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),Et===null)throw Error(r(349));(Xe&127)!==0||CP(m,l,c)}v.memoizedState=c;var x={value:c,getSnapshot:l};return v.queue=x,$P(RP.bind(null,m,x,s),[s]),m.flags|=2048,Sc(9,{destroy:void 0},PP.bind(null,m,x,c,l),null),c},useId:function(){var s=dr(),l=Et.identifierPrefix;if(tt){var c=ba,m=va;c=(m&~(1<<32-en(m)-1)).toString(32)+c,l="_"+l+"R_"+c,c=mg++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=Qq++,l="_"+l+"r_"+c.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Hx,useFormState:zP,useActionState:zP,useOptimistic:function(s){var l=dr();l.memoizedState=l.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Gx.bind(null,$e,!0,c),c.dispatch=l,[s,l]},useMemoCache:jx,useCacheRefresh:function(){return dr().memoizedState=r7.bind(null,$e)},useEffectEvent:function(s){var l=dr(),c={impl:s};return l.memoizedState=c,function(){if((ut&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Kx={readContext:$n,use:gg,useCallback:XP,useContext:$n,useEffect:Bx,useImperativeHandle:YP,useInsertionEffect:GP,useLayoutEffect:KP,useMemo:QP,useReducer:yg,useRef:qP,useState:function(){return yg(rs)},useDebugValue:Fx,useDeferredValue:function(s,l){var c=rn();return ZP(c,xt.memoizedState,s,l)},useTransition:function(){var s=yg(rs)[0],l=rn().memoizedState;return[typeof s=="boolean"?s:Hh(s),l]},useSyncExternalStore:IP,useId:nR,useHostTransitionStatus:Hx,useFormState:UP,useActionState:UP,useOptimistic:function(s,l){var c=rn();return DP(c,xt,s,l)},useMemoCache:jx,useCacheRefresh:rR};Kx.useEffectEvent=HP;var lR={readContext:$n,use:gg,useCallback:XP,useContext:$n,useEffect:Bx,useImperativeHandle:YP,useInsertionEffect:GP,useLayoutEffect:KP,useMemo:QP,useReducer:Lx,useRef:qP,useState:function(){return Lx(rs)},useDebugValue:Fx,useDeferredValue:function(s,l){var c=rn();return xt===null?qx(c,s,l):ZP(c,xt.memoizedState,s,l)},useTransition:function(){var s=Lx(rs)[0],l=rn().memoizedState;return[typeof s=="boolean"?s:Hh(s),l]},useSyncExternalStore:IP,useId:nR,useHostTransitionStatus:Hx,useFormState:FP,useActionState:FP,useOptimistic:function(s,l){var c=rn();return xt!==null?DP(c,xt,s,l):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:jx,useCacheRefresh:rR};lR.useEffectEvent=HP;function Wx(s,l,c,m){l=s.memoizedState,c=c(m,l),c=c==null?l:p({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Yx={enqueueSetState:function(s,l,c){s=s._reactInternals;var m=$r(),v=ho(m);v.payload=l,c!=null&&(v.callback=c),l=mo(s,v,m),l!==null&&(Pr(l,s,m),Bh(l,s,m))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var m=$r(),v=ho(m);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=mo(s,v,m),l!==null&&(Pr(l,s,m),Bh(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=$r(),m=ho(c);m.tag=2,l!=null&&(m.callback=l),l=mo(s,m,c),l!==null&&(Pr(l,s,c),Bh(l,s,c))}};function uR(s,l,c,m,v,x,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,x,I):l.prototype&&l.prototype.isPureReactComponent?!Dh(c,m)||!Dh(v,x):!0}function cR(s,l,c,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==s&&Yx.enqueueReplaceState(l,l.state,null)}function Fl(s,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(s=s.defaultProps){c===l&&(c=p({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}function fR(s){Zp(s)}function hR(s){console.error(s)}function dR(s){Zp(s)}function _g(s,l){try{var c=s.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function mR(s,l,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Xx(s,l,c){return c=ho(c),c.tag=3,c.payload={element:null},c.callback=function(){_g(s,l)},c}function pR(s){return s=ho(s),s.tag=3,s}function gR(s,l,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=m.value;s.payload=function(){return v(x)},s.callback=function(){mR(l,c,m)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){mR(l,c,m),typeof v!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function a7(s,l,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&yc(l,c,v,!0),c=Ur.current,c!==null){switch(c.tag){case 31:case 13:return mi===null?Dg():c.alternate===null&&Kt===0&&(Kt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===lg?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),__(s,m,v)),!1;case 22:return c.flags|=65536,m===lg?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),__(s,m,v)),!1}throw Error(r(435,c.tag))}return __(s,m,v),Dg(),!1}if(tt)return l=Ur.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==px&&(s=Error(r(422),{cause:m}),jh(ci(s,c)))):(m!==px&&(l=Error(r(423),{cause:m}),jh(ci(l,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=ci(m,c),v=Xx(s.stateNode,m,v),Ax(s,v),Kt!==4&&(Kt=2)),!1;var x=Error(r(520),{cause:m});if(x=ci(x,c),td===null?td=[x]:td.push(x),Kt!==4&&(Kt=2),l===null)return!0;m=ci(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=Xx(c.stateNode,m,s),Ax(c,s),!1;case 1:if(l=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xo===null||!xo.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=pR(v),gR(v,s,c,m),Ax(c,v),!1}c=c.return}while(c!==null);return!1}var Qx=Error(r(461)),fn=!1;function Hn(s,l,c,m){l.child=s===null?xP(l,null,c,m):Ul(l,s.child,c,m)}function yR(s,l,c,m,v){c=c.render;var x=l.ref;if("ref"in m){var I={};for(var j in m)j!=="ref"&&(I[j]=m[j])}else I=m;return jl(l),m=Nx(s,l,c,I,x,v),j=Dx(),s!==null&&!fn?(Mx(s,l,v),is(s,l,v)):(tt&&j&&dx(l),l.flags|=1,Hn(s,l,m,v),l.child)}function vR(s,l,c,m,v){if(s===null){var x=c.type;return typeof x=="function"&&!cx(x)&&x.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=x,bR(s,l,x,m,v)):(s=ng(c.type,null,m,l,l.mode,v),s.ref=l.ref,s.return=l,l.child=s)}if(x=s.child,!a_(s,v)){var I=x.memoizedProps;if(c=c.compare,c=c!==null?c:Dh,c(I,m)&&s.ref===l.ref)return is(s,l,v)}return l.flags|=1,s=Za(x,m),s.ref=l.ref,s.return=l,l.child=s}function bR(s,l,c,m,v){if(s!==null){var x=s.memoizedProps;if(Dh(x,m)&&s.ref===l.ref)if(fn=!1,l.pendingProps=m=x,a_(s,v))(s.flags&131072)!==0&&(fn=!0);else return l.lanes=s.lanes,is(s,l,v)}return Zx(s,l,c,m,v)}function xR(s,l,c,m){var v=m.children,x=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,s!==null){for(m=l.child=s.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~x}else m=0,l.child=null;return _R(s,l,x,c,m)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&sg(l,x!==null?x.cachePool:null),x!==null?EP(l,x):Cx(),TP(l);else return m=l.lanes=536870912,_R(s,l,x!==null?x.baseLanes|c:c,c,m)}else x!==null?(sg(l,x.cachePool),EP(l,x),go(),l.memoizedState=null):(s!==null&&sg(l,null),Cx(),go());return Hn(s,l,v,c),l.child}function Wh(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function _R(s,l,c,m,v){var x=wx();return x=x===null?null:{parent:un._currentValue,pool:x},l.memoizedState={baseLanes:c,cachePool:x},s!==null&&sg(l,null),Cx(),TP(l),s!==null&&yc(s,l,m,!0),l.childLanes=v,null}function wg(s,l){return l=Tg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function wR(s,l,c){return Ul(l,s.child,null,c),s=wg(l,l.pendingProps),s.flags|=2,Br(l),l.memoizedState=null,s}function s7(s,l,c){var m=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(tt){if(m.mode==="hidden")return s=wg(l,m),l.lanes=536870912,Wh(null,s);if(Rx(l),(s=Rt)?(s=MO(s,di),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:oo!==null?{id:va,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},c=aP(s),c.return=l,l.child=c,qn=l,Rt=null)):s=null,s===null)throw uo(l);return l.lanes=536870912,null}return wg(l,m)}var x=s.memoizedState;if(x!==null){var I=x.dehydrated;if(Rx(l),v)if(l.flags&256)l.flags&=-257,l=wR(s,l,c);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(fn||yc(s,l,c,!1),v=(c&s.childLanes)!==0,fn||v){if(m=Et,m!==null&&(I=ph(m,c),I!==0&&I!==x.retryLane))throw x.retryLane=I,Nl(s,I),Pr(m,s,I),Qx;Dg(),l=wR(s,l,c)}else s=x.treeContext,Rt=pi(I.nextSibling),qn=l,tt=!0,lo=null,di=!1,s!==null&&lP(l,s),l=wg(l,m),l.flags|=4096;return l}return s=Za(s.child,{mode:m.mode,children:m.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Eg(s,l){var c=l.ref;if(c===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(l.flags|=4194816)}}function Zx(s,l,c,m,v){return jl(l),c=Nx(s,l,c,m,void 0,v),m=Dx(),s!==null&&!fn?(Mx(s,l,v),is(s,l,v)):(tt&&m&&dx(l),l.flags|=1,Hn(s,l,c,v),l.child)}function ER(s,l,c,m,v,x){return jl(l),l.updateQueue=null,c=AP(l,m,c,v),SP(s),m=Dx(),s!==null&&!fn?(Mx(s,l,x),is(s,l,x)):(tt&&m&&dx(l),l.flags|=1,Hn(s,l,c,x),l.child)}function TR(s,l,c,m,v){if(jl(l),l.stateNode===null){var x=dc,I=c.contextType;typeof I=="object"&&I!==null&&(x=$n(I)),x=new c(m,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Yx,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=m,x.state=l.memoizedState,x.refs={},Tx(l),I=c.contextType,x.context=typeof I=="object"&&I!==null?$n(I):dc,x.state=l.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Wx(l,c,I,m),x.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&Yx.enqueueReplaceState(x,x.state,null),qh(l,m,x,v),Fh(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){x=l.stateNode;var j=l.memoizedProps,$=Fl(c,j);x.props=$;var J=x.context,oe=c.contextType;I=dc,typeof oe=="object"&&oe!==null&&(I=$n(oe));var ce=c.getDerivedStateFromProps;oe=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",j=l.pendingProps!==j,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j||J!==I)&&cR(l,x,m,I),fo=!1;var ee=l.memoizedState;x.state=ee,qh(l,m,x,v),Fh(),J=l.memoizedState,j||ee!==J||fo?(typeof ce=="function"&&(Wx(l,c,ce,m),J=l.memoizedState),($=fo||uR(l,c,$,m,ee,J,I))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=J),x.props=m,x.state=J,x.context=I,m=$):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{x=l.stateNode,Sx(s,l),I=l.memoizedProps,oe=Fl(c,I),x.props=oe,ce=l.pendingProps,ee=x.context,J=c.contextType,$=dc,typeof J=="object"&&J!==null&&($=$n(J)),j=c.getDerivedStateFromProps,(J=typeof j=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==ce||ee!==$)&&cR(l,x,m,$),fo=!1,ee=l.memoizedState,x.state=ee,qh(l,m,x,v),Fh();var ne=l.memoizedState;I!==ce||ee!==ne||fo||s!==null&&s.dependencies!==null&&ig(s.dependencies)?(typeof j=="function"&&(Wx(l,c,j,m),ne=l.memoizedState),(oe=fo||uR(l,c,oe,m,ee,ne,$)||s!==null&&s.dependencies!==null&&ig(s.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ne,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ne,$)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ne),x.props=m,x.state=ne,x.context=$,m=oe):(typeof x.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),m=!1)}return x=m,Eg(s,l),m=(l.flags&128)!==0,x||m?(x=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,s!==null&&m?(l.child=Ul(l,s.child,null,v),l.child=Ul(l,null,c,v)):Hn(s,l,c,v),l.memoizedState=x.state,s=l.child):s=is(s,l,v),s}function SR(s,l,c,m){return Ml(),l.flags|=256,Hn(s,l,c,m),l.child}var Jx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e_(s){return{baseLanes:s,cachePool:mP()}}function t_(s,l,c){return s=s!==null?s.childLanes&~c:0,l&&(s|=qr),s}function AR(s,l,c){var m=l.pendingProps,v=!1,x=(l.flags&128)!==0,I;if((I=x)||(I=s!==null&&s.memoizedState===null?!1:(nn.current&2)!==0),I&&(v=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(tt){if(v?po(l):go(),(s=Rt)?(s=MO(s,di),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:oo!==null?{id:va,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},c=aP(s),c.return=l,l.child=c,qn=l,Rt=null)):s=null,s===null)throw uo(l);return V_(s)?l.lanes=32:l.lanes=536870912,null}var j=m.children;return m=m.fallback,v?(go(),v=l.mode,j=Tg({mode:"hidden",children:j},v),m=Dl(m,v,c,null),j.return=l,m.return=l,j.sibling=m,l.child=j,m=l.child,m.memoizedState=e_(c),m.childLanes=t_(s,I,c),l.memoizedState=Jx,Wh(null,m)):(po(l),n_(l,j))}var $=s.memoizedState;if($!==null&&(j=$.dehydrated,j!==null)){if(x)l.flags&256?(po(l),l.flags&=-257,l=r_(s,l,c)):l.memoizedState!==null?(go(),l.child=s.child,l.flags|=128,l=null):(go(),j=m.fallback,v=l.mode,m=Tg({mode:"visible",children:m.children},v),j=Dl(j,v,c,null),j.flags|=2,m.return=l,j.return=l,m.sibling=j,l.child=m,Ul(l,s.child,null,c),m=l.child,m.memoizedState=e_(c),m.childLanes=t_(s,I,c),l.memoizedState=Jx,l=Wh(null,m));else if(po(l),V_(j)){if(I=j.nextSibling&&j.nextSibling.dataset,I)var J=I.dgst;I=J,m=Error(r(419)),m.stack="",m.digest=I,jh({value:m,source:null,stack:null}),l=r_(s,l,c)}else if(fn||yc(s,l,c,!1),I=(c&s.childLanes)!==0,fn||I){if(I=Et,I!==null&&(m=ph(I,c),m!==0&&m!==$.retryLane))throw $.retryLane=m,Nl(s,m),Pr(I,s,m),Qx;j_(j)||Dg(),l=r_(s,l,c)}else j_(j)?(l.flags|=192,l.child=s.child,l=null):(s=$.treeContext,Rt=pi(j.nextSibling),qn=l,tt=!0,lo=null,di=!1,s!==null&&lP(l,s),l=n_(l,m.children),l.flags|=4096);return l}return v?(go(),j=m.fallback,v=l.mode,$=s.child,J=$.sibling,m=Za($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,J!==null?j=Za(J,j):(j=Dl(j,v,c,null),j.flags|=2),j.return=l,m.return=l,m.sibling=j,l.child=m,Wh(null,m),m=l.child,j=s.child.memoizedState,j===null?j=e_(c):(v=j.cachePool,v!==null?($=un._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=mP(),j={baseLanes:j.baseLanes|c,cachePool:v}),m.memoizedState=j,m.childLanes=t_(s,I,c),l.memoizedState=Jx,Wh(s.child,m)):(po(l),c=s.child,s=c.sibling,c=Za(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=c,l.memoizedState=null,c)}function n_(s,l){return l=Tg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Tg(s,l){return s=zr(22,s,null,l),s.lanes=0,s}function r_(s,l,c){return Ul(l,s.child,null,c),s=n_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function IR(s,l,c){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),vx(s.return,l,c)}function i_(s,l,c,m,v,x){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v,treeForkCount:x}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=c,I.tailMode=v,I.treeForkCount=x)}function CR(s,l,c){var m=l.pendingProps,v=m.revealOrder,x=m.tail;m=m.children;var I=nn.current,j=(I&2)!==0;if(j?(I=I&1|2,l.flags|=128):I&=1,pe(nn,I),Hn(s,l,m,c),m=tt?kh:0,!j&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&IR(s,c,l);else if(s.tag===19)IR(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(c=l.child,v=null;c!==null;)s=c.alternate,s!==null&&hg(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),i_(l,!1,v,c,x,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(s=v.alternate,s!==null&&hg(s)===null){l.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}i_(l,!0,c,null,x,m);break;case"together":i_(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function is(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),bo|=l.lanes,(c&l.childLanes)===0)if(s!==null){if(yc(s,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,c=Za(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=Za(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function a_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&ig(s)))}function o7(s,l,c){switch(l.tag){case 3:Ct(l,l.stateNode.containerInfo),co(l,un,s.memoizedState.cache),Ml();break;case 27:case 5:Ve(l);break;case 4:Ct(l,l.stateNode.containerInfo);break;case 10:co(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Rx(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(po(l),l.flags|=128,null):(c&l.child.childLanes)!==0?AR(s,l,c):(po(l),s=is(s,l,c),s!==null?s.sibling:null);po(l);break;case 19:var v=(s.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(yc(s,l,c,!1),m=(c&l.childLanes)!==0),v){if(m)return CR(s,l,c);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(nn,nn.current),m)break;return null;case 22:return l.lanes=0,xR(s,l,c,l.pendingProps);case 24:co(l,un,s.memoizedState.cache)}return is(s,l,c)}function PR(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps)fn=!0;else{if(!a_(s,c)&&(l.flags&128)===0)return fn=!1,o7(s,l,c);fn=(s.flags&131072)!==0}else fn=!1,tt&&(l.flags&1048576)!==0&&oP(l,kh,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(s=Ll(l.elementType),l.type=s,typeof s=="function")cx(s)?(m=Fl(s,m),l.tag=1,l=TR(null,l,s,m,c)):(l.tag=0,l=Zx(null,l,s,m,c));else{if(s!=null){var v=s.$$typeof;if(v===M){l.tag=11,l=yR(null,l,s,m,c);break e}else if(v===R){l.tag=14,l=vR(null,l,s,m,c);break e}}throw l=K(s)||s,Error(r(306,l,""))}}return l;case 0:return Zx(s,l,l.type,l.pendingProps,c);case 1:return m=l.type,v=Fl(m,l.pendingProps),TR(s,l,m,v,c);case 3:e:{if(Ct(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var x=l.memoizedState;v=x.element,Sx(s,l),qh(l,m,null,c);var I=l.memoizedState;if(m=I.cache,co(l,un,m),m!==x.cache&&bx(l,[un],c,!0),Fh(),m=I.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=SR(s,l,m,c);break e}else if(m!==v){v=ci(Error(r(424)),l),jh(v),l=SR(s,l,m,c);break e}else for(s=l.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Rt=pi(s.firstChild),qn=l,tt=!0,lo=null,di=!0,c=xP(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ml(),m===v){l=is(s,l,c);break e}Hn(s,l,m,c)}l=l.child}return l;case 26:return Eg(s,l),s===null?(c=UO(l.type,null,l.pendingProps,null))?l.memoizedState=c:tt||(c=l.type,s=l.pendingProps,m=Ug(je.current).createElement(c),m[sn]=l,m[Pn]=s,Gn(m,c,s),on(m),l.stateNode=m):l.memoizedState=UO(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ve(l),s===null&&tt&&(m=l.stateNode=VO(l.type,l.pendingProps,je.current),qn=l,di=!0,v=Rt,To(l.type)?(L_=v,Rt=pi(m.firstChild)):Rt=v),Hn(s,l,l.pendingProps.children,c),Eg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&tt&&((v=m=Rt)&&(m=V7(m,l.type,l.pendingProps,di),m!==null?(l.stateNode=m,qn=l,Rt=pi(m.firstChild),di=!1,v=!0):v=!1),v||uo(l)),Ve(l),v=l.type,x=l.pendingProps,I=s!==null?s.memoizedProps:null,m=x.children,D_(v,x)?m=null:I!==null&&D_(v,I)&&(l.flags|=32),l.memoizedState!==null&&(v=Nx(s,l,Zq,null,null,c),ud._currentValue=v),Eg(s,l),Hn(s,l,m,c),l.child;case 6:return s===null&&tt&&((s=c=Rt)&&(c=L7(c,l.pendingProps,di),c!==null?(l.stateNode=c,qn=l,Rt=null,s=!0):s=!1),s||uo(l)),null;case 13:return AR(s,l,c);case 4:return Ct(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Ul(l,null,m,c):Hn(s,l,m,c),l.child;case 11:return yR(s,l,l.type,l.pendingProps,c);case 7:return Hn(s,l,l.pendingProps,c),l.child;case 8:return Hn(s,l,l.pendingProps.children,c),l.child;case 12:return Hn(s,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,co(l,l.type,m.value),Hn(s,l,m.children,c),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,jl(l),v=$n(v),m=m(v),l.flags|=1,Hn(s,l,m,c),l.child;case 14:return vR(s,l,l.type,l.pendingProps,c);case 15:return bR(s,l,l.type,l.pendingProps,c);case 19:return CR(s,l,c);case 31:return s7(s,l,c);case 22:return xR(s,l,c,l.pendingProps);case 24:return jl(l),m=$n(un),s===null?(v=wx(),v===null&&(v=Et,x=xx(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),l.memoizedState={parent:m,cache:v},Tx(l),co(l,un,v)):((s.lanes&c)!==0&&(Sx(s,l),qh(l,null,null,c),Fh()),v=s.memoizedState,x=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),co(l,un,m)):(m=x.cache,co(l,un,m),m!==v.cache&&bx(l,[un],c,!0))),Hn(s,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function as(s){s.flags|=4}function s_(s,l,c,m,v){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(nO())s.flags|=8192;else throw zl=lg,Ex}else s.flags&=-16777217}function RR(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!HO(l))if(nO())s.flags|=8192;else throw zl=lg,Ex}function Sg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Op():536870912,s.lanes|=l,Pc|=l)}function Yh(s,l){if(!tt)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Ot(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(l)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,l}function l7(s,l,c){var m=l.pendingProps;switch(mx(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(l),null;case 1:return Ot(l),null;case 3:return c=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),ts(un),se(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(gc(l)?as(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gx())),Ot(l),null;case 26:var v=l.type,x=l.memoizedState;return s===null?(as(l),x!==null?(Ot(l),RR(l,x)):(Ot(l),s_(l,v,null,m,c))):x?x!==s.memoizedState?(as(l),Ot(l),RR(l,x)):(Ot(l),l.flags&=-16777217):(s=s.memoizedProps,s!==m&&as(l),Ot(l),s_(l,v,s,m,c)),null;case 27:if(Fe(l),c=je.current,v=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&as(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Ot(l),null}s=ge.current,gc(l)?uP(l):(s=VO(v,m,c),l.stateNode=s,as(l))}return Ot(l),null;case 5:if(Fe(l),v=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&as(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Ot(l),null}if(x=ge.current,gc(l))uP(l);else{var I=Ug(je.current);switch(x){case 1:x=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=I.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?I.createElement(v,{is:m.is}):I.createElement(v)}}x[sn]=l,x[Pn]=m;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)x.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=x;e:switch(Gn(x,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&as(l)}}return Ot(l),s_(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,c),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&as(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=je.current,gc(l)){if(s=l.stateNode,c=l.memoizedProps,m=null,v=qn,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[sn]=l,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||AO(s.nodeValue,c)),s||uo(l,!0)}else s=Ug(s).createTextNode(m),s[sn]=l,l.stateNode=s}return Ot(l),null;case 31:if(c=l.memoizedState,s===null||s.memoizedState!==null){if(m=gc(l),c!==null){if(s===null){if(!m)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[sn]=l}else Ml(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ot(l),s=!1}else c=gx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return l.flags&256?(Br(l),l):(Br(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Ot(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=gc(l),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[sn]=l}else Ml(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ot(l),v=!1}else v=gx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Br(l),l):(Br(l),null)}return Br(l),(l.flags&128)!==0?(l.lanes=c,l):(c=m!==null,s=s!==null&&s.memoizedState!==null,c&&(m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==v&&(m.flags|=2048)),c!==s&&c&&(l.child.flags|=8192),Sg(l,l.updateQueue),Ot(l),null);case 4:return se(),s===null&&C_(l.stateNode.containerInfo),Ot(l),null;case 10:return ts(l.type),Ot(l),null;case 19:if(ae(nn),m=l.memoizedState,m===null)return Ot(l),null;if(v=(l.flags&128)!==0,x=m.rendering,x===null)if(v)Yh(m,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(x=hg(s),x!==null){for(l.flags|=128,Yh(m,!1),s=x.updateQueue,l.updateQueue=s,Sg(l,s),l.subtreeFlags=0,s=c,c=l.child;c!==null;)iP(c,s),c=c.sibling;return pe(nn,nn.current&1|2),tt&&Ja(l,m.treeForkCount),l.child}s=s.sibling}m.tail!==null&&Un()>Rg&&(l.flags|=128,v=!0,Yh(m,!1),l.lanes=4194304)}else{if(!v)if(s=hg(x),s!==null){if(l.flags|=128,v=!0,s=s.updateQueue,l.updateQueue=s,Sg(l,s),Yh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!tt)return Ot(l),null}else 2*Un()-m.renderingStartTime>Rg&&c!==536870912&&(l.flags|=128,v=!0,Yh(m,!1),l.lanes=4194304);m.isBackwards?(x.sibling=l.child,l.child=x):(s=m.last,s!==null?s.sibling=x:l.child=x,m.last=x)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Un(),s.sibling=null,c=nn.current,pe(nn,v?c&1|2:c&1),tt&&Ja(l,m.treeForkCount),s):(Ot(l),null);case 22:case 23:return Br(l),Px(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&(Ot(l),l.subtreeFlags&6&&(l.flags|=8192)):Ot(l),c=l.updateQueue,c!==null&&Sg(l,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),s!==null&&ae(Vl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),ts(un),Ot(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function u7(s,l){switch(mx(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return ts(un),se(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Fe(l),null;case 31:if(l.memoizedState!==null){if(Br(l),l.alternate===null)throw Error(r(340));Ml()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Br(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ml()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ae(nn),null;case 4:return se(),null;case 10:return ts(l.type),null;case 22:case 23:return Br(l),Px(),s!==null&&ae(Vl),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return ts(un),null;case 25:return null;default:return null}}function OR(s,l){switch(mx(l),l.tag){case 3:ts(un),se();break;case 26:case 27:case 5:Fe(l);break;case 4:se();break;case 31:l.memoizedState!==null&&Br(l);break;case 13:Br(l);break;case 19:ae(nn);break;case 10:ts(l.type);break;case 22:case 23:Br(l),Px(),s!==null&&ae(Vl);break;case 24:ts(un)}}function Xh(s,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&s)===s){m=void 0;var x=c.create,I=c.inst;m=x(),I.destroy=m}c=c.next}while(c!==v)}}catch(j){mt(l,l.return,j)}}function yo(s,l,c){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var x=v.next;m=x;do{if((m.tag&s)===s){var I=m.inst,j=I.destroy;if(j!==void 0){I.destroy=void 0,v=l;var $=c,J=j;try{J()}catch(oe){mt(v,$,oe)}}}m=m.next}while(m!==x)}}catch(oe){mt(l,l.return,oe)}}function NR(s){var l=s.updateQueue;if(l!==null){var c=s.stateNode;try{wP(l,c)}catch(m){mt(s,s.return,m)}}}function DR(s,l,c){c.props=Fl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){mt(s,l,m)}}function Qh(s,l){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(v){mt(s,l,v)}}function xa(s,l){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){mt(s,l,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){mt(s,l,v)}else c.current=null}function MR(s){var l=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){mt(s,s.return,v)}}function o_(s,l,c){try{var m=s.stateNode;O7(m,s.type,c,l),m[Pn]=l}catch(v){mt(s,s.return,v)}}function kR(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&To(s.type)||s.tag===4}function l_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||kR(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&To(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function u_(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(s),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=ki));else if(m!==4&&(m===27&&To(s.type)&&(c=s.stateNode,l=null),s=s.child,s!==null))for(u_(s,l,c),s=s.sibling;s!==null;)u_(s,l,c),s=s.sibling}function Ag(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(m!==4&&(m===27&&To(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Ag(s,l,c),s=s.sibling;s!==null;)Ag(s,l,c),s=s.sibling}function jR(s){var l=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Gn(l,m,c),l[sn]=s,l[Pn]=c}catch(x){mt(s,s.return,x)}}var ss=!1,hn=!1,c_=!1,VR=typeof WeakSet=="function"?WeakSet:Set,On=null;function c7(s,l){if(s=s.containerInfo,O_=Kg,s=YC(s),rx(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var I=0,j=-1,$=-1,J=0,oe=0,ce=s,ee=null;t:for(;;){for(var ne;ce!==c||v!==0&&ce.nodeType!==3||(j=I+v),ce!==x||m!==0&&ce.nodeType!==3||($=I+m),ce.nodeType===3&&(I+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ee=ce,ce=ne;for(;;){if(ce===s)break t;if(ee===c&&++J===v&&(j=I),ee===x&&++oe===m&&($=I),(ne=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ne}c=j===-1||$===-1?null:{start:j,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(N_={focusedElem:s,selectionRange:c},Kg=!1,On=l;On!==null;)if(l=On,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,On=s;else for(;On!==null;){switch(l=On,x=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)v=s[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,c=l,v=x.memoizedProps,x=x.memoizedState,m=c.stateNode;try{var Ee=Fl(c.type,v);s=m.getSnapshotBeforeUpdate(Ee,x),m.__reactInternalSnapshotBeforeUpdate=s}catch(ke){mt(c,c.return,ke)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,c=s.nodeType,c===9)k_(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":k_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,On=s;break}On=l.return}}function LR(s,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ls(s,c),m&4&&Xh(5,c);break;case 1:if(ls(s,c),m&4)if(s=c.stateNode,l===null)try{s.componentDidMount()}catch(I){mt(c,c.return,I)}else{var v=Fl(c.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(v,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){mt(c,c.return,I)}}m&64&&NR(c),m&512&&Qh(c,c.return);break;case 3:if(ls(s,c),m&64&&(s=c.updateQueue,s!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{wP(s,l)}catch(I){mt(c,c.return,I)}}break;case 27:l===null&&m&4&&jR(c);case 26:case 5:ls(s,c),l===null&&m&4&&MR(c),m&512&&Qh(c,c.return);break;case 12:ls(s,c);break;case 31:ls(s,c),m&4&&BR(s,c);break;case 13:ls(s,c),m&4&&FR(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=b7.bind(null,c),z7(s,c))));break;case 22:if(m=c.memoizedState!==null||ss,!m){l=l!==null&&l.memoizedState!==null||hn,v=ss;var x=hn;ss=m,(hn=l)&&!x?us(s,c,(c.subtreeFlags&8772)!==0):ls(s,c),ss=v,hn=x}break;case 30:break;default:ls(s,c)}}function zR(s){var l=s.alternate;l!==null&&(s.alternate=null,zR(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Ju(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Mt=null,Sr=!1;function os(s,l,c){for(c=c.child;c!==null;)UR(s,l,c),c=c.sibling}function UR(s,l,c){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Oi,c)}catch{}switch(c.tag){case 26:hn||xa(c,l),os(s,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:hn||xa(c,l);var m=Mt,v=Sr;To(c.type)&&(Mt=c.stateNode,Sr=!1),os(s,l,c),sd(c.stateNode),Mt=m,Sr=v;break;case 5:hn||xa(c,l);case 6:if(m=Mt,v=Sr,Mt=null,os(s,l,c),Mt=m,Sr=v,Mt!==null)if(Sr)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(c.stateNode)}catch(x){mt(c,l,x)}else try{Mt.removeChild(c.stateNode)}catch(x){mt(c,l,x)}break;case 18:Mt!==null&&(Sr?(s=Mt,NO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Vc(s)):NO(Mt,c.stateNode));break;case 4:m=Mt,v=Sr,Mt=c.stateNode.containerInfo,Sr=!0,os(s,l,c),Mt=m,Sr=v;break;case 0:case 11:case 14:case 15:yo(2,c,l),hn||yo(4,c,l),os(s,l,c);break;case 1:hn||(xa(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&DR(c,l,m)),os(s,l,c);break;case 21:os(s,l,c);break;case 22:hn=(m=hn)||c.memoizedState!==null,os(s,l,c),hn=m;break;default:os(s,l,c)}}function BR(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Vc(s)}catch(c){mt(l,l.return,c)}}}function FR(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vc(s)}catch(c){mt(l,l.return,c)}}function f7(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new VR),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new VR),l;default:throw Error(r(435,s.tag))}}function Ig(s,l){var c=f7(s);l.forEach(function(m){if(!c.has(m)){c.add(m);var v=x7.bind(null,s,m);m.then(v,v)}})}function Ar(s,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],x=s,I=l,j=I;e:for(;j!==null;){switch(j.tag){case 27:if(To(j.type)){Mt=j.stateNode,Sr=!1;break e}break;case 5:Mt=j.stateNode,Sr=!1;break e;case 3:case 4:Mt=j.stateNode.containerInfo,Sr=!0;break e}j=j.return}if(Mt===null)throw Error(r(160));UR(x,I,v),Mt=null,Sr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)qR(l,s),l=l.sibling}var Bi=null;function qR(s,l){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ar(l,s),Ir(s),m&4&&(yo(3,s,s.return),Xh(3,s),yo(5,s,s.return));break;case 1:Ar(l,s),Ir(s),m&512&&(hn||c===null||xa(c,c.return)),m&64&&ss&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=Bi;if(Ar(l,s),Ir(s),m&512&&(hn||c===null||xa(c,c.return)),m&4){var x=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":x=v.getElementsByTagName("title")[0],(!x||x[sa]||x[sn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(m),v.head.insertBefore(x,v.querySelector("head > title"))),Gn(x,m,c),x[sn]=s,on(x),m=x;break e;case"link":var I=qO("link","href",v).get(m+(c.href||""));if(I){for(var j=0;j<I.length;j++)if(x=I[j],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(j,1);break t}}x=v.createElement(m),Gn(x,m,c),v.head.appendChild(x);break;case"meta":if(I=qO("meta","content",v).get(m+(c.content||""))){for(j=0;j<I.length;j++)if(x=I[j],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(j,1);break t}}x=v.createElement(m),Gn(x,m,c),v.head.appendChild(x);break;default:throw Error(r(468,m))}x[sn]=s,on(x),m=x}s.stateNode=m}else $O(v,s.type,s.stateNode);else s.stateNode=FO(v,m,s.memoizedProps);else x!==m?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,m===null?$O(v,s.type,s.stateNode):FO(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&o_(s,s.memoizedProps,c.memoizedProps)}break;case 27:Ar(l,s),Ir(s),m&512&&(hn||c===null||xa(c,c.return)),c!==null&&m&4&&o_(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Ar(l,s),Ir(s),m&512&&(hn||c===null||xa(c,c.return)),s.flags&32){v=s.stateNode;try{Tr(v,"")}catch(Ee){mt(s,s.return,Ee)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,o_(s,v,c!==null?c.memoizedProps:v)),m&1024&&(c_=!0);break;case 6:if(Ar(l,s),Ir(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(Ee){mt(s,s.return,Ee)}}break;case 3:if(qg=null,v=Bi,Bi=Bg(l.containerInfo),Ar(l,s),Bi=v,Ir(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Vc(l.containerInfo)}catch(Ee){mt(s,s.return,Ee)}c_&&(c_=!1,$R(s));break;case 4:m=Bi,Bi=Bg(s.stateNode.containerInfo),Ar(l,s),Ir(s),Bi=m;break;case 12:Ar(l,s),Ir(s);break;case 31:Ar(l,s),Ir(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Ig(s,m)));break;case 13:Ar(l,s),Ir(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Pg=Un()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Ig(s,m)));break;case 22:v=s.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,J=ss,oe=hn;if(ss=J||v,hn=oe||$,Ar(l,s),hn=oe,ss=J,Ir(s),m&8192)e:for(l=s.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(c===null||$||ss||hn||ql(s)),c=null,l=s;;){if(l.tag===5||l.tag===26){if(c===null){$=c=l;try{if(x=$.stateNode,v)I=x.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{j=$.stateNode;var ce=$.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ee){mt($,$.return,Ee)}}}else if(l.tag===6){if(c===null){$=l;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(Ee){mt($,$.return,Ee)}}}else if(l.tag===18){if(c===null){$=l;try{var ne=$.stateNode;v?DO(ne,!0):DO($.stateNode,!1)}catch(Ee){mt($,$.return,Ee)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Ig(s,c))));break;case 19:Ar(l,s),Ir(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Ig(s,m)));break;case 30:break;case 21:break;default:Ar(l,s),Ir(s)}}function Ir(s){var l=s.flags;if(l&2){try{for(var c,m=s.return;m!==null;){if(kR(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,x=l_(s);Ag(s,x,v);break;case 5:var I=c.stateNode;c.flags&32&&(Tr(I,""),c.flags&=-33);var j=l_(s);Ag(s,j,I);break;case 3:case 4:var $=c.stateNode.containerInfo,J=l_(s);u_(s,J,$);break;default:throw Error(r(161))}}catch(oe){mt(s,s.return,oe)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function $R(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;$R(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function ls(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)LR(s,l.alternate,l),l=l.sibling}function ql(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:yo(4,l,l.return),ql(l);break;case 1:xa(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&DR(l,l.return,c),ql(l);break;case 27:sd(l.stateNode);case 26:case 5:xa(l,l.return),ql(l);break;case 22:l.memoizedState===null&&ql(l);break;case 30:ql(l);break;default:ql(l)}s=s.sibling}}function us(s,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=s,x=l,I=x.flags;switch(x.tag){case 0:case 11:case 15:us(v,x,c),Xh(4,x);break;case 1:if(us(v,x,c),m=x,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){mt(m,m.return,J)}if(m=x,v=m.updateQueue,v!==null){var j=m.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)_P($[v],j)}catch(J){mt(m,m.return,J)}}c&&I&64&&NR(x),Qh(x,x.return);break;case 27:jR(x);case 26:case 5:us(v,x,c),c&&m===null&&I&4&&MR(x),Qh(x,x.return);break;case 12:us(v,x,c);break;case 31:us(v,x,c),c&&I&4&&BR(v,x);break;case 13:us(v,x,c),c&&I&4&&FR(v,x);break;case 22:x.memoizedState===null&&us(v,x,c),Qh(x,x.return);break;case 30:break;default:us(v,x,c)}l=l.sibling}}function f_(s,l){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Vh(c))}function h_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Vh(s))}function Fi(s,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)HR(s,l,c,m),l=l.sibling}function HR(s,l,c,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Fi(s,l,c,m),v&2048&&Xh(9,l);break;case 1:Fi(s,l,c,m);break;case 3:Fi(s,l,c,m),v&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Vh(s)));break;case 12:if(v&2048){Fi(s,l,c,m),s=l.stateNode;try{var x=l.memoizedProps,I=x.id,j=x.onPostCommit;typeof j=="function"&&j(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){mt(l,l.return,$)}}else Fi(s,l,c,m);break;case 31:Fi(s,l,c,m);break;case 13:Fi(s,l,c,m);break;case 23:break;case 22:x=l.stateNode,I=l.alternate,l.memoizedState!==null?x._visibility&2?Fi(s,l,c,m):Zh(s,l):x._visibility&2?Fi(s,l,c,m):(x._visibility|=2,Ac(s,l,c,m,(l.subtreeFlags&10256)!==0||!1)),v&2048&&f_(I,l);break;case 24:Fi(s,l,c,m),v&2048&&h_(l.alternate,l);break;default:Fi(s,l,c,m)}}function Ac(s,l,c,m,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var x=s,I=l,j=c,$=m,J=I.flags;switch(I.tag){case 0:case 11:case 15:Ac(x,I,j,$,v),Xh(8,I);break;case 23:break;case 22:var oe=I.stateNode;I.memoizedState!==null?oe._visibility&2?Ac(x,I,j,$,v):Zh(x,I):(oe._visibility|=2,Ac(x,I,j,$,v)),v&&J&2048&&f_(I.alternate,I);break;case 24:Ac(x,I,j,$,v),v&&J&2048&&h_(I.alternate,I);break;default:Ac(x,I,j,$,v)}l=l.sibling}}function Zh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=s,m=l,v=m.flags;switch(m.tag){case 22:Zh(c,m),v&2048&&f_(m.alternate,m);break;case 24:Zh(c,m),v&2048&&h_(m.alternate,m);break;default:Zh(c,m)}l=l.sibling}}var Jh=8192;function Ic(s,l,c){if(s.subtreeFlags&Jh)for(s=s.child;s!==null;)GR(s,l,c),s=s.sibling}function GR(s,l,c){switch(s.tag){case 26:Ic(s,l,c),s.flags&Jh&&s.memoizedState!==null&&Q7(c,Bi,s.memoizedState,s.memoizedProps);break;case 5:Ic(s,l,c);break;case 3:case 4:var m=Bi;Bi=Bg(s.stateNode.containerInfo),Ic(s,l,c),Bi=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=Jh,Jh=16777216,Ic(s,l,c),Jh=m):Ic(s,l,c));break;default:Ic(s,l,c)}}function KR(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function ed(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];On=m,YR(m,s)}KR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)WR(s),s=s.sibling}function WR(s){switch(s.tag){case 0:case 11:case 15:ed(s),s.flags&2048&&yo(9,s,s.return);break;case 3:ed(s);break;case 12:ed(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Cg(s)):ed(s);break;default:ed(s)}}function Cg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];On=m,YR(m,s)}KR(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:yo(8,l,l.return),Cg(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Cg(l));break;default:Cg(l)}s=s.sibling}}function YR(s,l){for(;On!==null;){var c=On;switch(c.tag){case 0:case 11:case 15:yo(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vh(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,On=m;else e:for(c=s;On!==null;){m=On;var v=m.sibling,x=m.return;if(zR(m),m===c){On=null;break e}if(v!==null){v.return=x,On=v;break e}On=x}}}var h7={getCacheForType:function(s){var l=$n(un),c=l.data.get(s);return c===void 0&&(c=s(),l.data.set(s,c)),c},cacheSignal:function(){return $n(un).controller.signal}},d7=typeof WeakMap=="function"?WeakMap:Map,ut=0,Et=null,We=null,Xe=0,dt=0,Fr=null,vo=!1,Cc=!1,d_=!1,cs=0,Kt=0,bo=0,$l=0,m_=0,qr=0,Pc=0,td=null,Cr=null,p_=!1,Pg=0,XR=0,Rg=1/0,Og=null,xo=null,xn=0,_o=null,Rc=null,fs=0,g_=0,y_=null,QR=null,nd=0,v_=null;function $r(){return(ut&2)!==0&&Xe!==0?Xe&-Xe:W.T!==null?T_():Np()}function ZR(){if(qr===0)if((Xe&536870912)===0||tt){var s=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),qr=s}else qr=536870912;return s=Ur.current,s!==null&&(s.flags|=32),qr}function Pr(s,l,c){(s===Et&&(dt===2||dt===9)||s.cancelPendingCommit!==null)&&(Oc(s,0),wo(s,Xe,qr,!1)),vl(s,c),((ut&2)===0||s!==Et)&&(s===Et&&((ut&2)===0&&($l|=c),Kt===4&&wo(s,Xe,qr,!1)),_a(s))}function JR(s,l,c){if((ut&6)!==0)throw Error(r(327));var m=!c&&(l&127)===0&&(l&s.expiredLanes)===0||Ni(s,l),v=m?g7(s,l):x_(s,l,!0),x=m;do{if(v===0){Cc&&!m&&wo(s,l,0,!1);break}else{if(c=s.current.alternate,x&&!m7(c)){v=x_(s,l,!1),x=!1;continue}if(v===2){if(x=l,s.errorRecoveryDisabledLanes&x)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var j=s;v=td;var $=j.current.memoizedState.isDehydrated;if($&&(Oc(j,I).flags|=256),I=x_(j,I,!1),I!==2){if(d_&&!$){j.errorRecoveryDisabledLanes|=x,$l|=x,v=4;break e}x=Cr,Cr=v,x!==null&&(Cr===null?Cr=x:Cr.push.apply(Cr,x))}v=I}if(x=!1,v!==2)continue}}if(v===1){Oc(s,0),wo(s,l,0,!0);break}e:{switch(m=s,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:wo(m,l,qr,!vo);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Pg+300-Un(),10<v)){if(wo(m,l,qr,!vo),ra(m,0,!0)!==0)break e;fs=l,m.timeoutHandle=RO(eO.bind(null,m,c,Cr,Og,p_,l,qr,$l,Pc,vo,x,"Throttled",-0,0),v);break e}eO(m,c,Cr,Og,p_,l,qr,$l,Pc,vo,x,null,-0,0)}}break}while(!0);_a(s)}function eO(s,l,c,m,v,x,I,j,$,J,oe,ce,ee,ne){if(s.timeoutHandle=-1,ce=l.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ki},GR(l,x,ce);var Ee=(x&62914560)===x?Pg-Un():(x&4194048)===x?XR-Un():0;if(Ee=Z7(ce,Ee),Ee!==null){fs=x,s.cancelPendingCommit=Ee(lO.bind(null,s,l,x,c,m,v,I,j,$,oe,ce,null,ee,ne)),wo(s,x,I,!J);return}}lO(s,l,x,c,m,v,I,j,$)}function m7(s){for(var l=s;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],x=v.getSnapshot;v=v.value;try{if(!Lr(x(),v))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wo(s,l,c,m){l&=~m_,l&=~$l,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var v=l;0<v;){var x=31-en(v),I=1<<x;m[x]=-1,v&=~I}c!==0&&bl(s,c,l)}function Ng(){return(ut&6)===0?(rd(0),!1):!0}function b_(){if(We!==null){if(dt===0)var s=We.return;else s=We,es=kl=null,kx(s),_c=null,zh=0,s=We;for(;s!==null;)OR(s.alternate,s),s=s.return;We=null}}function Oc(s,l){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,M7(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),fs=0,b_(),Et=s,We=c=Za(s.current,null),Xe=l,dt=0,Fr=null,vo=!1,Cc=Ni(s,l),d_=!1,Pc=qr=m_=$l=bo=Kt=0,Cr=td=null,p_=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var v=31-en(m),x=1<<v;l|=s[v],m&=~x}return cs=l,Jp(),c}function tO(s,l){$e=null,W.H=Kh,l===xc||l===og?(l=yP(),dt=3):l===Ex?(l=yP(),dt=4):dt=l===Qx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Fr=l,We===null&&(Kt=1,_g(s,ci(l,s.current)))}function nO(){var s=Ur.current;return s===null?!0:(Xe&4194048)===Xe?mi===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?s===mi:!1}function rO(){var s=W.H;return W.H=Kh,s===null?Kh:s}function iO(){var s=W.A;return W.A=h7,s}function Dg(){Kt=4,vo||(Xe&4194048)!==Xe&&Ur.current!==null||(Cc=!0),(bo&134217727)===0&&($l&134217727)===0||Et===null||wo(Et,Xe,qr,!1)}function x_(s,l,c){var m=ut;ut|=2;var v=rO(),x=iO();(Et!==s||Xe!==l)&&(Og=null,Oc(s,l)),l=!1;var I=Kt;e:do try{if(dt!==0&&We!==null){var j=We,$=Fr;switch(dt){case 8:b_(),I=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(l=!0);var J=dt;if(dt=0,Fr=null,Nc(s,j,$,J),c&&Cc){I=0;break e}break;default:J=dt,dt=0,Fr=null,Nc(s,j,$,J)}}p7(),I=Kt;break}catch(oe){tO(s,oe)}while(!0);return l&&s.shellSuspendCounter++,es=kl=null,ut=m,W.H=v,W.A=x,We===null&&(Et=null,Xe=0,Jp()),I}function p7(){for(;We!==null;)aO(We)}function g7(s,l){var c=ut;ut|=2;var m=rO(),v=iO();Et!==s||Xe!==l?(Og=null,Rg=Un()+500,Oc(s,l)):Cc=Ni(s,l);e:do try{if(dt!==0&&We!==null){l=We;var x=Fr;t:switch(dt){case 1:dt=0,Fr=null,Nc(s,l,x,1);break;case 2:case 9:if(pP(x)){dt=0,Fr=null,sO(l);break}l=function(){dt!==2&&dt!==9||Et!==s||(dt=7),_a(s)},x.then(l,l);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:pP(x)?(dt=0,Fr=null,sO(l)):(dt=0,Fr=null,Nc(s,l,x,7));break;case 5:var I=null;switch(We.tag){case 26:I=We.memoizedState;case 5:case 27:var j=We;if(I?HO(I):j.stateNode.complete){dt=0,Fr=null;var $=j.sibling;if($!==null)We=$;else{var J=j.return;J!==null?(We=J,Mg(J)):We=null}break t}}dt=0,Fr=null,Nc(s,l,x,5);break;case 6:dt=0,Fr=null,Nc(s,l,x,6);break;case 8:b_(),Kt=6;break e;default:throw Error(r(462))}}y7();break}catch(oe){tO(s,oe)}while(!0);return es=kl=null,W.H=m,W.A=v,ut=c,We!==null?0:(Et=null,Xe=0,Jp(),Kt)}function y7(){for(;We!==null&&!Yu();)aO(We)}function aO(s){var l=PR(s.alternate,s,cs);s.memoizedProps=s.pendingProps,l===null?Mg(s):We=l}function sO(s){var l=s,c=l.alternate;switch(l.tag){case 15:case 0:l=ER(c,l,l.pendingProps,l.type,void 0,Xe);break;case 11:l=ER(c,l,l.pendingProps,l.type.render,l.ref,Xe);break;case 5:kx(l);default:OR(c,l),l=We=iP(l,cs),l=PR(c,l,cs)}s.memoizedProps=s.pendingProps,l===null?Mg(s):We=l}function Nc(s,l,c,m){es=kl=null,kx(l),_c=null,zh=0;var v=l.return;try{if(a7(s,v,l,c,Xe)){Kt=1,_g(s,ci(c,s.current)),We=null;return}}catch(x){if(v!==null)throw We=v,x;Kt=1,_g(s,ci(c,s.current)),We=null;return}l.flags&32768?(tt||m===1?s=!0:Cc||(Xe&536870912)!==0?s=!1:(vo=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ur.current,m!==null&&m.tag===13&&(m.flags|=16384))),oO(l,s)):Mg(l)}function Mg(s){var l=s;do{if((l.flags&32768)!==0){oO(l,vo);return}s=l.return;var c=l7(l.alternate,l,cs);if(c!==null){We=c;return}if(l=l.sibling,l!==null){We=l;return}We=l=s}while(l!==null);Kt===0&&(Kt=5)}function oO(s,l){do{var c=u7(s.alternate,s);if(c!==null){c.flags&=32767,We=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(s=s.sibling,s!==null)){We=s;return}We=s=c}while(s!==null);Kt=6,We=null}function lO(s,l,c,m,v,x,I,j,$){s.cancelPendingCommit=null;do kg();while(xn!==0);if((ut&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(x=l.lanes|l.childLanes,x|=lx,Jb(s,c,x,I,j,$),s===Et&&(We=Et=null,Xe=0),Rc=l,_o=s,fs=c,g_=x,y_=v,QR=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_7(kr,function(){return dO(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=W.T,W.T=null,v=ie.p,ie.p=2,I=ut,ut|=4;try{c7(s,l,c)}finally{ut=I,ie.p=v,W.T=m}}xn=1,uO(),cO(),fO()}}function uO(){if(xn===1){xn=0;var s=_o,l=Rc,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var m=ie.p;ie.p=2;var v=ut;ut|=4;try{qR(l,s);var x=N_,I=YC(s.containerInfo),j=x.focusedElem,$=x.selectionRange;if(I!==j&&j&&j.ownerDocument&&WC(j.ownerDocument.documentElement,j)){if($!==null&&rx(j)){var J=$.start,oe=$.end;if(oe===void 0&&(oe=J),"selectionStart"in j)j.selectionStart=J,j.selectionEnd=Math.min(oe,j.value.length);else{var ce=j.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Ee=j.textContent.length,ke=Math.min($.start,Ee),wt=$.end===void 0?ke:Math.min($.end,Ee);!ne.extend&&ke>wt&&(I=wt,wt=ke,ke=I);var Y=KC(j,ke),G=KC(j,wt);if(Y&&G&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=ce.createRange();Z.setStart(Y.node,Y.offset),ne.removeAllRanges(),ke>wt?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(ce=[],ne=j;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var ue=ce[j];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Kg=!!O_,N_=O_=null}finally{ut=v,ie.p=m,W.T=c}}s.current=l,xn=2}}function cO(){if(xn===2){xn=0;var s=_o,l=Rc,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var m=ie.p;ie.p=2;var v=ut;ut|=4;try{LR(s,l.alternate,l)}finally{ut=v,ie.p=m,W.T=c}}xn=3}}function fO(){if(xn===4||xn===3){xn=0,Xu();var s=_o,l=Rc,c=fs,m=QR;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?xn=5:(xn=0,Rc=_o=null,hO(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(xo=null),Wa(c),l=l.stateNode,Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Oi,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=W.T,v=ie.p,ie.p=2,W.T=null;try{for(var x=s.onRecoverableError,I=0;I<m.length;I++){var j=m[I];x(j.value,{componentStack:j.stack})}}finally{W.T=l,ie.p=v}}(fs&3)!==0&&kg(),_a(s),v=s.pendingLanes,(c&261930)!==0&&(v&42)!==0?s===v_?nd++:(nd=0,v_=s):nd=0,rd(0)}}function hO(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Vh(l)))}function kg(){return uO(),cO(),fO(),dO()}function dO(){if(xn!==5)return!1;var s=_o,l=g_;g_=0;var c=Wa(fs),m=W.T,v=ie.p;try{ie.p=32>c?32:c,W.T=null,c=y_,y_=null;var x=_o,I=fs;if(xn=0,Rc=_o=null,fs=0,(ut&6)!==0)throw Error(r(331));var j=ut;if(ut|=4,WR(x.current),HR(x,x.current,I,c),ut=j,rd(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Oi,x)}catch{}return!0}finally{ie.p=v,W.T=m,hO(s,l)}}function mO(s,l,c){l=ci(c,l),l=Xx(s.stateNode,l,2),s=mo(s,l,2),s!==null&&(vl(s,2),_a(s))}function mt(s,l,c){if(s.tag===3)mO(s,s,c);else for(;l!==null;){if(l.tag===3){mO(l,s,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xo===null||!xo.has(m))){s=ci(c,s),c=pR(2),m=mo(l,c,2),m!==null&&(gR(c,m,l,s),vl(m,2),_a(m));break}}l=l.return}}function __(s,l,c){var m=s.pingCache;if(m===null){m=s.pingCache=new d7;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(c)||(d_=!0,v.add(c),s=v7.bind(null,s,l,c),l.then(s,s))}function v7(s,l,c){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Et===s&&(Xe&c)===c&&(Kt===4||Kt===3&&(Xe&62914560)===Xe&&300>Un()-Pg?(ut&2)===0&&Oc(s,0):m_|=c,Pc===Xe&&(Pc=0)),_a(s)}function pO(s,l){l===0&&(l=Op()),s=Nl(s,l),s!==null&&(vl(s,l),_a(s))}function b7(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),pO(s,c)}function x7(s,l){var c=0;switch(s.tag){case 31:case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),pO(s,c)}function _7(s,l){return Ht(s,l)}var jg=null,Dc=null,w_=!1,Vg=!1,E_=!1,Eo=0;function _a(s){s!==Dc&&s.next===null&&(Dc===null?jg=Dc=s:Dc=Dc.next=s),Vg=!0,w_||(w_=!0,E7())}function rd(s,l){if(!E_&&Vg){E_=!0;do for(var c=!1,m=jg;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var x=0;else{var I=m.suspendedLanes,j=m.pingedLanes;x=(1<<31-en(42|s)+1)-1,x&=v&~(I&~j),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,bO(m,x))}else x=Xe,x=ra(m,m===Et?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Ni(m,x)||(c=!0,bO(m,x));m=m.next}while(c);E_=!1}}function w7(){gO()}function gO(){Vg=w_=!1;var s=0;Eo!==0&&D7()&&(s=Eo);for(var l=Un(),c=null,m=jg;m!==null;){var v=m.next,x=yO(m,l);x===0?(m.next=null,c===null?jg=v:c.next=v,v===null&&(Dc=c)):(c=m,(s!==0||(x&3)!==0)&&(Vg=!0)),m=v}xn!==0&&xn!==5||rd(s),Eo!==0&&(Eo=0)}function yO(s,l){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var I=31-en(x),j=1<<I,$=v[I];$===-1?((j&c)===0||(j&m)!==0)&&(v[I]=Zb(j,l)):$<=l&&(s.expiredLanes|=j),x&=~j}if(l=Et,c=Xe,c=ra(s,s===l?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===l&&(dt===2||dt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&In(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Ni(s,c)){if(l=c&-c,l===s.callbackPriority)return l;switch(m!==null&&In(m),Wa(c)){case 2:case 8:c=Cn;break;case 32:c=kr;break;case 268435456:c=Ap;break;default:c=kr}return m=vO.bind(null,s),c=Ht(c,m),s.callbackPriority=l,s.callbackNode=c,l}return m!==null&&m!==null&&In(m),s.callbackPriority=2,s.callbackNode=null,2}function vO(s,l){if(xn!==0&&xn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(kg()&&s.callbackNode!==c)return null;var m=Xe;return m=ra(s,s===Et?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(JR(s,m,l),yO(s,Un()),s.callbackNode!=null&&s.callbackNode===c?vO.bind(null,s):null)}function bO(s,l){if(kg())return null;JR(s,l,!0)}function E7(){k7(function(){(ut&6)!==0?Ht(it,w7):gO()})}function T_(){if(Eo===0){var s=vc;s===0&&(s=ta,ta<<=1,(ta&261888)===0&&(ta=256)),Eo=s}return Eo}function xO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:rc(""+s)}function _O(s,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,s.id&&c.setAttribute("form",s.id),l.parentNode.insertBefore(c,l),s=new FormData(s),c.parentNode.removeChild(c),s}function T7(s,l,c,m,v){if(l==="submit"&&c&&c.stateNode===v){var x=xO((v[Pn]||null).action),I=m.submitter;I&&(l=(l=I[Pn]||null)?xO(l.formAction):I.getAttribute("formAction"),l!==null&&(x=l,I=null));var j=new ma("action","action",null,m,v);s.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Eo!==0){var $=I?_O(v,I):new FormData(v);$x(c,{pending:!0,data:$,method:v.method,action:x},null,$)}}else typeof x=="function"&&(j.preventDefault(),$=I?_O(v,I):new FormData(v),$x(c,{pending:!0,data:$,method:v.method,action:x},x,$))},currentTarget:v}]})}}for(var S_=0;S_<ox.length;S_++){var A_=ox[S_],S7=A_.toLowerCase(),A7=A_[0].toUpperCase()+A_.slice(1);Ui(S7,"on"+A7)}Ui(ZC,"onAnimationEnd"),Ui(JC,"onAnimationIteration"),Ui(eP,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(Fq,"onTransitionRun"),Ui(qq,"onTransitionStart"),Ui($q,"onTransitionCancel"),Ui(tP,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(id));function wO(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var x=void 0;if(l)for(var I=m.length-1;0<=I;I--){var j=m[I],$=j.instance,J=j.currentTarget;if(j=j.listener,$!==x&&v.isPropagationStopped())break e;x=j,v.currentTarget=J;try{x(v)}catch(oe){Zp(oe)}v.currentTarget=null,x=$}else for(I=0;I<m.length;I++){if(j=m[I],$=j.instance,J=j.currentTarget,j=j.listener,$!==x&&v.isPropagationStopped())break e;x=j,v.currentTarget=J;try{x(v)}catch(oe){Zp(oe)}v.currentTarget=null,x=$}}}}function Ye(s,l){var c=l[Zu];c===void 0&&(c=l[Zu]=new Set);var m=s+"__bubble";c.has(m)||(EO(l,s,2,!1),c.add(m))}function I_(s,l,c){var m=0;l&&(m|=4),EO(c,s,m,l)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function C_(s){if(!s[Lg]){s[Lg]=!0,gh.forEach(function(c){c!=="selectionchange"&&(I7.has(c)||I_(c,!1,s),I_(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Lg]||(l[Lg]=!0,I_("selectionchange",!1,l))}}function EO(s,l,c,m){switch(ZO(l)){case 2:var v=t$;break;case 8:v=n$;break;default:v=q_}c=v.bind(null,l,c,s),v=void 0,!Tl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(l,c,{capture:!0,passive:v}):s.addEventListener(l,c,!0):v!==void 0?s.addEventListener(l,c,{passive:v}):s.addEventListener(l,c,!1)}function P_(s,l,c,m,v){var x=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var j=m.stateNode.containerInfo;if(j===v)break;if(I===4)for(I=m.return;I!==null;){var $=I.tag;if(($===3||$===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;j!==null;){if(I=oa(j),I===null)return;if($=I.tag,$===5||$===6||$===26||$===27){m=x=I;continue e}j=j.parentNode}}m=m.return}ro(function(){var J=x,oe=si(c),ce=[];e:{var ee=nP.get(s);if(ee!==void 0){var ne=ma,Ee=s;switch(s){case"keypress":if(Al(c)===0)break e;case"keydown":case"keyup":ne=Yp;break;case"focusin":Ee="focus",ne=Cl;break;case"focusout":Ee="blur",ne=Cl;break;case"beforeblur":case"afterblur":ne=Cl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=A;break;case ZC:case JC:case eP:ne=Fp;break;case tP:ne=z;break;case"scroll":case"scrollend":ne=Ch;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Qa;break;case"toggle":case"beforetoggle":ne=qe}var ke=(l&4)!==0,wt=!ke&&(s==="scroll"||s==="scrollend"),Y=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var G=J,Z;G!==null;){var ue=G;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Y===null||(ue=ji(G,Y),ue!=null&&ke.push(ad(G,ue,Z))),wt)break;G=G.return}0<ke.length&&(ee=new ne(ee,Ee,null,c,oe),ce.push({event:ee,listeners:ke}))}}if((l&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",ee&&c!==Sh&&(Ee=c.relatedTarget||c.fromElement)&&(oa(Ee)||Ee[aa]))break e;if((ne||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Ee=c.relatedTarget||c.toElement,ne=J,Ee=Ee?oa(Ee):null,Ee!==null&&(wt=a(Ee),ke=Ee.tag,Ee!==wt||ke!==5&&ke!==27&&ke!==6)&&(Ee=null)):(ne=null,Ee=J),ne!==Ee)){if(ke=Ph,ue="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ke=Qa,ue="onPointerLeave",Y="onPointerEnter",G="pointer"),wt=ne==null?ee:jr(ne),Z=Ee==null?ee:jr(Ee),ee=new ke(ue,G+"leave",ne,c,oe),ee.target=wt,ee.relatedTarget=Z,ue=null,oa(oe)===J&&(ke=new ke(Y,G+"enter",Ee,c,oe),ke.target=Z,ke.relatedTarget=wt,ue=ke),wt=ue,ne&&Ee)t:{for(ke=C7,Y=ne,G=Ee,Z=0,ue=Y;ue;ue=ke(ue))Z++;ue=0;for(var Oe=G;Oe;Oe=ke(Oe))ue++;for(;0<Z-ue;)Y=ke(Y),Z--;for(;0<ue-Z;)G=ke(G),ue--;for(;Z--;){if(Y===G||G!==null&&Y===G.alternate){ke=Y;break t}Y=ke(Y),G=ke(G)}ke=null}else ke=null;ne!==null&&TO(ce,ee,ne,ke,!1),Ee!==null&&wt!==null&&TO(ce,wt,Ee,ke,!0)}}e:{if(ee=J?jr(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var at=BC;else if(zC(ee))if(FC)at=zq;else{at=Vq;var Ie=jq}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&nc(J.elementType)&&(at=BC):at=Lq;if(at&&(at=at(s,J))){UC(ce,at,c,oe);break e}Ie&&Ie(s,ee,J),s==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&wh(ee,"number",ee.value)}switch(Ie=J?jr(J):window,s){case"focusin":(zC(Ie)||Ie.contentEditable==="true")&&(cc=Ie,ix=J,Mh=null);break;case"focusout":Mh=ix=cc=null;break;case"mousedown":ax=!0;break;case"contextmenu":case"mouseup":case"dragend":ax=!1,XC(ce,c,oe);break;case"selectionchange":if(Bq)break;case"keydown":case"keyup":XC(ce,c,oe)}var He;if(lt)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else uc?Pl(s,c)&&(Qe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(ya&&c.locale!=="ko"&&(uc||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&uc&&(He=Ih()):(da=oe,Ah="value"in da?da.value:da.textContent,uc=!0)),Ie=zg(J,Qe),0<Ie.length&&(Qe=new ga(Qe,s,null,c,oe),ce.push({event:Qe,listeners:Ie}),He?Qe.data=He:(He=lc(c),He!==null&&(Qe.data=He)))),(He=li?Nq(s,c):Dq(s,c))&&(Qe=zg(J,"onBeforeInput"),0<Qe.length&&(Ie=new ga("onBeforeInput","beforeinput",null,c,oe),ce.push({event:Ie,listeners:Qe}),Ie.data=He)),T7(ce,s,J,c,oe)}wO(ce,l)})}function ad(s,l,c){return{instance:s,listener:l,currentTarget:c}}function zg(s,l){for(var c=l+"Capture",m=[];s!==null;){var v=s,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=ji(s,c),v!=null&&m.unshift(ad(s,v,x)),v=ji(s,l),v!=null&&m.push(ad(s,v,x))),s.tag===3)return m;s=s.return}return[]}function C7(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function TO(s,l,c,m,v){for(var x=l._reactName,I=[];c!==null&&c!==m;){var j=c,$=j.alternate,J=j.stateNode;if(j=j.tag,$!==null&&$===m)break;j!==5&&j!==26&&j!==27||J===null||($=J,v?(J=ji(c,x),J!=null&&I.unshift(ad(c,J,$))):v||(J=ji(c,x),J!=null&&I.push(ad(c,J,$)))),c=c.return}I.length!==0&&s.push({event:l,listeners:I})}var P7=/\r\n?/g,R7=/\u0000|\uFFFD/g;function SO(s){return(typeof s=="string"?s:""+s).replace(P7,`
`).replace(R7,"")}function AO(s,l){return l=SO(l),SO(s)===l}function _t(s,l,c,m,v,x){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Tr(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Tr(s,""+m);break;case"className":Vr(s,"class",m);break;case"tabIndex":Vr(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(s,c,m);break;case"style":Th(s,m,x);break;case"data":if(l!=="object"){Vr(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=rc(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(l!=="input"&&_t(s,l,"name",v.name,v,null),_t(s,l,"formEncType",v.formEncType,v,null),_t(s,l,"formMethod",v.formMethod,v,null),_t(s,l,"formTarget",v.formTarget,v,null)):(_t(s,l,"encType",v.encType,v,null),_t(s,l,"method",v.method,v,null),_t(s,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=rc(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=ki);break;case"onScroll":m!=null&&Ye("scroll",s);break;case"onScrollEnd":m!=null&&Ye("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=rc(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":Ye("beforetoggle",s),Ye("toggle",s),ec(s,"popover",m);break;case"xlinkActuate":ln(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ln(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ln(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ln(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ln(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ln(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ln(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ln(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ln(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ec(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=zp.get(c)||c,ec(s,c,m))}}function R_(s,l,c,m,v,x){switch(c){case"style":Th(s,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?Tr(s,m):(typeof m=="number"||typeof m=="bigint")&&Tr(s,""+m);break;case"onScroll":m!=null&&Ye("scroll",s);break;case"onScrollEnd":m!=null&&Ye("scrollend",s);break;case"onClick":m!=null&&(s.onclick=ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yh.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),l=c.slice(2,v?c.length-7:void 0),x=s[Pn]||null,x=x!=null?x[c]:null,typeof x=="function"&&s.removeEventListener(l,x,v),typeof m=="function")){typeof x!="function"&&x!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(l,m,v);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):ec(s,c,m)}}}function Gn(s,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",s),Ye("load",s);var m=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var I=c[x];if(I!=null)switch(x){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_t(s,l,x,I,c,null)}}v&&_t(s,l,"srcSet",c.srcSet,c,null),m&&_t(s,l,"src",c.src,c,null);return;case"input":Ye("invalid",s);var j=x=I=v=null,$=null,J=null;for(m in c)if(c.hasOwnProperty(m)){var oe=c[m];if(oe!=null)switch(m){case"name":v=oe;break;case"type":I=oe;break;case"checked":$=oe;break;case"defaultChecked":J=oe;break;case"value":x=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:_t(s,l,m,oe,c,null)}}jp(s,x,j,$,J,I,v,!1);return;case"select":Ye("invalid",s),m=I=x=null;for(v in c)if(c.hasOwnProperty(v)&&(j=c[v],j!=null))switch(v){case"value":x=j;break;case"defaultValue":I=j;break;case"multiple":m=j;default:_t(s,l,v,j,c,null)}l=x,c=I,s.multiple=!!m,l!=null?Js(s,!!m,l,!1):c!=null&&Js(s,!!m,c,!0);return;case"textarea":Ye("invalid",s),x=v=m=null;for(I in c)if(c.hasOwnProperty(I)&&(j=c[I],j!=null))switch(I){case"value":m=j;break;case"defaultValue":v=j;break;case"children":x=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:_t(s,l,I,j,c,null)}eo(s,m,v,x);return;case"option":for($ in c)c.hasOwnProperty($)&&(m=c[$],m!=null)&&($==="selected"?s.selected=m&&typeof m!="function"&&typeof m!="symbol":_t(s,l,$,m,c,null));return;case"dialog":Ye("beforetoggle",s),Ye("toggle",s),Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":Ye("load",s);break;case"video":case"audio":for(m=0;m<id.length;m++)Ye(id[m],s);break;case"image":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"embed":case"source":case"link":Ye("error",s),Ye("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(m=c[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_t(s,l,J,m,c,null)}return;default:if(nc(l)){for(oe in c)c.hasOwnProperty(oe)&&(m=c[oe],m!==void 0&&R_(s,l,oe,m,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(m=c[j],m!=null&&_t(s,l,j,m,c,null))}function O7(s,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,I=null,j=null,$=null,J=null,oe=null;for(ne in c){var ce=c[ne];if(c.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=ce;default:m.hasOwnProperty(ne)||_t(s,l,ne,null,m,ce)}}for(var ee in m){var ne=m[ee];if(ce=c[ee],m.hasOwnProperty(ee)&&(ne!=null||ce!=null))switch(ee){case"type":x=ne;break;case"name":v=ne;break;case"checked":J=ne;break;case"defaultChecked":oe=ne;break;case"value":I=ne;break;case"defaultValue":j=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ce&&_t(s,l,ee,ne,m,ce)}}tc(s,I,j,$,J,oe,x,v);return;case"select":ne=I=j=ee=null;for(x in c)if($=c[x],c.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":ne=$;default:m.hasOwnProperty(x)||_t(s,l,x,null,m,$)}for(v in m)if(x=m[v],$=c[v],m.hasOwnProperty(v)&&(x!=null||$!=null))switch(v){case"value":ee=x;break;case"defaultValue":j=x;break;case"multiple":I=x;default:x!==$&&_t(s,l,v,x,m,$)}l=j,c=I,m=ne,ee!=null?Js(s,!!c,ee,!1):!!m!=!!c&&(l!=null?Js(s,!!c,l,!0):Js(s,!!c,c?[]:"",!1));return;case"textarea":ne=ee=null;for(j in c)if(v=c[j],c.hasOwnProperty(j)&&v!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:_t(s,l,j,null,m,v)}for(I in m)if(v=m[I],x=c[I],m.hasOwnProperty(I)&&(v!=null||x!=null))switch(I){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&_t(s,l,I,v,m,x)}Vp(s,ee,ne);return;case"option":for(var Ee in c)ee=c[Ee],c.hasOwnProperty(Ee)&&ee!=null&&!m.hasOwnProperty(Ee)&&(Ee==="selected"?s.selected=!1:_t(s,l,Ee,null,m,ee));for($ in m)ee=m[$],ne=c[$],m.hasOwnProperty($)&&ee!==ne&&(ee!=null||ne!=null)&&($==="selected"?s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":_t(s,l,$,ee,m,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in c)ee=c[ke],c.hasOwnProperty(ke)&&ee!=null&&!m.hasOwnProperty(ke)&&_t(s,l,ke,null,m,ee);for(J in m)if(ee=m[J],ne=c[J],m.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:_t(s,l,J,ee,m,ne)}return;default:if(nc(l)){for(var wt in c)ee=c[wt],c.hasOwnProperty(wt)&&ee!==void 0&&!m.hasOwnProperty(wt)&&R_(s,l,wt,void 0,m,ee);for(oe in m)ee=m[oe],ne=c[oe],!m.hasOwnProperty(oe)||ee===ne||ee===void 0&&ne===void 0||R_(s,l,oe,ee,m,ne);return}}for(var Y in c)ee=c[Y],c.hasOwnProperty(Y)&&ee!=null&&!m.hasOwnProperty(Y)&&_t(s,l,Y,null,m,ee);for(ce in m)ee=m[ce],ne=c[ce],!m.hasOwnProperty(ce)||ee===ne||ee==null&&ne==null||_t(s,l,ce,ee,m,ne)}function IO(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var v=c[m],x=v.transferSize,I=v.initiatorType,j=v.duration;if(x&&j&&IO(I)){for(I=0,j=v.responseEnd,m+=1;m<c.length;m++){var $=c[m],J=$.startTime;if(J>j)break;var oe=$.transferSize,ce=$.initiatorType;oe&&IO(ce)&&($=$.responseEnd,I+=oe*($<j?1:(j-J)/($-J)))}if(--m,l+=8*(x+I)/(v.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var O_=null,N_=null;function Ug(s){return s.nodeType===9?s:s.ownerDocument}function CO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PO(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function D_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var M_=null;function D7(){var s=window.event;return s&&s.type==="popstate"?s===M_?!1:(M_=s,!0):(M_=null,!1)}var RO=typeof setTimeout=="function"?setTimeout:void 0,M7=typeof clearTimeout=="function"?clearTimeout:void 0,OO=typeof Promise=="function"?Promise:void 0,k7=typeof queueMicrotask=="function"?queueMicrotask:typeof OO<"u"?function(s){return OO.resolve(null).then(s).catch(j7)}:RO;function j7(s){setTimeout(function(){throw s})}function To(s){return s==="head"}function NO(s,l){var c=l,m=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(m===0){s.removeChild(v),Vc(l);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")sd(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,sd(c);for(var x=c.firstChild;x;){var I=x.nextSibling,j=x.nodeName;x[sa]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=I}}else c==="body"&&sd(s.ownerDocument.body);c=v}while(c);Vc(l)}function DO(s,l){var c=s;s=0;do{var m=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=m}while(c)}function k_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":k_(c),Ju(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function V7(s,l,c,m){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[sa])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=pi(s.nextSibling),s===null)break}return null}function L7(s,l,c){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=pi(s.nextSibling),s===null))return null;return s}function MO(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=pi(s.nextSibling),s===null))return null;return s}function j_(s){return s.data==="$?"||s.data==="$~"}function V_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function z7(s,l){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||c.readyState!=="loading")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function pi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var L_=null;function kO(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(l===0)return pi(s.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}s=s.nextSibling}return null}function jO(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return s;l--}else c!=="/$"&&c!=="/&"||l++}s=s.previousSibling}return null}function VO(s,l,c){switch(l=Ug(c),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function sd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Ju(s)}var gi=new Map,LO=new Set;function Bg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var hs=ie.d;ie.d={f:U7,r:B7,D:F7,C:q7,L:$7,m:H7,X:K7,S:G7,M:W7};function U7(){var s=hs.f(),l=Ng();return s||l}function B7(s){var l=ai(s);l!==null&&l.tag===5&&l.type==="form"?tR(l):hs.r(s)}var Mc=typeof document>"u"?null:document;function zO(s,l,c){var m=Mc;if(m&&typeof l=="string"&&l){var v=Er(l);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),LO.has(v)||(LO.add(v),s={rel:s,crossOrigin:c,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),Gn(l,"link",s),on(l),m.head.appendChild(l)))}}function F7(s){hs.D(s),zO("dns-prefetch",s,null)}function q7(s,l){hs.C(s,l),zO("preconnect",s,l)}function $7(s,l,c){hs.L(s,l,c);var m=Mc;if(m&&s&&l){var v='link[rel="preload"][as="'+Er(l)+'"]';l==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Er(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Er(c.imageSizes)+'"]')):v+='[href="'+Er(s)+'"]';var x=v;switch(l){case"style":x=kc(s);break;case"script":x=jc(s)}gi.has(x)||(s=p({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:s,as:l},c),gi.set(x,s),m.querySelector(v)!==null||l==="style"&&m.querySelector(od(x))||l==="script"&&m.querySelector(ld(x))||(l=m.createElement("link"),Gn(l,"link",s),on(l),m.head.appendChild(l)))}}function H7(s,l){hs.m(s,l);var c=Mc;if(c&&s){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Er(m)+'"][href="'+Er(s)+'"]',x=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=jc(s)}if(!gi.has(x)&&(s=p({rel:"modulepreload",href:s},l),gi.set(x,s),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ld(x)))return}m=c.createElement("link"),Gn(m,"link",s),on(m),c.head.appendChild(m)}}}function G7(s,l,c){hs.S(s,l,c);var m=Mc;if(m&&s){var v=la(m).hoistableStyles,x=kc(s);l=l||"default";var I=v.get(x);if(!I){var j={loading:0,preload:null};if(I=m.querySelector(od(x)))j.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},c),(c=gi.get(x))&&z_(s,c);var $=I=m.createElement("link");on($),Gn($,"link",s),$._p=new Promise(function(J,oe){$.onload=J,$.onerror=oe}),$.addEventListener("load",function(){j.loading|=1}),$.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Fg(I,l,m)}I={type:"stylesheet",instance:I,count:1,state:j},v.set(x,I)}}}function K7(s,l){hs.X(s,l);var c=Mc;if(c&&s){var m=la(c).hoistableScripts,v=jc(s),x=m.get(v);x||(x=c.querySelector(ld(v)),x||(s=p({src:s,async:!0},l),(l=gi.get(v))&&U_(s,l),x=c.createElement("script"),on(x),Gn(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function W7(s,l){hs.M(s,l);var c=Mc;if(c&&s){var m=la(c).hoistableScripts,v=jc(s),x=m.get(v);x||(x=c.querySelector(ld(v)),x||(s=p({src:s,async:!0,type:"module"},l),(l=gi.get(v))&&U_(s,l),x=c.createElement("script"),on(x),Gn(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function UO(s,l,c,m){var v=(v=je.current)?Bg(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=kc(c.href),c=la(v).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=kc(c.href);var x=la(v).hoistableStyles,I=x.get(s);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,I),(x=v.querySelector(od(s)))&&!x._p&&(I.instance=x,I.state.loading=5),gi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},gi.set(s,c),x||Y7(v,s,c,I.state))),l&&m===null)throw Error(r(528,""));return I}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=jc(c),c=la(v).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function kc(s){return'href="'+Er(s)+'"'}function od(s){return'link[rel="stylesheet"]['+s+"]"}function BO(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function Y7(s,l,c,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Gn(l,"link",c),on(l),s.head.appendChild(l))}function jc(s){return'[src="'+Er(s)+'"]'}function ld(s){return"script[async]"+s}function FO(s,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+Er(c.href)+'"]');if(m)return l.instance=m,on(m),m;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),on(m),Gn(m,"style",v),Fg(m,c.precedence,s),l.instance=m;case"stylesheet":v=kc(c.href);var x=s.querySelector(od(v));if(x)return l.state.loading|=4,l.instance=x,on(x),x;m=BO(c),(v=gi.get(v))&&z_(m,v),x=(s.ownerDocument||s).createElement("link"),on(x);var I=x;return I._p=new Promise(function(j,$){I.onload=j,I.onerror=$}),Gn(x,"link",m),l.state.loading|=4,Fg(x,c.precedence,s),l.instance=x;case"script":return x=jc(c.src),(v=s.querySelector(ld(x)))?(l.instance=v,on(v),v):(m=c,(v=gi.get(x))&&(m=p({},c),U_(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),on(v),Gn(v,"link",m),s.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Fg(m,c.precedence,s));return l.instance}function Fg(s,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,x=v,I=0;I<m.length;I++){var j=m[I];if(j.dataset.precedence===l)x=j;else if(x!==v)break}x?x.parentNode.insertBefore(s,x.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(s,l.firstChild))}function z_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function U_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var qg=null;function qO(s,l,c){if(qg===null){var m=new Map,v=qg=new Map;v.set(c,m)}else v=qg,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var x=c[v];if(!(x[sa]||x[sn]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(l)||"";I=s+I;var j=m.get(I);j?j.push(x):m.set(I,[x])}}return m}function $O(s,l,c){s=s.ownerDocument||s,s.head.insertBefore(c,l==="title"?s.querySelector("head > title"):null)}function X7(s,l,c){if(c===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(s=l.disabled,typeof l.precedence=="string"&&s==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function HO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Q7(s,l,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=kc(m.href),x=l.querySelector(od(v));if(x){l=x._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=$g.bind(s),l.then(s,s)),c.state.loading|=4,c.instance=x,on(x);return}x=l.ownerDocument||l,m=BO(m),(v=gi.get(v))&&z_(m,v),x=x.createElement("link"),on(x);var I=x;I._p=new Promise(function(j,$){I.onload=j,I.onerror=$}),Gn(x,"link",m),c.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=$g.bind(s),l.addEventListener("load",c),l.addEventListener("error",c))}}var B_=0;function Z7(s,l){return s.stylesheets&&s.count===0&&Gg(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var m=setTimeout(function(){if(s.stylesheets&&Gg(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+l);0<s.imgBytes&&B_===0&&(B_=62500*N7());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Gg(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>B_?50:800)+l);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function $g(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Hg=null;function Gg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Hg=new Map,l.forEach(J7,s),Hg=null,$g.call(s))}function J7(s,l){if(!(l.state.loading&4)){var c=Hg.get(s);if(c)var m=c.get(null);else{c=new Map,Hg.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var I=v[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),m=I)}m&&c.set(null,m)}v=l.instance,I=v.getAttribute("data-precedence"),x=c.get(I)||m,x===m&&c.set(null,v),c.set(I,v),this.count++,m=$g.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),x?x.parentNode.insertBefore(v,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),l.state.loading|=4}}var ud={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function e$(s,l,c,m,v,x,I,j,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function GO(s,l,c,m,v,x,I,j,$,J,oe,ce){return s=new e$(s,l,c,I,$,J,oe,ce,j),l=1,x===!0&&(l|=24),x=zr(3,null,null,l),s.current=x,x.stateNode=s,l=xx(),l.refCount++,s.pooledCache=l,l.refCount++,x.memoizedState={element:m,isDehydrated:c,cache:l},Tx(x),s}function KO(s){return s?(s=dc,s):dc}function WO(s,l,c,m,v,x){v=KO(v),m.context===null?m.context=v:m.pendingContext=v,m=ho(l),m.payload={element:c},x=x===void 0?null:x,x!==null&&(m.callback=x),c=mo(s,m,l),c!==null&&(Pr(c,s,l),Bh(c,s,l))}function YO(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function F_(s,l){YO(s,l),(s=s.alternate)&&YO(s,l)}function XO(s){if(s.tag===13||s.tag===31){var l=Nl(s,67108864);l!==null&&Pr(l,s,67108864),F_(s,67108864)}}function QO(s){if(s.tag===13||s.tag===31){var l=$r();l=xl(l);var c=Nl(s,l);c!==null&&Pr(c,s,l),F_(s,l)}}var Kg=!0;function t$(s,l,c,m){var v=W.T;W.T=null;var x=ie.p;try{ie.p=2,q_(s,l,c,m)}finally{ie.p=x,W.T=v}}function n$(s,l,c,m){var v=W.T;W.T=null;var x=ie.p;try{ie.p=8,q_(s,l,c,m)}finally{ie.p=x,W.T=v}}function q_(s,l,c,m){if(Kg){var v=$_(m);if(v===null)P_(s,l,m,Wg,c),JO(s,m);else if(i$(v,s,l,c,m))m.stopPropagation();else if(JO(s,m),l&4&&-1<r$.indexOf(s)){for(;v!==null;){var x=ai(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=na(x.pendingLanes);if(I!==0){var j=x;for(j.pendingLanes|=2,j.entangledLanes|=2;I;){var $=1<<31-en(I);j.entanglements[1]|=$,I&=~$}_a(x),(ut&6)===0&&(Rg=Un()+500,rd(0))}}break;case 31:case 13:j=Nl(x,2),j!==null&&Pr(j,x,2),Ng(),F_(x,2)}if(x=$_(m),x===null&&P_(s,l,m,Wg,c),x===v)break;v=x}v!==null&&m.stopPropagation()}else P_(s,l,m,null,c)}}function $_(s){return s=si(s),H_(s)}var Wg=null;function H_(s){if(Wg=null,s=oa(s),s!==null){var l=a(s);if(l===null)s=null;else{var c=l.tag;if(c===13){if(s=o(l),s!==null)return s;s=null}else if(c===31){if(s=u(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Wg=s,null}function ZO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case it:return 2;case Cn:return 8;case kr:case Pt:return 32;case Ap:return 268435456;default:return 32}default:return 32}}var G_=!1,So=null,Ao=null,Io=null,cd=new Map,fd=new Map,Co=[],r$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JO(s,l){switch(s){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":cd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(l.pointerId)}}function hd(s,l,c,m,v,x){return s===null||s.nativeEvent!==x?(s={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},l!==null&&(l=ai(l),l!==null&&XO(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),s)}function i$(s,l,c,m,v){switch(l){case"focusin":return So=hd(So,s,l,c,m,v),!0;case"dragenter":return Ao=hd(Ao,s,l,c,m,v),!0;case"mouseover":return Io=hd(Io,s,l,c,m,v),!0;case"pointerover":var x=v.pointerId;return cd.set(x,hd(cd.get(x)||null,s,l,c,m,v)),!0;case"gotpointercapture":return x=v.pointerId,fd.set(x,hd(fd.get(x)||null,s,l,c,m,v)),!0}return!1}function e2(s){var l=oa(s.target);if(l!==null){var c=a(l);if(c!==null){if(l=c.tag,l===13){if(l=o(c),l!==null){s.blockedOn=l,Di(s.priority,function(){QO(c)});return}}else if(l===31){if(l=u(c),l!==null){s.blockedOn=l,Di(s.priority,function(){QO(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=$_(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Sh=m,c.target.dispatchEvent(m),Sh=null}else return l=ai(c),l!==null&&XO(l),s.blockedOn=c,!1;l.shift()}return!0}function t2(s,l,c){Yg(s)&&c.delete(l)}function a$(){G_=!1,So!==null&&Yg(So)&&(So=null),Ao!==null&&Yg(Ao)&&(Ao=null),Io!==null&&Yg(Io)&&(Io=null),cd.forEach(t2),fd.forEach(t2)}function Xg(s,l){s.blockedOn===l&&(s.blockedOn=null,G_||(G_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a$)))}var Qg=null;function n2(s){Qg!==s&&(Qg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qg===s&&(Qg=null);for(var l=0;l<s.length;l+=3){var c=s[l],m=s[l+1],v=s[l+2];if(typeof m!="function"){if(H_(m||c)===null)continue;break}var x=ai(c);x!==null&&(s.splice(l,3),l-=3,$x(x,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function Vc(s){function l($){return Xg($,s)}So!==null&&Xg(So,s),Ao!==null&&Xg(Ao,s),Io!==null&&Xg(Io,s),cd.forEach(l),fd.forEach(l);for(var c=0;c<Co.length;c++){var m=Co[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Co.length&&(c=Co[0],c.blockedOn===null);)e2(c),c.blockedOn===null&&Co.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],x=c[m+1],I=v[Pn]||null;if(typeof x=="function")I||n2(c);else if(I){var j=null;if(x&&x.hasAttribute("formAction")){if(v=x,I=x[Pn]||null)j=I.formAction;else if(H_(v)!==null)continue}else j=I.action;typeof j=="function"?c[m+1]=j:(c.splice(m,3),m-=3),n2(c)}}}function r2(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function K_(s){this._internalRoot=s}Zg.prototype.render=K_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,m=$r();WO(c,m,s,l,null,null)},Zg.prototype.unmount=K_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;WO(s.current,2,null,s,null,null),Ng(),l[aa]=null}};function Zg(s){this._internalRoot=s}Zg.prototype.unstable_scheduleHydration=function(s){if(s){var l=Np();s={blockedOn:null,target:s,priority:l};for(var c=0;c<Co.length&&l!==0&&l<Co[c].priority;c++);Co.splice(c,0,s),c===0&&e2(s)}};var i2=e.version;if(i2!=="19.2.4")throw Error(r(527,i2,"19.2.4"));ie.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var s$={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{Oi=Jg.inject(s$),Bn=Jg}catch{}}return md.createRoot=function(s,l){if(!i(s))throw Error(r(299));var c=!1,m="",v=fR,x=hR,I=dR;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=GO(s,1,!1,null,null,c,m,null,v,x,I,r2),s[aa]=l.current,C_(s),new K_(l)},md.hydrateRoot=function(s,l,c){if(!i(s))throw Error(r(299));var m=!1,v="",x=fR,I=hR,j=dR,$=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),l=GO(s,1,!0,l,c??null,m,v,$,x,I,j,r2),l.context=KO(null),c=l.current,m=$r(),m=xl(m),v=ho(m),v.callback=null,mo(c,v,m),c=m,l.current.lanes=c,vl(l,c),_a(l),s[aa]=l.current,C_(s),new Zg(l)},md.version="19.2.4",md}var m2;function v$(){if(m2)return X_.exports;m2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X_.exports=y$(),X_.exports}var b$=v$();var p2="popstate";function x$(t={}){function e(i,a){let{pathname:o="/",search:u="",hash:f=""}=qu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),hE("",{pathname:o,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof a=="string"?a:im(a))}function r(i,a){Si(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return w$(e,n,r,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _$(){return Math.random().toString(36).substring(2,10)}function g2(t,e){return{usr:t.state,key:t.key,idx:e}}function hE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qu(e):e,state:n,key:e&&e.key||r||_$()}}function im({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function w$(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",f=null,h=d();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function d(){return(o.state||{idx:null}).idx}function p(){u="POP";let E=d(),C=E==null?null:E-h;h=E,f&&f({action:u,location:S.location,delta:C})}function y(E,C){u="PUSH";let D=hE(S.location,E,C);n&&n(D,E),h=d()+1;let N=g2(D,h),M=S.createHref(D);try{o.pushState(N,"",M)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(M)}a&&f&&f({action:u,location:S.location,delta:1})}function b(E,C){u="REPLACE";let D=hE(S.location,E,C);n&&n(D,E),h=d();let N=g2(D,h),M=S.createHref(D);o.replaceState(N,"",M),a&&f&&f({action:u,location:S.location,delta:0})}function w(E){return E$(E)}let S={get action(){return u},get location(){return t(i,o)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(p2,p),f=E,()=>{i.removeEventListener(p2,p),f=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let C=w(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:b,go(E){return o.go(E)}};return S}function E$(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:im(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function y4(t,e,n="/"){return T$(t,e,n,!1)}function T$(t,e,n,r){let i=typeof e=="string"?qu(e):e,a=As(i.pathname||"/",n);if(a==null)return null;let o=v4(t);S$(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let h=j$(a);u=M$(o[f],h,r)}return u}function v4(t,e=[],n=[],r="",i=!1){let a=(o,u,f=i,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&f)return;Lt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=_s([r,d.relativePath]),y=n.concat(d);o.children&&o.children.length>0&&(Lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),v4(o.children,e,y,p,f)),!(o.path==null&&!o.index)&&e.push({path:p,score:N$(p,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let f of b4(o.path))a(o,u,!0,f)}),e}function b4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=b4(r.join("/")),u=[];return u.push(...o.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...o),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function S$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var A$=/^:[\w-]+$/,I$=3,C$=2,P$=1,R$=10,O$=-2,y2=t=>t==="*";function N$(t,e){let n=t.split("/"),r=n.length;return n.some(y2)&&(r+=O$),e&&(r+=C$),n.filter(i=>!y2(i)).reduce((i,a)=>i+(A$.test(a)?I$:a===""?P$:R$),r)}function D$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M$(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=uv({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},d),y=f.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=uv({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:_s([a,p.pathname]),pathnameBase:U$(_s([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=_s([a,p.pathnameBase]))}return o}function uv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:p},y)=>{if(d==="*"){let w=u[y]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[y];return p&&!b?h[d]=void 0:h[d]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function k$(t,e=!1,n=!0){Si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function j$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function As(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var V$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function L$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qu(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=v2(n.substring(1),"/"):a=v2(n,e)):a=e,{pathname:a,search:B$(r),hash:F$(i)}}function v2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ew(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bS(t){let e=z$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xS(t,e,n,r=!1){let i;typeof t=="string"?i=qu(t):(i={...t},Lt(!i.pathname||!i.pathname.includes("?"),ew("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),ew("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),ew("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let f=L$(i,u),h=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||d)&&(f.pathname+="/"),f}var _s=t=>t.join("/").replace(/\/\/+/g,"/"),U$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,q$=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function H$(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var x4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _4(t,e){let n=t;if(typeof n!="string"||!V$.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(x4)try{let a=new URL(window.location.href),o=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=As(o.pathname,e);o.origin===a.origin&&u!=null?n=u+o.search+o.hash:i=!0}catch{Si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w4=["POST","PUT","PATCH","DELETE"];new Set(w4);var G$=["GET",...w4];new Set(G$);var Hf=T.createContext(null);Hf.displayName="DataRouter";var M0=T.createContext(null);M0.displayName="DataRouterState";var K$=T.createContext(!1),E4=T.createContext({isTransitioning:!1});E4.displayName="ViewTransition";var W$=T.createContext(new Map);W$.displayName="Fetchers";var Y$=T.createContext(null);Y$.displayName="Await";var ti=T.createContext(null);ti.displayName="Navigation";var Fm=T.createContext(null);Fm.displayName="Location";var Ha=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ha.displayName="Route";var _S=T.createContext(null);_S.displayName="RouteError";var T4="REACT_ROUTER_ERROR",X$="REDIRECT",Q$="ROUTE_ERROR_RESPONSE";function Z$(t){if(t.startsWith(`${T4}:${X$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function J$(t){if(t.startsWith(`${T4}:${Q$}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new q$(e.status,e.statusText,e.data)}catch{}}function eH(t,{relative:e}={}){Lt(Gf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(ti),{hash:i,pathname:a,search:o}=qm(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:_s([n,a])),r.createHref({pathname:u,search:o,hash:i})}function Gf(){return T.useContext(Fm)!=null}function Ga(){return Lt(Gf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Fm).location}var S4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A4(t){T.useContext(ti).static||T.useLayoutEffect(t)}function zs(){let{isDataRoute:t}=T.useContext(Ha);return t?dH():tH()}function tH(){Lt(Gf(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Hf),{basename:e,navigator:n}=T.useContext(ti),{matches:r}=T.useContext(Ha),{pathname:i}=Ga(),a=JSON.stringify(bS(r)),o=T.useRef(!1);return A4(()=>{o.current=!0}),T.useCallback((f,h={})=>{if(Si(o.current,S4),!o.current)return;if(typeof f=="number"){n.go(f);return}let d=xS(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_s([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,a,i,t])}T.createContext(null);function qm(t,{relative:e}={}){let{matches:n}=T.useContext(Ha),{pathname:r}=Ga(),i=JSON.stringify(bS(n));return T.useMemo(()=>xS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function nH(t,e){return I4(t,e)}function I4(t,e,n,r,i){Lt(Gf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(ti),{matches:o}=T.useContext(Ha),u=o[o.length-1],f=u?u.params:{},h=u?u.pathname:"/",d=u?u.pathnameBase:"/",p=u&&u.route;{let D=p&&p.path||"";P4(h,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Ga(),b;if(e){let D=typeof e=="string"?qu(e):e;Lt(d==="/"||D.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=y;let w=b.pathname||"/",S=w;if(d!=="/"){let D=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let E=y4(t,{pathname:S});Si(p||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Si(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=oH(E&&E.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:_s([d,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:_s([d,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),o,n,r,i);return e&&C?T.createElement(Fm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function rH(){let t=hH(),e=$$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}var iH=T.createElement(rH,null),C4=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=J$(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(Ha.Provider,{value:this.props.routeContext},T.createElement(_S.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(aH,{error:t},e):e}};C4.contextType=K$;var tw=new WeakMap;function aH({children:t,error:e}){let{basename:n}=T.useContext(ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Z$(e.digest);if(r){let i=tw.get(e);if(i)throw i;let a=_4(r.location,n);if(x4&&!tw.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw tw.set(e,o),o}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function sH({routeContext:t,match:e,children:n}){let r=T.useContext(Hf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ha.Provider,{value:t},n)}function oH(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Lt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:y,errors:b}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=n&&r?(d,p)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:H$(n.matches),errorInfo:p})}:void 0;return a.reduceRight((d,p,y)=>{let b,w=!1,S=null,E=null;n&&(b=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||iH,u&&(f<0&&y===0?(P4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===y&&(w=!0,E=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,y+1)),D=()=>{let N;return b?N=S:w?N=E:p.route.Component?N=T.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,T.createElement(sH,{match:p,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?T.createElement(C4,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):D()},null)}function wS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lH(t){let e=T.useContext(Hf);return Lt(e,wS(t)),e}function uH(t){let e=T.useContext(M0);return Lt(e,wS(t)),e}function cH(t){let e=T.useContext(Ha);return Lt(e,wS(t)),e}function ES(t){let e=cH(t),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fH(){return ES("useRouteId")}function hH(){let t=T.useContext(_S),e=uH("useRouteError"),n=ES("useRouteError");return t!==void 0?t:e.errors?.[n]}function dH(){let{router:t}=lH("useNavigate"),e=ES("useNavigate"),n=T.useRef(!1);return A4(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{Si(n.current,S4),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var b2={};function P4(t,e,n){!e&&!b2[t]&&(b2[t]=!0,Si(!1,n))}T.memo(mH);function mH({routes:t,future:e,state:n,onError:r}){return I4(t,void 0,n,r,e)}function cv({to:t,replace:e,state:n,relative:r}){Lt(Gf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(ti);Si(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Ha),{pathname:o}=Ga(),u=zs(),f=xS(t,bS(a),o,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function Sa(t){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pH({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){Lt(!Gf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[u,i,a,o]);typeof n=="string"&&(n=qu(n));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:b="default"}=n,w=T.useMemo(()=>{let S=As(h,u);return S==null?null:{location:{pathname:S,search:d,hash:p,state:y,key:b},navigationType:r}},[u,h,d,p,y,b,r]);return Si(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(ti.Provider,{value:f},T.createElement(Fm.Provider,{children:e,value:w}))}function gH({children:t,location:e}){return nH(dE(t),e)}function dE(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,dE(r.props.children,a));return}Lt(r.type===Sa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dE(r.props.children,a)),n.push(o)}),n}var Oy="get",Ny="application/x-www-form-urlencoded";function k0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yH(t){return k0(t)&&t.tagName.toLowerCase()==="button"}function vH(t){return k0(t)&&t.tagName.toLowerCase()==="form"}function bH(t){return k0(t)&&t.tagName.toLowerCase()==="input"}function xH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _H(t,e){return t.button===0&&(!e||e==="_self")&&!xH(t)}var ey=null;function wH(){if(ey===null)try{new FormData(document.createElement("form"),0),ey=!1}catch{ey=!0}return ey}var EH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nw(t){return t!=null&&!EH.has(t)?(Si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ny}"`),null):t}function TH(t,e){let n,r,i,a,o;if(vH(t)){let u=t.getAttribute("action");r=u?As(u,e):null,n=t.getAttribute("method")||Oy,i=nw(t.getAttribute("enctype"))||Ny,a=new FormData(t)}else if(yH(t)||bH(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?As(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Oy,i=nw(t.getAttribute("formenctype"))||nw(u.getAttribute("enctype"))||Ny,a=new FormData(u,t),!wH()){let{name:h,type:d,value:p}=t;if(d==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,p)}}else{if(k0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oy,r=null,i=Ny,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function TS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SH(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&As(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function AH(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IH(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CH(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await AH(a,n);return o.links?o.links():[]}return[]}));return NH(r.flat(1).filter(IH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x2(t,e,n,r,i,a){let o=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>o(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{let d=r.routes[f.route.id];if(!d||!d.hasLoader)return!1;if(o(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function PH(t,e,{includeHydrateFallback:n}={}){return RH(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function RH(t){return[...new Set(t)]}function OH(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function NH(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(OH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function R4(){let t=T.useContext(Hf);return TS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DH(){let t=T.useContext(M0);return TS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var SS=T.createContext(void 0);SS.displayName="FrameworkContext";function O4(){let t=T.useContext(SS);return TS(t,"You must render this element inside a <HydratedRouter> element"),t}function MH(t,e){let n=T.useContext(SS),[r,i]=T.useState(!1),[a,o]=T.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=C=>{C.forEach(D=>{o(D.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:pd(u,b),onBlur:pd(f,w),onMouseEnter:pd(h,b),onMouseLeave:pd(d,w),onTouchStart:pd(p,b)}]:[!1,y,{}]}function pd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kH({page:t,...e}){let{router:n}=R4(),r=T.useMemo(()=>y4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(VH,{page:t,matches:r,...e}):null}function jH(t){let{manifest:e,routeModules:n}=O4(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return CH(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function VH({page:t,matches:e,...n}){let r=Ga(),{future:i,manifest:a,routeModules:o}=O4(),{basename:u}=R4(),{loaderData:f,matches:h}=DH(),d=T.useMemo(()=>x2(t,e,h,a,r,"data"),[t,e,h,a,r]),p=T.useMemo(()=>x2(t,e,h,a,r,"assets"),[t,e,h,a,r]),y=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(e.forEach(D=>{let N=a.routes[D.route.id];!N||!N.hasLoader||(!d.some(M=>M.route.id===D.route.id)&&D.route.id in f&&o[D.route.id]?.shouldRevalidate||N.hasClientLoader?E=!0:S.add(D.route.id))}),S.size===0)return[];let C=SH(t,u,i.unstable_trailingSlashAwareDataRequests,"data");return E&&S.size>0&&C.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[u,i.unstable_trailingSlashAwareDataRequests,f,r,a,d,e,t,o]),b=T.useMemo(()=>PH(p,a),[p,a]),w=jH(p);return T.createElement(T.Fragment,null,y.map(S=>T.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>T.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:E})=>T.createElement("link",{key:S,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function LH(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zH&&(window.__reactRouterVersion="7.13.0")}catch{}function UH({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=x$({window:r,v5Compat:!0}));let a=i.current,[o,u]=T.useState({action:a.action,location:a.location}),f=T.useCallback(h=>{n===!1?u(h):T.startTransition(()=>u(h))},[n]);return T.useLayoutEffect(()=>a.listen(f),[a,f]),T.createElement(pH,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}var N4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D4=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:u,target:f,to:h,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:y,...b},w){let{basename:S,unstable_useTransitions:E}=T.useContext(ti),C=typeof h=="string"&&N4.test(h),D=_4(h,S);h=D.to;let N=eH(h,{relative:i}),[M,V,L]=MH(r,b),R=$H(h,{replace:o,state:u,target:f,preventScrollReset:d,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function O(F){e&&e(F),F.defaultPrevented||R(F)}let k=T.createElement("a",{...b,...L,href:D.absoluteURL||N,onClick:D.isExternal||a?e:O,ref:LH(w,V),target:f,"data-discover":!C&&n==="render"?"true":void 0});return M&&!C?T.createElement(T.Fragment,null,k,T.createElement(kH,{page:N})):k});D4.displayName="Link";var BH=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:f,...h},d){let p=qm(o,{relative:h.relative}),y=Ga(),b=T.useContext(M0),{navigator:w,basename:S}=T.useContext(ti),E=b!=null&&YH(p)&&u===!0,C=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,D=y.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&S&&(N=As(N,S)||N);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let V=D===C||!i&&D.startsWith(C)&&D.charAt(M)==="/",L=N!=null&&(N===C||!i&&N.startsWith(C)&&N.charAt(C.length)==="/"),R={isActive:V,isPending:L,isTransitioning:E},O=V?e:void 0,k;typeof r=="function"?k=r(R):k=[r,V?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(R):a;return T.createElement(D4,{...h,"aria-current":O,className:k,ref:d,style:F,to:o,viewTransition:u},typeof f=="function"?f(R):f)});BH.displayName="NavLink";var FH=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Oy,action:u,onSubmit:f,relative:h,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:y,...b},w)=>{let{unstable_useTransitions:S}=T.useContext(ti),E=KH(),C=WH(u,{relative:h}),D=o.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&N4.test(u),M=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let L=V.nativeEvent.submitter,R=L?.getAttribute("formmethod")||o,O=()=>E(L||V.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:a,relative:h,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:y});S&&n!==!1?T.startTransition(()=>O()):O()};return T.createElement("form",{ref:w,method:D,action:C,onSubmit:r?f:M,...b,"data-discover":!N&&t==="render"?"true":void 0})});FH.displayName="Form";function qH(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M4(t){let e=T.useContext(Hf);return Lt(e,qH(t)),e}function $H(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=zs(),d=Ga(),p=qm(t,{relative:a});return T.useCallback(y=>{if(_H(y,e)){y.preventDefault();let b=n!==void 0?n:im(d)===im(p),w=()=>h(t,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:u});f?T.startTransition(()=>w()):w()}},[d,h,p,n,r,e,t,i,a,o,u,f])}var HH=0,GH=()=>`__${String(++HH)}__`;function KH(){let{router:t}=M4("useSubmit"),{basename:e}=T.useContext(ti),n=fH(),r=t.fetch,i=t.navigate;return T.useCallback(async(a,o={})=>{let{action:u,method:f,encType:h,formData:d,body:p}=TH(a,e);if(o.navigate===!1){let y=o.fetcherKey||GH();await r(y,n,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await i(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function WH(t,{relative:e}={}){let{basename:n}=T.useContext(ti),r=T.useContext(Ha);Lt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...qm(t||".",{relative:e})},o=Ga();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(d=>d==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let d=u.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:_s([n,a.pathname])),im(a)}function YH(t,{relative:e}={}){let n=T.useContext(E4);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=M4("useViewTransitionState"),i=qm(t,{relative:e});if(!n.isTransitioning)return!1;let a=As(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=As(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uv(i.pathname,o)!=null||uv(i.pathname,a)!=null}var k4=g4();const XH=()=>{};var _2={};const j4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},V4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,d=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,b=h&63;f||(b=64,o||(y=64)),r.push(n[d],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||p==null)throw new ZH;const y=a<<2|u>>4;if(r.push(y),h!==64){const b=u<<4&240|h>>2;if(r.push(b),p!==64){const w=h<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JH=function(t){const e=j4(t);return V4.encodeByteArray(e,!0)},fv=function(t){return JH(t).replace(/\./g,"")},L4=function(t){try{return V4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eG=()=>z4().__FIREBASE_DEFAULTS__,tG=()=>{if(typeof process>"u"||typeof _2>"u")return;const t=_2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&L4(t[1]);return e&&JSON.parse(e)},j0=()=>{try{return XH()||eG()||tG()||nG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U4=t=>j0()?.emulatorHosts?.[t],rG=t=>{const e=U4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B4=()=>j0()?.config,F4=t=>j0()?.[`_${t}`];class iG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Kf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q4(t){return(await fetch(t,{credentials:"include"})).ok}function aG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fv(JSON.stringify(n)),fv(JSON.stringify(o)),""].join(".")}const qd={};function sG(){const t={prod:[],emulator:[]};for(const e of Object.keys(qd))qd[e]?t.emulator.push(e):t.prod.push(e);return t}function oG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w2=!1;function $4(t,e){if(typeof window>"u"||typeof document>"u"||!Kf(window.location.host)||qd[t]===e||qd[t]||w2)return;qd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=sG().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{w2=!0,o()},y}function d(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=oG(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const N=y.element;u(N),d(E,S);const M=h();f(D,C),N.append(D,w,E,M),document.body.appendChild(N)}a?(w.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function H4(){const t=j0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hG(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G4(){return!H4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K4(){return!H4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function W4(){try{return typeof indexedDB=="object"}catch{return!1}}function dG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const mG="FirebaseError";class Us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mG,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$m.prototype.create)}}class $m{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?pG(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Us(i,u,r)}}function pG(t,e){return t.replace(gG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gG=/\{\$([^}]+)}/g;function yG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Su(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(E2(a)&&E2(o)){if(!Su(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E2(t){return t!==null&&typeof t=="object"}function Hm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Dd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vG(t,e){const n=new bG(t,e);return n.subscribe.bind(n)}class bG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rw),i.error===void 0&&(i.error=rw),i.complete===void 0&&(i.complete=rw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rw(){}function yn(t){return t&&t._delegate?t._delegate:t}class Au{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wl="[DEFAULT]";let _G=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EG(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wG(t){return t===Wl?void 0:t}function EG(t){return t.instantiationMode==="EAGER"}class TG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _G(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const SG={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},AG=Ze.INFO,IG={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},CG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class AS{constructor(e){this.name=e,this._logLevel=AG,this._logHandler=CG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const PG=(t,e)=>e.some(n=>t instanceof n);let T2,S2;function RG(){return T2||(T2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OG(){return S2||(S2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y4=new WeakMap,mE=new WeakMap,X4=new WeakMap,iw=new WeakMap,IS=new WeakMap;function NG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Y4.set(n,t)}).catch(()=>{}),IS.set(e,t),e}function DG(t){if(mE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});mE.set(t,e)}let pE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MG(t){pE=t(pE)}function kG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(aw(this),e,...n);return X4.set(r,e.sort?e.sort():[e]),Go(r)}:OG().includes(t)?function(...e){return t.apply(aw(this),e),Go(Y4.get(this))}:function(...e){return Go(t.apply(aw(this),e))}}function jG(t){return typeof t=="function"?kG(t):(t instanceof IDBTransaction&&DG(t),PG(t,RG())?new Proxy(t,pE):t)}function Go(t){if(t instanceof IDBRequest)return NG(t);if(iw.has(t))return iw.get(t);const e=jG(t);return e!==t&&(iw.set(t,e),IS.set(e,t)),e}const aw=t=>IS.get(t);function VG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=Go(o);return r&&o.addEventListener("upgradeneeded",f=>{r(Go(o.result),f.oldVersion,f.newVersion,Go(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const LG=["get","getKey","getAll","getAllKeys","count"],zG=["put","add","delete","clear"],sw=new Map;function A2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sw.get(e))return sw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LG.includes(n)))return;const a=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return sw.set(e,a),a}MG(t=>({...t,get:(e,n,r)=>A2(e,n)||t.get(e,n,r),has:(e,n)=>!!A2(e,n)||t.has(e,n)}));class UG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BG(t){return t.getComponent()?.type==="VERSION"}const gE="@firebase/app",I2="0.14.8";const Is=new AS("@firebase/app"),FG="@firebase/app-compat",qG="@firebase/analytics-compat",$G="@firebase/analytics",HG="@firebase/app-check-compat",GG="@firebase/app-check",KG="@firebase/auth",WG="@firebase/auth-compat",YG="@firebase/database",XG="@firebase/data-connect",QG="@firebase/database-compat",ZG="@firebase/functions",JG="@firebase/functions-compat",eK="@firebase/installations",tK="@firebase/installations-compat",nK="@firebase/messaging",rK="@firebase/messaging-compat",iK="@firebase/performance",aK="@firebase/performance-compat",sK="@firebase/remote-config",oK="@firebase/remote-config-compat",lK="@firebase/storage",uK="@firebase/storage-compat",cK="@firebase/firestore",fK="@firebase/ai",hK="@firebase/firestore-compat",dK="firebase",mK="12.9.0";const yE="[DEFAULT]",pK={[gE]:"fire-core",[FG]:"fire-core-compat",[$G]:"fire-analytics",[qG]:"fire-analytics-compat",[GG]:"fire-app-check",[HG]:"fire-app-check-compat",[KG]:"fire-auth",[WG]:"fire-auth-compat",[YG]:"fire-rtdb",[XG]:"fire-data-connect",[QG]:"fire-rtdb-compat",[ZG]:"fire-fn",[JG]:"fire-fn-compat",[eK]:"fire-iid",[tK]:"fire-iid-compat",[nK]:"fire-fcm",[rK]:"fire-fcm-compat",[iK]:"fire-perf",[aK]:"fire-perf-compat",[sK]:"fire-rc",[oK]:"fire-rc-compat",[lK]:"fire-gcs",[uK]:"fire-gcs-compat",[cK]:"fire-fst",[hK]:"fire-fst-compat",[fK]:"fire-vertex","fire-js":"fire-js",[dK]:"fire-js-all"};const hv=new Map,gK=new Map,vE=new Map;function C2(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _f(t){const e=t.name;if(vE.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;vE.set(e,t);for(const n of hv.values())C2(n,t);for(const n of gK.values())C2(n,t);return!0}function CS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t==null?!1:t.settings!==void 0}const yK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ko=new $m("app","Firebase",yK);class vK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}const Wf=mK;function Q4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:yE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(n||(n=B4()),!n)throw Ko.create("no-options");const a=hv.get(i);if(a){if(Su(n,a.options)&&Su(r,a.config))return a;throw Ko.create("duplicate-app",{appName:i})}const o=new TG(i);for(const f of vE.values())o.addComponent(f);const u=new vK(n,r,o);return hv.set(i,u),u}function Z4(t=yE){const e=hv.get(t);if(!e&&t===yE&&B4())return Q4();if(!e)throw Ko.create("no-app",{appName:t});return e}function Wo(t,e,n){let r=pK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(o.join(" "));return}_f(new Au(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const bK="firebase-heartbeat-database",xK=1,am="firebase-heartbeat-store";let ow=null;function J4(){return ow||(ow=VG(bK,xK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(am)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ko.create("idb-open",{originalErrorMessage:t.message})})),ow}async function _K(t){try{const n=(await J4()).transaction(am),r=await n.objectStore(am).get(e3(t));return await n.done,r}catch(e){if(e instanceof Us)Is.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function P2(t,e){try{const r=(await J4()).transaction(am,"readwrite");await r.objectStore(am).put(e,e3(t)),await r.done}catch(n){if(n instanceof Us)Is.warn(n.message);else{const r=Ko.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function e3(t){return`${t.name}!${t.options.appId}`}const wK=1024,EK=30;class TK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>EK){const i=IK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R2(),{heartbeatsToSend:n,unsentEntries:r}=SK(this._heartbeatsCache.heartbeats),i=fv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Is.warn(e),""}}}function R2(){return new Date().toISOString().substring(0,10)}function SK(t,e=wK){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),O2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),O2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W4()?dG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _K(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function O2(t){return fv(JSON.stringify({version:2,heartbeats:t})).length}function IK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function CK(t){_f(new Au("platform-logger",e=>new UG(e),"PRIVATE")),_f(new Au("heartbeat",e=>new TK(e),"PRIVATE")),Wo(gE,I2,t),Wo(gE,I2,"esm2020"),Wo("fire-js","")}CK("");var PK="firebase",RK="12.9.0";Wo(PK,RK,"app");function t3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OK=t3,n3=new $m("auth","Firebase",t3());const dv=new AS("@firebase/auth");function NK(t,...e){dv.logLevel<=Ze.WARN&&dv.warn(`Auth (${Wf}): ${t}`,...e)}function Dy(t,...e){dv.logLevel<=Ze.ERROR&&dv.error(`Auth (${Wf}): ${t}`,...e)}function Ai(t,...e){throw RS(t,...e)}function Xi(t,...e){return RS(t,...e)}function PS(t,e,n){const r={...OK(),[e]:n};return new $m("auth","Firebase",r).create(e,{appName:t.name})}function ws(t){return PS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ai(t,"argument-error"),PS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function RS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n3.create(t,...e)}function Le(t,e,...n){if(!t)throw RS(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dy(e),new Error(e)}function Cs(t,e){t||gs(e)}function bE(){return typeof self<"u"&&self.location?.href||""}function MK(){return N2()==="http:"||N2()==="https:"}function N2(){return typeof self<"u"&&self.location?.protocol||null}function kK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MK()||cG()||"connection"in navigator)?navigator.onLine:!0}function jK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Gm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cs(n>e,"Short delay should be less than long delay!"),this.isMobile=lG()||fG()}get(){return kK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function OS(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class r3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zK=new Gm(3e4,6e4);function ul(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Bs(t,e,n,r,i={}){return i3(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const u=Hm({key:t.config.apiKey,...o}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...a};return uG()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Kf(t.emulatorConfig.host)&&(h.credentials="include"),r3.fetch()(await a3(t,t.config.apiHost,n,u),h)})}async function i3(t,e,n){t._canInitEmulator=!1;const r={...VK,...e};try{const i=new BK(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw ty(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ty(t,"credential-already-in-use",o);if(f==="EMAIL_EXISTS")throw ty(t,"email-already-in-use",o);if(f==="USER_DISABLED")throw ty(t,"user-disabled",o);const d=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw PS(t,d,h);Ai(t,d)}}catch(i){if(i instanceof Us)throw i;Ai(t,"network-request-failed",{message:String(i)})}}async function Km(t,e,n,r,i={}){const a=await Bs(t,e,n,r,i);return"mfaPendingCredential"in a&&Ai(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function a3(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?OS(t.config,i):`${t.config.apiScheme}://${i}`;return LK.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function UK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),zK.get())})}}function ty(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xi(t,e,r);return i.customData._tokenResponse=n,i}function D2(t){return t!==void 0&&t.enterprise!==void 0}class FK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qK(t,e){return Bs(t,"GET","/v2/recaptchaConfig",ul(t,e))}async function $K(t,e){return Bs(t,"POST","/v1/accounts:delete",e)}async function mv(t,e){return Bs(t,"POST","/v1/accounts:lookup",e)}function $d(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HK(t,e=!1){const n=yn(t),r=await n.getIdToken(e),i=NS(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:$d(lw(i.auth_time)),issuedAtTime:$d(lw(i.iat)),expirationTime:$d(lw(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function lw(t){return Number(t)*1e3}function NS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dy("JWT malformed, contained fewer than 3 sections"),null;try{const i=L4(n);return i?JSON.parse(i):(Dy("Failed to decode base64 JWT payload"),null)}catch(i){return Dy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function M2(t){const e=NS(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Us&&GK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class KK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$d(this.lastLoginAt),this.creationTime=$d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pv(t){const e=t.auth,n=await t.getIdToken(),r=await wf(t,mv(e,{idToken:n}));Le(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?s3(i.providerUserInfo):[],o=YK(t.providerData,a),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!o?.length,h=u?f:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function WK(t){const e=yn(t);await pv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function XK(t,e){const n=await i3(t,{},async()=>{const r=Hm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await a3(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&Kf(t.emulatorConfig.host)&&(f.credentials="include"),r3.fetch()(o,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QK(t,e){return Bs(t,"POST","/v2/accounts:revokeToken",ul(t,e))}class cf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=M2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await XK(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new cf;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Le(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cf,this.toJSON())}_performRefresh(){return gs("not implemented")}}function Ro(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new KK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wf(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HK(this,e)}reload(){return WK(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await wf(this,$K(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:b,providerData:w,stsTokenManager:S}=n;Le(p&&S,e,"internal-error");const E=cf.fromJSON(this.name,S);Le(typeof p=="string",e,"internal-error"),Ro(r,e.name),Ro(i,e.name),Le(typeof y=="boolean",e,"internal-error"),Le(typeof b=="boolean",e,"internal-error"),Ro(a,e.name),Ro(o,e.name),Ro(u,e.name),Ro(f,e.name),Ro(h,e.name),Ro(d,e.name);const C=new Yi({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:o,phoneNumber:a,tenantId:u,stsTokenManager:E,createdAt:h,lastLoginAt:d});return w&&Array.isArray(w)&&(C.providerData=w.map(D=>({...D}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new cf;i.updateFromServerResponse(n);const a=new Yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?s3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,u=new cf;u.updateFromIdToken(r);const f=new Yi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,h),f}}const k2=new Map;function ys(t){Cs(t instanceof Function,"Expected a class definition");let e=k2.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k2.set(t,e),e)}class o3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o3.type="NONE";const j2=o3;function My(t,e,n){return`firebase:${t}:${e}:${n}`}class ff{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=My(this.userKey,i.apiKey,a),this.fullPersistenceKey=My("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mv(this.auth,{idToken:e}).catch(()=>{});return n?Yi._fromGetAccountInfoResponse(this.auth,n,e):null}return Yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ff(ys(j2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||ys(j2);const o=My(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const d=await h._get(o);if(d){let p;if(typeof d=="string"){const y=await mv(e,{idToken:d}).catch(()=>{});if(!y)break;p=await Yi._fromGetAccountInfoResponse(e,y,d)}else p=Yi._fromJSON(e,d);h!==a&&(u=p),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ff(a,e,r):(a=f[0],u&&await a._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new ff(a,e,r))}}function V2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d3(e))return"Blackberry";if(m3(e))return"Webos";if(u3(e))return"Safari";if((e.includes("chrome/")||c3(e))&&!e.includes("edge/"))return"Chrome";if(h3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function l3(t=En()){return/firefox\//i.test(t)}function u3(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c3(t=En()){return/crios\//i.test(t)}function f3(t=En()){return/iemobile/i.test(t)}function h3(t=En()){return/android/i.test(t)}function d3(t=En()){return/blackberry/i.test(t)}function m3(t=En()){return/webos/i.test(t)}function DS(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZK(t=En()){return DS(t)&&!!window.navigator?.standalone}function JK(){return hG()&&document.documentMode===10}function p3(t=En()){return DS(t)||h3(t)||m3(t)||d3(t)||/windows phone/i.test(t)||f3(t)}function g3(t,e=[]){let n;switch(t){case"Browser":n=V2(En());break;case"Worker":n=`${V2(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wf}/${r}`}class eW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,u)=>{try{const f=e(a);o(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function tW(t,e={}){return Bs(t,"GET","/v2/passwordPolicy",ul(t,e))}const nW=6;class rW{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class iW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L2(this),this.idTokenSubscription=new L2(this),this.beforeStateQueue=new eW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ff.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mv(this,{idToken:e}),r=await Yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===o)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(ws(this));const n=e?yn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tW(this),n=new rW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $m("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QK(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await ff.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{o=!0,f()}}else{const f=e.addObserver(n);return()=>{o=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cl(t){return yn(t)}class L2{constructor(e){this.auth=e,this.observer=null,this.addObserver=vG(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let V0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aW(t){V0=t}function y3(t){return V0.loadJS(t)}function sW(){return V0.recaptchaEnterpriseScript}function oW(){return V0.gapiScript}function lW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uW{constructor(){this.enterprise=new cW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fW="recaptcha-enterprise",v3="NO_RECAPTCHA";class hW{constructor(e){this.type=fW,this.auth=cl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{qK(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new FK(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(f=>{u(f)})})}function i(a,o,u){const f=window.grecaptcha;D2(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(v3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uW().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(u=>{if(!n&&D2(window.grecaptcha))i(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let f=sW();f.length!==0&&(f+=u),y3(f).then(()=>{i(u,a,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function z2(t,e,n,r=!1,i=!1){const a=new hW(t);let o;if(i)o=v3;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function _E(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await z2(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await z2(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}function dW(t,e){const n=CS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Su(a,e??{}))return i;Ai(i,"already-initialized")}return n.initialize({options:e})}function mW(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function pW(t,e,n){const r=cl(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=b3(e),{host:o,port:u}=gW(e),f=u===null?"":`:${u}`,h={url:`${a}//${o}${f}/`},d=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Su(h,r.config.emulator)&&Su(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Kf(o)?(q4(`${a}//${o}${f}`),$4("Auth",!0)):yW()}function b3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gW(t){const e=b3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:U2(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:U2(o)}}}function U2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class MS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function vW(t,e){return Bs(t,"POST","/v1/accounts:signUp",e)}async function bW(t,e){return Km(t,"POST","/v1/accounts:signInWithPassword",ul(t,e))}async function xW(t,e){return Km(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}async function _W(t,e){return Km(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}class sm extends MS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _E(e,n,"signInWithPassword",bW);case"emailLink":return xW(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _E(e,r,"signUpPassword",vW);case"emailLink":return _W(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hf(t,e){return Km(t,"POST","/v1/accounts:signInWithIdp",ul(t,e))}const wW="http://localhost";class Iu extends MS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Iu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hf(e,n)}buildRequest(){const e={requestUri:wW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hm(n)}return e}}function EW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TW(t){const e=Nd(Dd(t)).link,n=e?Nd(Dd(e)).deep_link_id:null,r=Nd(Dd(t)).deep_link_id;return(r?Nd(Dd(r)).link:null)||r||n||e||t}class kS{constructor(e){const n=Nd(Dd(e)),r=n.apiKey??null,i=n.oobCode??null,a=EW(n.mode??null);Le(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TW(e);try{return new kS(n)}catch{return null}}}class Yf{constructor(){this.providerId=Yf.PROVIDER_ID}static credential(e,n){return sm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kS.parseLink(n);return Le(r,"argument-error"),sm._fromEmailAndCode(e,r.code,r.tenantId)}}Yf.PROVIDER_ID="password";Yf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wm extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vo extends Wm{constructor(){super("facebook.com")}static credential(e){return Iu._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";class ms extends Wm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Iu._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class Lo extends Wm{constructor(){super("github.com")}static credential(e){return Iu._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";class zo extends Wm{constructor(){super("twitter.com")}static credential(e,n){return Iu._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.TWITTER_SIGN_IN_METHOD="twitter.com";zo.PROVIDER_ID="twitter.com";async function SW(t,e){return Km(t,"POST","/v1/accounts:signUp",ul(t,e))}class Cu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Yi._fromIdTokenResponse(e,r,i),o=B2(r);return new Cu({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=B2(r);return new Cu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function B2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gv extends Us{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gv(e,n,r,i)}}function x3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gv._fromErrorAndOperation(t,a,e,r):a})}async function AW(t,e,n=!1){const r=await wf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cu._forOperation(t,"link",r)}async function IW(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(ws(r));const i="reauthenticate";try{const a=await wf(t,x3(r,i,e,t),n);Le(a.idToken,r,"internal-error");const o=NS(a.idToken);Le(o,r,"internal-error");const{sub:u}=o;return Le(t.uid===u,r,"user-mismatch"),Cu._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ai(r,"user-mismatch"),a}}async function _3(t,e,n=!1){if(Gr(t.app))return Promise.reject(ws(t));const r="signIn",i=await x3(t,r,e),a=await Cu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function CW(t,e){return _3(cl(t),e)}async function w3(t){const e=cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PW(t,e,n){if(Gr(t.app))return Promise.reject(ws(t));const r=cl(t),o=await _E(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SW).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&w3(t),f}),u=await Cu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(u.user),u}function RW(t,e,n){return Gr(t.app)?Promise.reject(ws(t)):CW(yn(t),Yf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w3(t),r})}async function OW(t,e){return Bs(t,"POST","/v1/accounts:update",e)}async function NW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=yn(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await wf(r,OW(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function DW(t,e,n,r){return yn(t).onIdTokenChanged(e,n,r)}function MW(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function kW(t,e,n,r){return yn(t).onAuthStateChanged(e,n,r)}function jW(t){return yn(t).signOut()}const yv="__sak";class E3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yv,"1"),this.storage.removeItem(yv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VW=1e3,LW=10;class T3 extends E3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,f)=>{this.notifyListeners(o,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);JK()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T3.type="LOCAL";const zW=T3;class S3 extends E3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S3.type="SESSION";const A3=S3;function UW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class L0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new L0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,a)),f=await UW(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}L0.receivers=[];function VS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class BW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,f)=>{const h=VS("",20);i.port1.start();const d=setTimeout(()=>{f(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(d),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Da(){return window}function FW(t){Da().location.href=t}function I3(){return typeof Da().WorkerGlobalScope<"u"&&typeof Da().importScripts=="function"}async function qW(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $W(){return navigator?.serviceWorker?.controller||null}function HW(){return I3()?self:null}const C3="firebaseLocalStorageDb",GW=1,vv="firebaseLocalStorage",P3="fbase_key";class Ym{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function z0(t,e){return t.transaction([vv],e?"readwrite":"readonly").objectStore(vv)}function KW(){const t=indexedDB.deleteDatabase(C3);return new Ym(t).toPromise()}function wE(){const t=indexedDB.open(C3,GW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vv,{keyPath:P3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vv)?e(r):(r.close(),await KW(),e(await wE()))})})}async function F2(t,e,n){const r=z0(t,!0).put({[P3]:e,value:n});return new Ym(r).toPromise()}async function WW(t,e){const n=z0(t,!1).get(e),r=await new Ym(n).toPromise();return r===void 0?null:r.value}function q2(t,e){const n=z0(t,!0).delete(e);return new Ym(n).toPromise()}const YW=800,XW=3;class R3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=L0._getInstance(HW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qW(),!this.activeServiceWorker)return;this.sender=new BW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$W()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wE();return await F2(e,yv,"1"),await q2(e,yv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=z0(i,!1).getAll();return new Ym(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R3.type="LOCAL";const QW=R3;new Gm(3e4,6e4);function O3(t,e){return e?ys(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class LS extends MS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZW(t){return _3(t.auth,new LS(t),t.bypassAuthState)}function JW(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),IW(n,new LS(t),t.bypassAuthState)}async function eY(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),AW(n,new LS(t),t.bypassAuthState)}class N3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZW;case"linkViaPopup":case"linkViaRedirect":return eY;case"reauthViaPopup":case"reauthViaRedirect":return JW;default:Ai(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tY=new Gm(2e3,1e4);async function nY(t,e,n){if(Gr(t.app))return Promise.reject(Xi(t,"operation-not-supported-in-this-environment"));const r=cl(t);DK(t,e,jS);const i=O3(r,n);return new ou(r,"signInViaPopup",e,i).executeNotNull()}class ou extends N3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ou.currentPopupAction&&ou.currentPopupAction.cancel(),ou.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=VS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ou.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tY.get())};e()}}ou.currentPopupAction=null;const rY="pendingRedirect",ky=new Map;class iY extends N3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ky.get(this.auth._key());if(!e){try{const r=await aY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ky.set(this.auth._key(),e)}return this.bypassAuthState||ky.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aY(t,e){const n=lY(e),r=oY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sY(t,e){ky.set(t._key(),e)}function oY(t){return ys(t._redirectPersistence)}function lY(t){return My(rY,t.config.apiKey,t.name)}async function uY(t,e,n=!1){if(Gr(t.app))return Promise.reject(ws(t));const r=cl(t),i=O3(r,e),o=await new iY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const cY=600*1e3;class fY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!D3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cY&&this.cachedEventUids.clear(),this.cachedEventUids.has($2(e))}saveEventToCache(e){this.cachedEventUids.add($2(e)),this.lastProcessedEventTime=Date.now()}}function $2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D3(t);default:return!1}}async function dY(t,e={}){return Bs(t,"GET","/v1/projects",e)}const mY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pY=/^https?/;async function gY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dY(t);for(const n of e)try{if(yY(n))return}catch{}Ai(t,"unauthorized-domain")}function yY(t){const e=bE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pY.test(n))return!1;if(mY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vY=new Gm(3e4,6e4);function H2(){const t=Da().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bY(t){return new Promise((e,n)=>{function r(){H2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H2(),n(Xi(t,"network-request-failed"))},timeout:vY.get()})}if(Da().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Da().gapi?.load)r();else{const i=lW("iframefcb");return Da()[i]=()=>{gapi.load?r():n(Xi(t,"network-request-failed"))},y3(`${oW()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw jy=null,e})}let jy=null;function xY(t){return jy=jy||bY(t),jy}const _Y=new Gm(5e3,15e3),wY="__/auth/iframe",EY="emulator/auth/iframe",TY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AY(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OS(e,EY):`https://${t.config.authDomain}/${wY}`,r={apiKey:e.apiKey,appName:t.name,v:Wf},i=SY.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Hm(r).slice(1)}`}async function IY(t){const e=await xY(t),n=Da().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:AY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TY,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Xi(t,"network-request-failed"),u=Da().setTimeout(()=>{a(o)},_Y.get());function f(){Da().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{a(o)})}))}const CY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PY=500,RY=600,OY="_blank",NY="http://localhost";class G2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DY(t,e,n,r=PY,i=RY){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...CY,width:r.toString(),height:i.toString(),top:a,left:o},h=En().toLowerCase();n&&(u=c3(h)?OY:n),l3(h)&&(e=e||NY,f.scrollbars="yes");const d=Object.entries(f).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(ZK(h)&&u!=="_self")return MY(e||"",u),new G2(null);const p=window.open(e||"",u,d);Le(p,t,"popup-blocked");try{p.focus()}catch{}return new G2(p)}function MY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const kY="__/auth/handler",jY="emulator/auth/handler",VY=encodeURIComponent("fac");async function K2(t,e,n,r,i,a){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wf,eventId:i};if(e instanceof jS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Wm){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];const f=await t._getAppCheckToken(),h=f?`#${VY}=${encodeURIComponent(f)}`:"";return`${LY(t)}?${Hm(u).slice(1)}${h}`}function LY({config:t}){return t.emulator?OS(t,jY):`https://${t.authDomain}/${kY}`}const uw="webStorageSupport";class zY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A3,this._completeRedirectFn=uY,this._overrideRedirectResult=sY}async _openPopup(e,n,r,i){Cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await K2(e,n,r,bE(),i);return DY(e,a,VS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await K2(e,n,r,bE(),i);return FW(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Cs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IY(e),r=new fY(e);return n.register("authEvent",i=>(Le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uw,{type:uw},i=>{const a=i?.[0]?.[uw];a!==void 0&&n(!!a),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p3()||u3()||DS()}}const UY=zY;var W2="@firebase/auth",Y2="1.12.0";class BY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qY(t){_f(new Au("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g3(t)},h=new iW(r,i,a,f);return mW(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_f(new Au("auth-internal",e=>{const n=cl(e.getProvider("auth").getImmediate());return(r=>new BY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wo(W2,Y2,FY(t)),Wo(W2,Y2,"esm2020")}const $Y=300,HY=F4("authIdTokenMaxAge")||$Y;let X2=null;const GY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HY)return;const i=n?.token;X2!==i&&(X2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KY(t=Z4()){const e=CS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dW(t,{popupRedirectResolver:UY,persistence:[QW,zW,A3]}),r=F4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=GY(a.toString());MW(n,o,()=>o(n.currentUser)),DW(n,u=>o(u))}}const i=U4("auth");return i&&pW(n,`http://${i}`),n}function WY(){return document.getElementsByTagName("head")?.[0]??document}aW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Xi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",WY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qY("Browser");var Q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yo,M3;(function(){var t;function e(R,O){function k(){}k.prototype=O.prototype,R.F=O.prototype,R.prototype=new k,R.prototype.constructor=R,R.D=function(F,B,U){for(var q=Array(arguments.length-2),K=2;K<arguments.length;K++)q[K-2]=arguments[K];return O.prototype[B].apply(F,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,O,k){k||(k=0);const F=Array(16);if(typeof O=="string")for(var B=0;B<16;++B)F[B]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(B=0;B<16;++B)F[B]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=R.g[0],k=R.g[1],B=R.g[2];let U=R.g[3],q;q=O+(U^k&(B^U))+F[0]+3614090360&4294967295,O=k+(q<<7&4294967295|q>>>25),q=U+(B^O&(k^B))+F[1]+3905402710&4294967295,U=O+(q<<12&4294967295|q>>>20),q=B+(k^U&(O^k))+F[2]+606105819&4294967295,B=U+(q<<17&4294967295|q>>>15),q=k+(O^B&(U^O))+F[3]+3250441966&4294967295,k=B+(q<<22&4294967295|q>>>10),q=O+(U^k&(B^U))+F[4]+4118548399&4294967295,O=k+(q<<7&4294967295|q>>>25),q=U+(B^O&(k^B))+F[5]+1200080426&4294967295,U=O+(q<<12&4294967295|q>>>20),q=B+(k^U&(O^k))+F[6]+2821735955&4294967295,B=U+(q<<17&4294967295|q>>>15),q=k+(O^B&(U^O))+F[7]+4249261313&4294967295,k=B+(q<<22&4294967295|q>>>10),q=O+(U^k&(B^U))+F[8]+1770035416&4294967295,O=k+(q<<7&4294967295|q>>>25),q=U+(B^O&(k^B))+F[9]+2336552879&4294967295,U=O+(q<<12&4294967295|q>>>20),q=B+(k^U&(O^k))+F[10]+4294925233&4294967295,B=U+(q<<17&4294967295|q>>>15),q=k+(O^B&(U^O))+F[11]+2304563134&4294967295,k=B+(q<<22&4294967295|q>>>10),q=O+(U^k&(B^U))+F[12]+1804603682&4294967295,O=k+(q<<7&4294967295|q>>>25),q=U+(B^O&(k^B))+F[13]+4254626195&4294967295,U=O+(q<<12&4294967295|q>>>20),q=B+(k^U&(O^k))+F[14]+2792965006&4294967295,B=U+(q<<17&4294967295|q>>>15),q=k+(O^B&(U^O))+F[15]+1236535329&4294967295,k=B+(q<<22&4294967295|q>>>10),q=O+(B^U&(k^B))+F[1]+4129170786&4294967295,O=k+(q<<5&4294967295|q>>>27),q=U+(k^B&(O^k))+F[6]+3225465664&4294967295,U=O+(q<<9&4294967295|q>>>23),q=B+(O^k&(U^O))+F[11]+643717713&4294967295,B=U+(q<<14&4294967295|q>>>18),q=k+(U^O&(B^U))+F[0]+3921069994&4294967295,k=B+(q<<20&4294967295|q>>>12),q=O+(B^U&(k^B))+F[5]+3593408605&4294967295,O=k+(q<<5&4294967295|q>>>27),q=U+(k^B&(O^k))+F[10]+38016083&4294967295,U=O+(q<<9&4294967295|q>>>23),q=B+(O^k&(U^O))+F[15]+3634488961&4294967295,B=U+(q<<14&4294967295|q>>>18),q=k+(U^O&(B^U))+F[4]+3889429448&4294967295,k=B+(q<<20&4294967295|q>>>12),q=O+(B^U&(k^B))+F[9]+568446438&4294967295,O=k+(q<<5&4294967295|q>>>27),q=U+(k^B&(O^k))+F[14]+3275163606&4294967295,U=O+(q<<9&4294967295|q>>>23),q=B+(O^k&(U^O))+F[3]+4107603335&4294967295,B=U+(q<<14&4294967295|q>>>18),q=k+(U^O&(B^U))+F[8]+1163531501&4294967295,k=B+(q<<20&4294967295|q>>>12),q=O+(B^U&(k^B))+F[13]+2850285829&4294967295,O=k+(q<<5&4294967295|q>>>27),q=U+(k^B&(O^k))+F[2]+4243563512&4294967295,U=O+(q<<9&4294967295|q>>>23),q=B+(O^k&(U^O))+F[7]+1735328473&4294967295,B=U+(q<<14&4294967295|q>>>18),q=k+(U^O&(B^U))+F[12]+2368359562&4294967295,k=B+(q<<20&4294967295|q>>>12),q=O+(k^B^U)+F[5]+4294588738&4294967295,O=k+(q<<4&4294967295|q>>>28),q=U+(O^k^B)+F[8]+2272392833&4294967295,U=O+(q<<11&4294967295|q>>>21),q=B+(U^O^k)+F[11]+1839030562&4294967295,B=U+(q<<16&4294967295|q>>>16),q=k+(B^U^O)+F[14]+4259657740&4294967295,k=B+(q<<23&4294967295|q>>>9),q=O+(k^B^U)+F[1]+2763975236&4294967295,O=k+(q<<4&4294967295|q>>>28),q=U+(O^k^B)+F[4]+1272893353&4294967295,U=O+(q<<11&4294967295|q>>>21),q=B+(U^O^k)+F[7]+4139469664&4294967295,B=U+(q<<16&4294967295|q>>>16),q=k+(B^U^O)+F[10]+3200236656&4294967295,k=B+(q<<23&4294967295|q>>>9),q=O+(k^B^U)+F[13]+681279174&4294967295,O=k+(q<<4&4294967295|q>>>28),q=U+(O^k^B)+F[0]+3936430074&4294967295,U=O+(q<<11&4294967295|q>>>21),q=B+(U^O^k)+F[3]+3572445317&4294967295,B=U+(q<<16&4294967295|q>>>16),q=k+(B^U^O)+F[6]+76029189&4294967295,k=B+(q<<23&4294967295|q>>>9),q=O+(k^B^U)+F[9]+3654602809&4294967295,O=k+(q<<4&4294967295|q>>>28),q=U+(O^k^B)+F[12]+3873151461&4294967295,U=O+(q<<11&4294967295|q>>>21),q=B+(U^O^k)+F[15]+530742520&4294967295,B=U+(q<<16&4294967295|q>>>16),q=k+(B^U^O)+F[2]+3299628645&4294967295,k=B+(q<<23&4294967295|q>>>9),q=O+(B^(k|~U))+F[0]+4096336452&4294967295,O=k+(q<<6&4294967295|q>>>26),q=U+(k^(O|~B))+F[7]+1126891415&4294967295,U=O+(q<<10&4294967295|q>>>22),q=B+(O^(U|~k))+F[14]+2878612391&4294967295,B=U+(q<<15&4294967295|q>>>17),q=k+(U^(B|~O))+F[5]+4237533241&4294967295,k=B+(q<<21&4294967295|q>>>11),q=O+(B^(k|~U))+F[12]+1700485571&4294967295,O=k+(q<<6&4294967295|q>>>26),q=U+(k^(O|~B))+F[3]+2399980690&4294967295,U=O+(q<<10&4294967295|q>>>22),q=B+(O^(U|~k))+F[10]+4293915773&4294967295,B=U+(q<<15&4294967295|q>>>17),q=k+(U^(B|~O))+F[1]+2240044497&4294967295,k=B+(q<<21&4294967295|q>>>11),q=O+(B^(k|~U))+F[8]+1873313359&4294967295,O=k+(q<<6&4294967295|q>>>26),q=U+(k^(O|~B))+F[15]+4264355552&4294967295,U=O+(q<<10&4294967295|q>>>22),q=B+(O^(U|~k))+F[6]+2734768916&4294967295,B=U+(q<<15&4294967295|q>>>17),q=k+(U^(B|~O))+F[13]+1309151649&4294967295,k=B+(q<<21&4294967295|q>>>11),q=O+(B^(k|~U))+F[4]+4149444226&4294967295,O=k+(q<<6&4294967295|q>>>26),q=U+(k^(O|~B))+F[11]+3174756917&4294967295,U=O+(q<<10&4294967295|q>>>22),q=B+(O^(U|~k))+F[2]+718787259&4294967295,B=U+(q<<15&4294967295|q>>>17),q=k+(U^(B|~O))+F[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(B+(q<<21&4294967295|q>>>11))&4294967295,R.g[2]=R.g[2]+B&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,O){O===void 0&&(O=R.length);const k=O-this.blockSize,F=this.C;let B=this.h,U=0;for(;U<O;){if(B==0)for(;U<=k;)i(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<O;)if(F[B++]=R.charCodeAt(U++),B==this.blockSize){i(this,F),B=0;break}}else for(;U<O;)if(F[B++]=R[U++],B==this.blockSize){i(this,F),B=0;break}}this.h=B,this.o+=O},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;O=this.o*8;for(var k=R.length-8;k<R.length;++k)R[k]=O&255,O/=256;for(this.v(R),R=Array(16),O=0,k=0;k<4;++k)for(let F=0;F<32;F+=8)R[O++]=this.g[k]>>>F&255;return R};function a(R,O){var k=u;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=O(R)}function o(R,O){this.h=O;const k=[];let F=!0;for(let B=R.length-1;B>=0;B--){const U=R[B]|0;F&&U==O||(k[B]=U,F=!1)}this.g=k}var u={};function f(R){return-128<=R&&R<128?a(R,function(O){return new o([O|0],O<0?-1:0)}):new o([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return E(h(-R));const O=[];let k=1;for(let F=0;R>=k;F++)O[F]=R/k|0,k*=4294967296;return new o(O,0)}function d(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return E(d(R.substring(1),O));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(O,8));let F=p;for(let U=0;U<R.length;U+=8){var B=Math.min(8,R.length-U);const q=parseInt(R.substring(U,U+B),O);B<8?(B=h(Math.pow(O,B)),F=F.j(B).add(h(q))):(F=F.j(k),F=F.add(h(q)))}return F}var p=f(0),y=f(1),b=f(16777216);t=o.prototype,t.m=function(){if(S(this))return-E(this).m();let R=0,O=1;for(let k=0;k<this.g.length;k++){const F=this.i(k);R+=(F>=0?F:4294967296+F)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(S(this))return"-"+E(this).toString(R);const O=h(Math.pow(R,6));var k=this;let F="";for(;;){const B=M(k,O).g;k=C(k,B.j(O));let U=((k.g.length>0?k.g[0]:k.h)>>>0).toString(R);if(k=B,w(k))return U+F;for(;U.length<6;)U="0"+U;F=U+F}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(let O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=C(this,R),S(R)?-1:w(R)?0:1};function E(R){const O=R.g.length,k=[];for(let F=0;F<O;F++)k[F]=~R.g[F];return new o(k,~R.h).add(y)}t.abs=function(){return S(this)?E(this):this},t.add=function(R){const O=Math.max(this.g.length,R.g.length),k=[];let F=0;for(let B=0;B<=O;B++){let U=F+(this.i(B)&65535)+(R.i(B)&65535),q=(U>>>16)+(this.i(B)>>>16)+(R.i(B)>>>16);F=q>>>16,U&=65535,q&=65535,k[B]=q<<16|U}return new o(k,k[k.length-1]&-2147483648?-1:0)};function C(R,O){return R.add(E(O))}t.j=function(R){if(w(this)||w(R))return p;if(S(this))return S(R)?E(this).j(E(R)):E(E(this).j(R));if(S(R))return E(this.j(E(R)));if(this.l(b)<0&&R.l(b)<0)return h(this.m()*R.m());const O=this.g.length+R.g.length,k=[];for(var F=0;F<2*O;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(let B=0;B<R.g.length;B++){const U=this.i(F)>>>16,q=this.i(F)&65535,K=R.i(B)>>>16,he=R.i(B)&65535;k[2*F+2*B]+=q*he,D(k,2*F+2*B),k[2*F+2*B+1]+=U*he,D(k,2*F+2*B+1),k[2*F+2*B+1]+=q*K,D(k,2*F+2*B+1),k[2*F+2*B+2]+=U*K,D(k,2*F+2*B+2)}for(R=0;R<O;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=O;R<2*O;R++)k[R]=0;return new o(k,0)};function D(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function N(R,O){this.g=R,this.h=O}function M(R,O){if(w(O))throw Error("division by zero");if(w(R))return new N(p,p);if(S(R))return O=M(E(R),O),new N(E(O.g),E(O.h));if(S(O))return O=M(R,E(O)),new N(E(O.g),O.h);if(R.g.length>30){if(S(R)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var k=y,F=O;F.l(R)<=0;)k=V(k),F=V(F);var B=L(k,1),U=L(F,1);for(F=L(F,2),k=L(k,2);!w(F);){var q=U.add(F);q.l(R)<=0&&(B=B.add(k),U=q),F=L(F,1),k=L(k,1)}return O=C(R,B.j(O)),new N(B,O)}for(B=p;R.l(O)>=0;){for(k=Math.max(1,Math.floor(R.m()/O.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),U=h(k),q=U.j(O);S(q)||q.l(R)>0;)k-=F,U=h(k),q=U.j(O);w(U)&&(U=y),B=B.add(U),R=C(R,q)}return new N(B,R)}t.B=function(R){return M(this,R).h},t.and=function(R){const O=Math.max(this.g.length,R.g.length),k=[];for(let F=0;F<O;F++)k[F]=this.i(F)&R.i(F);return new o(k,this.h&R.h)},t.or=function(R){const O=Math.max(this.g.length,R.g.length),k=[];for(let F=0;F<O;F++)k[F]=this.i(F)|R.i(F);return new o(k,this.h|R.h)},t.xor=function(R){const O=Math.max(this.g.length,R.g.length),k=[];for(let F=0;F<O;F++)k[F]=this.i(F)^R.i(F);return new o(k,this.h^R.h)};function V(R){const O=R.g.length+1,k=[];for(let F=0;F<O;F++)k[F]=R.i(F)<<1|R.i(F-1)>>>31;return new o(k,R.h)}function L(R,O){const k=O>>5;O%=32;const F=R.g.length-k,B=[];for(let U=0;U<F;U++)B[U]=O>0?R.i(U+k)>>>O|R.i(U+k+1)<<32-O:R.i(U+k);return new o(B,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,M3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Yo=o}).apply(typeof Q2<"u"?Q2:typeof self<"u"?self:typeof window<"u"?window:{});var ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k3,Md,j3,Vy,EE,V3,L3,z3;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof ny=="object"&&ny];for(var A=0;A<g.length;++A){var P=g[A];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var P=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var Q=g[z];if(!(Q in P))break e;P=P[Q]}g=g[g.length-1],z=P[g],A=A(z),A!=z&&A!=null&&e(P,g,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(A){var P=[],z;for(z in A)Object.prototype.hasOwnProperty.call(A,z)&&P.push([z,A[z]]);return P}});var a=a||{},o=this||self;function u(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function f(g,A,P){return g.call.apply(g.bind,arguments)}function h(g,A,P){return h=f,h.apply(null,arguments)}function d(g,A){var P=Array.prototype.slice.call(arguments,1);return function(){var z=P.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function p(g,A){function P(){}P.prototype=A.prototype,g.Z=A.prototype,g.prototype=new P,g.prototype.constructor=g,g.Ob=function(z,Q,te){for(var ye=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ye[qe-2]=arguments[qe];return A.prototype[Q].apply(z,ye)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const A=g.length;if(A>0){const P=Array(A);for(let z=0;z<A;z++)P[z]=g[z];return P}return[]}function w(g,A){for(let z=1;z<arguments.length;z++){const Q=arguments[z];var P=typeof Q;if(P=P!="object"?P:Q?Array.isArray(Q)?"array":P:"null",P=="array"||P=="object"&&typeof Q.length=="number"){P=g.length||0;const te=Q.length||0;g.length=P+te;for(let ye=0;ye<te;ye++)g[P+ye]=Q[ye]}else g.push(Q)}}class S{constructor(A,P){this.i=A,this.j=P,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function E(g){o.setTimeout(()=>{throw g},0)}function C(){var g=R;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class D{constructor(){this.h=this.g=null}add(A,P){const z=N.get();z.set(A,P),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new S(()=>new M,g=>g.reset());class M{constructor(){this.next=this.g=this.h=null}set(A,P){this.h=A,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let V,L=!1,R=new D,O=()=>{const g=Promise.resolve(void 0);V=()=>{g.then(k)}};function k(){for(var g;g=C();){try{g.h.call(g.g)}catch(P){E(P)}var A=N;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}L=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const P=()=>{};o.addEventListener("test",P,A),o.removeEventListener("test",P,A)}catch{}return g})();function q(g){return/^[\s\xa0]*$/.test(g)}function K(g,A){B.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}p(K,B),K.prototype.init=function(g,A){const P=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(P=="mouseover"?A=g.fromElement:P=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),W=0;function ie(g,A,P,z,Q){this.listener=g,this.proxy=null,this.src=A,this.type=P,this.capture=!!z,this.ha=Q,this.key=++W,this.da=this.fa=!1}function de(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function _e(g,A,P){for(const z in g)A.call(P,g[z],z,g)}function Ae(g,A){for(const P in g)A.call(void 0,g[P],P,g)}function H(g){const A={};for(const P in g)A[P]=g[P];return A}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(g,A){let P,z;for(let Q=1;Q<arguments.length;Q++){z=arguments[Q];for(P in z)g[P]=z[P];for(let te=0;te<ae.length;te++)P=ae[te],Object.prototype.hasOwnProperty.call(z,P)&&(g[P]=z[P])}}function ge(g){this.src=g,this.g={},this.h=0}ge.prototype.add=function(g,A,P,z,Q){const te=g.toString();g=this.g[te],g||(g=this.g[te]=[],this.h++);const ye=je(g,A,z,Q);return ye>-1?(A=g[ye],P||(A.fa=!1)):(A=new ie(A,this.src,te,!!z,Q),A.fa=P,g.push(A)),A};function Re(g,A){const P=A.type;if(P in g.g){var z=g.g[P],Q=Array.prototype.indexOf.call(z,A,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(z,Q,1),te&&(de(A),g.g[P].length==0&&(delete g.g[P],g.h--))}}function je(g,A,P,z){for(let Q=0;Q<g.length;++Q){const te=g[Q];if(!te.da&&te.listener==A&&te.capture==!!P&&te.ha==z)return Q}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ct={};function se(g,A,P,z,Q){if(Array.isArray(A)){for(let te=0;te<A.length;te++)se(g,A[te],P,z,Q);return null}return P=ri(P),g&&g[he]?g.J(A,P,u(z)?!!z.capture:!1,Q):Ve(g,A,P,!1,z,Q)}function Ve(g,A,P,z,Q,te){if(!A)throw Error("Invalid event type");const ye=u(Q)?!!Q.capture:!!Q;let qe=St(g);if(qe||(g[Me]=qe=new ge(g)),P=qe.add(A,P,z,ye,te),P.proxy)return P;if(z=Fe(),P.proxy=z,z.src=g,z.listener=P,g.addEventListener)U||(Q=ye),Q===void 0&&(Q=!1),g.addEventListener(A.toString(),z,Q);else if(g.attachEvent)g.attachEvent(Ge(A.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Fe(){function g(P){return A.call(g.src,g.listener,P)}const A=Jt;return g}function fe(g,A,P,z,Q){if(Array.isArray(A))for(var te=0;te<A.length;te++)fe(g,A[te],P,z,Q);else z=u(z)?!!z.capture:!!z,P=ri(P),g&&g[he]?(g=g.i,te=String(A).toString(),te in g.g&&(A=g.g[te],P=je(A,P,z,Q),P>-1&&(de(A[P]),Array.prototype.splice.call(A,P,1),A.length==0&&(delete g.g[te],g.h--)))):g&&(g=St(g))&&(A=g.g[A.toString()],g=-1,A&&(g=je(A,P,z,Q)),(P=g>-1?A[g]:null)&&Bt(P))}function Bt(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[he])Re(A.i,g);else{var P=g.type,z=g.proxy;A.removeEventListener?A.removeEventListener(P,z,g.capture):A.detachEvent?A.detachEvent(Ge(P),z):A.addListener&&A.removeListener&&A.removeListener(z),(P=St(A))?(Re(P,g),P.h==0&&(P.src=null,A[Me]=null)):de(g)}}}function Ge(g){return g in Ct?Ct[g]:Ct[g]="on"+g}function Jt(g,A){if(g.da)g=!0;else{A=new K(A,this);const P=g.listener,z=g.ha||g.src;g.fa&&Bt(g),g=P.call(z,A)}return g}function St(g){return g=g[Me],g instanceof ge?g:null}var bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ri(g){return typeof g=="function"?g:(g[bn]||(g[bn]=function(A){return g.handleEvent(A)}),g[bn])}function Ft(){F.call(this),this.i=new ge(this),this.M=this,this.G=null}p(Ft,F),Ft.prototype[he]=!0,Ft.prototype.removeEventListener=function(g,A,P,z){fe(this,g,A,P,z)};function Ht(g,A){var P,z=g.G;if(z)for(P=[];z;z=z.G)P.push(z);if(g=g.M,z=A.type||A,typeof A=="string")A=new B(A,g);else if(A instanceof B)A.target=A.target||g;else{var Q=A;A=new B(z,g),pe(A,Q)}Q=!0;let te,ye;if(P)for(ye=P.length-1;ye>=0;ye--)te=A.g=P[ye],Q=In(te,z,!0,A)&&Q;if(te=A.g=g,Q=In(te,z,!0,A)&&Q,Q=In(te,z,!1,A)&&Q,P)for(ye=0;ye<P.length;ye++)te=A.g=P[ye],Q=In(te,z,!1,A)&&Q}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const P=g.g[A];for(let z=0;z<P.length;z++)de(P[z]);delete g.g[A],g.h--}}this.G=null},Ft.prototype.J=function(g,A,P,z){return this.i.add(String(g),A,!1,P,z)},Ft.prototype.K=function(g,A,P,z){return this.i.add(String(g),A,!0,P,z)};function In(g,A,P,z){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let Q=!0;for(let te=0;te<A.length;++te){const ye=A[te];if(ye&&!ye.da&&ye.capture==P){const qe=ye.listener,tn=ye.ha||ye.src;ye.fa&&Re(g.i,ye),Q=qe.call(tn,z)!==!1&&Q}}return Q&&!z.defaultPrevented}function Yu(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:o.setTimeout(g,A||0)}function Xu(g){g.g=Yu(()=>{g.g=null,g.i&&(g.i=!1,Xu(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class Un extends F{constructor(A,P){super(),this.m=A,this.l=P,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xe(g){F.call(this),this.h=g,this.g={}}p(xe,F);var it=[];function Cn(g){_e(g.g,function(A,P){this.g.hasOwnProperty(P)&&Bt(A)},g),g.g={}}xe.prototype.N=function(){xe.Z.N.call(this),Cn(this)},xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=o.JSON.stringify,Pt=o.JSON.parse,Ap=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function Ip(){}function Cp(){}var Oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bn(){B.call(this,"d")}p(Bn,B);function ii(){B.call(this,"c")}p(ii,B);var en={},Pp=null;function Qu(){return Pp=Pp||new Ft}en.Ia="serverreachability";function Rp(g){B.call(this,en.Ia,g)}p(Rp,B);function ta(g){const A=Qu();Ht(A,new Rp(A))}en.STAT_EVENT="statevent";function yl(g,A){B.call(this,en.STAT_EVENT,g),this.stat=A}p(yl,B);function an(g){const A=Qu();Ht(A,new yl(A,g))}en.Ja="timingevent";function na(g,A){B.call(this,en.Ja,g),this.size=A}p(na,B);function ra(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},A)}function Ni(){this.g=!0}Ni.prototype.ua=function(){this.g=!1};function Zb(g,A,P,z,Q,te){g.info(function(){if(g.g)if(te){var ye="",qe=te.split("&");for(let lt=0;lt<qe.length;lt++){var tn=qe[lt].split("=");if(tn.length>1){const Dt=tn[0];tn=tn[1];const li=Dt.split("_");ye=li.length>=2&&li[1]=="type"?ye+(Dt+"="+tn+"&"):ye+(Dt+"=redacted&")}}}else ye=null;else ye=te;return"XMLHTTP REQ ("+z+") [attempt "+Q+"]: "+A+`
`+P+`
`+ye})}function Op(g,A,P,z,Q,te,ye){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Q+"]: "+A+`
`+P+`
`+te+" "+ye})}function ia(g,A,P,z){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+Jb(g,P)+(z?" "+z:"")})}function vl(g,A){g.info(function(){return"TIMEOUT: "+A})}Ni.prototype.info=function(){};function Jb(g,A){if(!g.g)return A;if(!A)return null;try{const te=JSON.parse(A);if(te){for(g=0;g<te.length;g++)if(Array.isArray(te[g])){var P=te[g];if(!(P.length<2)){var z=P[1];if(Array.isArray(z)&&!(z.length<1)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<z.length;ye++)z[ye]=""}}}}return kr(te)}catch{return A}}var bl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ph;function xl(){}p(xl,Ip),xl.prototype.g=function(){return new XMLHttpRequest},ph=new xl;function Wa(g){return encodeURIComponent(String(g))}function Np(g){var A=1;g=g.split(":");const P=[];for(;A>0&&g.length;)P.push(g.shift()),A--;return g.length&&P.push(g.join(":")),P}function Di(g,A,P,z){this.j=g,this.i=A,this.l=P,this.S=z||1,this.V=new xe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}var sn={},Pn={};function aa(g,A,P){g.M=1,g.A=_l(ln(A)),g.u=P,g.R=!0,Zu(g,null)}function Zu(g,A){g.F=Date.now(),sa(g),g.B=ln(g.A);var P=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),nc(P.i,"t",z),g.C=0,P=g.j.L,g.h=new Mi,g.g=Kp(g.j,P?A:null,!g.u),g.P>0&&(g.O=new Un(h(g.Y,g,g.g),g.P)),A=g.V,P=g.g,z=g.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(it[0]=Q.toString()),Q=it);for(let te=0;te<Q.length;te++){const ye=se(P,Q[te],z||A.handleEvent,!1,A.h||A);if(!ye)break;A.g[ye.key]=ye}A=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),ta(),Zb(g.i,g.v,g.B,g.l,g.S,g.u)}Di.prototype.ba=function(g){g=g.target;const A=this.O;A&&Vi(g)==3?A.j():this.Y(g)},Di.prototype.Y=function(g){try{if(g==this.g)e:{const qe=Vi(this.g),tn=this.g.ya(),lt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Fn(this.g)))){this.K||qe!=4||tn==7||(tn==8||lt<=0?ta(3):ta(2)),oa(this);var A=this.g.ca();this.X=A;var P=ex(this);if(this.o=A==200,Op(this.i,this.v,this.B,this.l,this.S,qe,A),this.o){if(this.U&&!this.L){t:{if(this.g){var z,Q=this.g;if((z=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(z)){var te=z;break t}}te=null}if(g=te)ia(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,la(this,g);else{this.o=!1,this.m=3,an(12),jr(this),ai(this);break e}}if(this.R){g=!0;let Dt;for(;!this.K&&this.C<P.length;)if(Dt=Mp(this,P),Dt==Pn){qe==4&&(this.m=4,an(14),g=!1),ia(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==sn){this.m=4,an(15),ia(this.i,this.l,P,"[Invalid Chunk]"),g=!1;break}else ia(this.i,this.l,Dt,null),la(this,Dt);if(Dp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||P.length!=0||this.h.h||(this.m=1,an(16),g=!1),this.o=this.o&&g,!g)ia(this.i,this.l,P,"[Invalid Chunked Response]"),jr(this),ai(this);else if(P.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Rh(ye),ye.P=!0,an(11))}}else ia(this.i,this.l,P,null),la(this,P);qe==4&&jr(this),this.o&&!this.K&&(qe==4?qp(this.j,this):(this.o=!1,sa(this)))}else Xa(this.g),A==400&&P.indexOf("Unknown SID")>0?(this.m=3,an(12)):(this.m=0,an(13)),jr(this),ai(this)}}}catch{}};function ex(g){if(!Dp(g))return g.g.la();const A=Fn(g.g);if(A==="")return"";let P="";const z=A.length,Q=Vi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return jr(g),ai(g),"";g.h.i=new o.TextDecoder}for(let te=0;te<z;te++)g.h.h=!0,P+=g.h.i.decode(A[te],{stream:!(Q&&te==z-1)});return A.length=0,g.h.g+=P,g.C=0,g.h.g}function Dp(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Mp(g,A){var P=g.C,z=A.indexOf(`
`,P);return z==-1?Pn:(P=Number(A.substring(P,z)),isNaN(P)?sn:(z+=1,z+P>A.length?Pn:(A=A.slice(z,z+P),g.C=z+P,A)))}Di.prototype.cancel=function(){this.K=!0,jr(this)};function sa(g){g.T=Date.now()+g.H,Ju(g,g.H)}function Ju(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ra(h(g.aa,g),A)}function oa(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Di.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(vl(this.i,this.B),this.M!=2&&(ta(),an(17)),jr(this),this.m=2,ai(this)):Ju(this,this.T-g)};function ai(g){g.j.I==0||g.K||qp(g.j,g)}function jr(g){oa(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,Cn(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function la(g,A){try{var P=g.j;if(P.I!=0&&(P.g==g||ca(P.h,g))){if(!g.L&&ca(P.h,g)&&P.I==3){try{var z=P.Ba.g.parse(A)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Q=z;if(Q[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<g.F)oc(P),ao(P);else break e;Cl(P),an(18)}}else P.xa=Q[1],0<P.xa-P.K&&Q[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=ra(h(P.Va,P),6e3));ua(P.h)<=1&&P.ta&&(P.ta=void 0)}else ga(P,11)}else if((g.L||P.g==g)&&oc(P),!q(A))for(Q=P.Ba.g.parse(A),A=0;A<Q.length;A++){let lt=Q[A];const Dt=lt[0];if(!(Dt<=P.K))if(P.K=Dt,lt=lt[1],P.I==2)if(lt[0]=="c"){P.M=lt[1],P.ba=lt[2];const li=lt[3];li!=null&&(P.ka=li,P.j.info("VER="+P.ka));const ya=lt[4];ya!=null&&(P.za=ya,P.j.info("SVER="+P.za));const Li=lt[5];Li!=null&&typeof Li=="number"&&Li>0&&(z=1.5*Li,P.O=z,P.j.info("backChannelRequestTimeoutMs_="+z)),z=P;const zi=g.g;if(zi){const Pl=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var te=z.h;te.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(vh(te,te.h),te.h=null))}if(z.G){const lc=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;lc&&(z.wa=lc,ht(z.J,z.G,lc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-g.F,P.j.info("Handshake RTT: "+P.T+"ms")),z=P;var ye=g;if(z.na=Gp(z,z.L?z.ba:null,z.W),ye.L){bh(z.h,ye);var qe=ye,tn=z.O;tn&&(qe.H=tn),qe.D&&(oa(qe),sa(qe)),z.g=ye}else Bp(z);P.i.length>0&&pa(P)}else lt[0]!="stop"&&lt[0]!="close"||ga(P,7);else P.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ga(P,7):Ch(P):lt[0]!="noop"&&P.l&&P.l.qa(lt),P.A=0)}}ta(4)}catch{}}var on=class{constructor(g,A){this.g=g,this.map=A}};function gh(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yh(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ua(g){return g.h?1:g.g?g.g.size:0}function ca(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function vh(g,A){g.g?g.g.add(A):g.h=A}function bh(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}gh.prototype.cancel=function(){if(this.i=xh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function xh(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const P of g.g.values())A=A.concat(P.G);return A}return b(g.i)}var kp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(g,A){if(g){g=g.split("&");for(let P=0;P<g.length;P++){const z=g[P].indexOf("=");let Q,te=null;z>=0?(Q=g[P].substring(0,z),te=g[P].substring(z+1)):Q=g[P],A(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Vr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof Vr?(this.l=g.l,Rn(this,g.j),this.o=g.o,this.g=g.g,Zs(this,g.u),this.h=g.h,_h(this,zp(g.i)),this.m=g.m):g&&(A=String(g).match(kp))?(this.l=!1,Rn(this,A[1]||"",!0),this.o=fa(A[2]||""),this.g=fa(A[3]||"",!0),Zs(this,A[4]),this.h=fa(A[5]||"",!0),_h(this,A[6]||"",!0),this.m=fa(A[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}Vr.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(wl(A,tc,!0),":");var P=this.g;return(P||A=="file")&&(g.push("//"),(A=this.o)&&g.push(wl(A,tc,!0),"@"),g.push(Wa(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&g.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&g.push("/"),g.push(wl(P,P.charAt(0)=="/"?wh:jp,!0))),(P=this.i.toString())&&g.push("?",P),(P=this.m)&&g.push("#",wl(P,Vp)),g.join("")},Vr.prototype.resolve=function(g){const A=ln(this);let P=!!g.j;P?Rn(A,g.j):P=!!g.o,P?A.o=g.o:P=!!g.g,P?A.g=g.g:P=g.u!=null;var z=g.h;if(P)Zs(A,g.u);else if(P=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var Q=A.h.lastIndexOf("/");Q!=-1&&(z=A.h.slice(0,Q+1)+z)}if(Q=z,Q==".."||Q==".")z="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){z=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let ye=0;ye<Q.length;){const qe=Q[ye++];qe=="."?z&&ye==Q.length&&te.push(""):qe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),z&&ye==Q.length&&te.push("")):(te.push(qe),z=!0)}z=te.join("/")}else z=Q}return P?A.h=z:P=g.i.toString()!=="",P?_h(A,zp(g.i)):P=!!g.m,P&&(A.m=g.m),A};function ln(g){return new Vr(g)}function Rn(g,A,P){g.j=P?fa(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Zs(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function _h(g,A,P){A instanceof eo?(g.i=A,rc(g.i,g.l)):(P||(A=wl(A,Js)),g.i=new eo(A,g.l))}function ht(g,A,P){g.i.set(A,P)}function _l(g){return ht(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function fa(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function wl(g,A,P){return typeof g=="string"?(g=encodeURI(g).replace(A,Er),P&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Er(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var tc=/[#\/\?@]/g,jp=/[#\?:]/g,wh=/[#\?]/g,Js=/[#\?@]/g,Vp=/#/g;function eo(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Tr(g){g.g||(g.g=new Map,g.h=0,g.i&&ec(g.i,function(A,P){g.add(decodeURIComponent(A.replace(/\+/g," ")),P)}))}t=eo.prototype,t.add=function(g,A){Tr(this),this.i=null,g=to(this,g);let P=this.g.get(g);return P||this.g.set(g,P=[]),P.push(A),this.h+=1,this};function Lp(g,A){Tr(g),A=to(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function Eh(g,A){return Tr(g),A=to(g,A),g.g.has(A)}t.forEach=function(g,A){Tr(this),this.g.forEach(function(P,z){P.forEach(function(Q){g.call(A,Q,z,this)},this)},this)};function Th(g,A){Tr(g);let P=[];if(typeof A=="string")Eh(g,A)&&(P=P.concat(g.g.get(to(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)P=P.concat(g[A]);return P}t.set=function(g,A){return Tr(this),this.i=null,g=to(this,g),Eh(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=Th(this,g),g.length>0?String(g[0]):A):A};function nc(g,A,P){Lp(g,A),P.length>0&&(g.i=null,g.g.set(to(g,A),b(P)),g.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let z=0;z<A.length;z++){var P=A[z];const Q=Wa(P);P=Th(this,P);for(let te=0;te<P.length;te++){let ye=Q;P[te]!==""&&(ye+="="+Wa(P[te])),g.push(ye)}}return this.i=g.join("&")};function zp(g){const A=new eo;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function to(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function rc(g,A){A&&!g.j&&(Tr(g),g.i=null,g.g.forEach(function(P,z){const Q=z.toLowerCase();z!=Q&&(Lp(this,z),nc(this,Q,P))},g)),g.j=A}function ki(g,A){const P=new Ni;if(o.Image){const z=new Image;z.onload=d(si,P,"TestLoadImage: loaded",!0,A,z),z.onerror=d(si,P,"TestLoadImage: error",!1,A,z),z.onabort=d(si,P,"TestLoadImage: abort",!1,A,z),z.ontimeout=d(si,P,"TestLoadImage: timeout",!1,A,z),o.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else A(!1)}function Sh(g,A){const P=new Ni,z=new AbortController,Q=setTimeout(()=>{z.abort(),si(P,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:z.signal}).then(te=>{clearTimeout(Q),te.ok?si(P,"TestPingServer: ok",!0,A):si(P,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Q),si(P,"TestPingServer: error",!1,A)})}function si(g,A,P,z,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),z(P)}catch{}}function no(){this.g=new Ap}function ha(g){this.i=g.Sb||null,this.h=g.ab||!1}p(ha,Ip),ha.prototype.g=function(){return new El(this.i,this.h)};function El(g,A){Ft.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(El,Ft),t=El.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,ji(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||o).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ic(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ic(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?ro(this):ji(this),this.readyState==3&&ic(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,ro(this))},t.Na=function(g){this.g&&(this.response=g,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ji(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var P=A.next();!P.done;)P=P.value,g.push(P[0]+": "+P[1]),P=A.next();return g.join(`\r
`)};function ji(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function oi(g){let A="";return _e(g,function(P,z){A+=z,A+=":",A+=P,A+=`\r
`}),A}function Tl(g,A,P){e:{for(z in P){var z=!1;break e}z=!0}z||(P=oi(P),typeof g=="string"?P!=null&&Wa(P):ht(g,A,P))}function bt(g){Ft.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(bt,Ft);var da=/^https?$/i,Ah=["POST","PUT"];t=bt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,P,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ph.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(te){Sl(this,te);return}if(g=P||"",P=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Q in z)P.set(Q,z[Q]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const te of z.keys())P.set(te,z.get(te));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(P.keys()).find(te=>te.toLowerCase()=="content-type"),Q=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(Ah,A,void 0)>=0)||z||Q||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of P)this.g.setRequestHeader(te,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(te){Sl(this,te)}};function Sl(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,Ih(g),Ya(g)}function Ih(g){g.A||(g.A=!0,Ht(g,"complete"),Ht(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Ht(this,"complete"),Ht(this,"abort"),Ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),bt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Al(this):this.Xa())},t.Xa=function(){Al(this)};function Al(g){if(g.h&&typeof a<"u"){if(g.v&&Vi(g)==4)setTimeout(g.Ca.bind(g),0);else if(Ht(g,"readystatechange"),Vi(g)==4){g.h=!1;try{const te=g.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var P;if(!(P=A)){var z;if(z=te===0){let ye=String(g.D).match(kp)[1]||null;!ye&&o.self&&o.self.location&&(ye=o.self.location.protocol.slice(0,-1)),z=!da.test(ye?ye.toLowerCase():"")}P=z}if(P)Ht(g,"complete"),Ht(g,"success");else{g.o=6;try{var Q=Vi(g)>2?g.g.statusText:""}catch{Q=""}g.l=Q+" ["+g.ca()+"]",Ih(g)}}finally{Ya(g)}}}}function Ya(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const P=g.g;g.g=null,A||Ht(g,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Pt(A)}};function Fn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(g){const A={};g=(g.g&&Vi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(q(g[z]))continue;var P=Np(g[z]);const Q=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const te=A[Q]||[];A[Q]=te,te.push(P)}Ae(A,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(g,A,P){return P&&P.internalChannelParams&&P.internalChannelParams[g]||A}function io(g){this.za=0,this.i=[],this.j=new Ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ma("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ma("baseRetryDelayMs",5e3,g),this.Za=ma("retryDelaySeedMs",1e4,g),this.Ta=ma("forwardChannelMaxRetries",2,g),this.va=ma("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new gh(g&&g.concurrentRequestLimit),this.Ba=new no,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=io.prototype,t.ka=8,t.I=1,t.connect=function(g,A,P,z){an(0),this.W=g,this.H=A||{},P&&z!==void 0&&(this.H.OSID=P,this.H.OAID=z),this.F=this.X,this.J=Gp(this,null,this.W),pa(this)};function Ch(g){if(ac(g),g.I==3){var A=g.V++,P=ln(g.J);if(ht(P,"SID",g.M),ht(P,"RID",A),ht(P,"TYPE","terminate"),Il(g,P),A=new Di(g,g.j,A),A.M=2,A.A=_l(ln(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(A.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=A.A,P=!0),P||(A.g=Kp(A.j,null),A.g.ea(A.A)),A.F=Date.now(),sa(A)}Hp(g)}function ao(g){g.g&&(Rh(g),g.g.cancel(),g.g=null)}function ac(g){ao(g),g.v&&(o.clearTimeout(g.v),g.v=null),oc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function pa(g){if(!yh(g.h)&&!g.m){g.m=!0;var A=g.Ea;V||O(),L||(V(),L=!0),R.add(A,g),g.D=0}}function sc(g,A){return ua(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ra(h(g.Ea,g,A),$p(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Q=new Di(this,this.j,g);let te=this.o;if(this.U&&(te?(te=H(te),pe(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var A=0,P=0;P<this.i.length;P++){t:{var z=this.i[P];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(A+=z,A>4096){A=P;break e}if(A===4096||P===this.i.length-1){A=P+1;break e}}A=1e3}else A=1e3;A=Up(this,Q,A),P=ln(this.J),ht(P,"RID",g),ht(P,"CVER",22),this.G&&ht(P,"X-HTTP-Session-Id",this.G),Il(this,P),te&&(this.R?A="headers="+Wa(oi(te))+"&"+A:this.u&&Tl(P,this.u,te)),vh(this.h,Q),this.Ra&&ht(P,"TYPE","init"),this.S?(ht(P,"$req",A),ht(P,"SID","null"),Q.U=!0,aa(Q,P,null)):aa(Q,P,A),this.I=2}}else this.I==3&&(g?Ph(this,g):this.i.length==0||yh(this.h)||Ph(this))};function Ph(g,A){var P;A?P=A.l:P=g.V++;const z=ln(g.J);ht(z,"SID",g.M),ht(z,"RID",P),ht(z,"AID",g.K),Il(g,z),g.u&&g.o&&Tl(z,g.u,g.o),P=new Di(g,g.j,P,g.D+1),g.u===null&&(P.J=g.o),A&&(g.i=A.G.concat(g.i)),A=Up(g,P,1e3),P.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),vh(g.h,P),aa(P,z,A)}function Il(g,A){g.H&&_e(g.H,function(P,z){ht(A,z,P)}),g.l&&_e({},function(P,z){ht(A,z,P)})}function Up(g,A,P){P=Math.min(g.i.length,P);const z=g.l?h(g.l.Ka,g.l,g):null;e:{var Q=g.i;let qe=-1;for(;;){const tn=["count="+P];qe==-1?P>0?(qe=Q[0].g,tn.push("ofs="+qe)):qe=0:tn.push("ofs="+qe);let lt=!0;for(let Dt=0;Dt<P;Dt++){var te=Q[Dt].g;const li=Q[Dt].map;if(te-=qe,te<0)qe=Math.max(0,Q[Dt].g-100),lt=!1;else try{te="req"+te+"_"||"";try{var ye=li instanceof Map?li:Object.entries(li);for(const[ya,Li]of ye){let zi=Li;u(Li)&&(zi=kr(Li)),tn.push(te+ya+"="+encodeURIComponent(zi))}}catch(ya){throw tn.push(te+"type="+encodeURIComponent("_badmap")),ya}}catch{z&&z(li)}}if(lt){ye=tn.join("&");break e}}ye=void 0}return g=g.i.splice(0,P),A.G=g,ye}function Bp(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;V||O(),L||(V(),L=!0),R.add(A,g),g.A=0}}function Cl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ra(h(g.Da,g),$p(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Fp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ra(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,an(10),ao(this),Fp(this))};function Rh(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function Fp(g){g.g=new Di(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=ln(g.na);ht(A,"RID","rpc"),ht(A,"SID",g.M),ht(A,"AID",g.K),ht(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&ht(A,"TO",g.ia),ht(A,"TYPE","xmlhttp"),Il(g,A),g.u&&g.o&&Tl(A,g.u,g.o),g.O&&(g.g.H=g.O);var P=g.g;g=g.ba,P.M=1,P.A=_l(ln(A)),P.u=null,P.R=!0,Zu(P,g)}t.Va=function(){this.C!=null&&(this.C=null,ao(this),Cl(this),an(19))};function oc(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function qp(g,A){var P=null;if(g.g==A){oc(g),Rh(g),g.g=null;var z=2}else if(ca(g.h,A))P=A.G,bh(g.h,A),z=1;else return;if(g.I!=0){if(A.o)if(z==1){P=A.u?A.u.length:0,A=Date.now()-A.F;var Q=g.D;z=Qu(),Ht(z,new na(z,P)),pa(g)}else Bp(g);else if(Q=A.m,Q==3||Q==0&&A.X>0||!(z==1&&sc(g,A)||z==2&&Cl(g)))switch(P&&P.length>0&&(A=g.h,A.i=A.i.concat(P)),Q){case 1:ga(g,5);break;case 4:ga(g,10);break;case 3:ga(g,6);break;default:ga(g,2)}}}function $p(g,A){let P=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(P*=2),P*A}function ga(g,A){if(g.j.info("Error code "+A),A==2){var P=h(g.bb,g),z=g.Ua;const Q=!z;z=new Vr(z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Rn(z,"https"),_l(z),Q?ki(z.toString(),P):Sh(z.toString(),P)}else an(2);g.I=0,g.l&&g.l.pa(A),Hp(g),ac(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function Hp(g){if(g.I=0,g.ja=[],g.l){const A=xh(g.h);(A.length!=0||g.i.length!=0)&&(w(g.ja,A),w(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Gp(g,A,P){var z=P instanceof Vr?ln(P):new Vr(P);if(z.g!="")A&&(z.g=A+"."+z.g),Zs(z,z.u);else{var Q=o.location;z=Q.protocol,A=A?A+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new Vr(null);z&&Rn(te,z),A&&(te.g=A),Q&&Zs(te,Q),P&&(te.h=P),z=te}return P=g.G,A=g.wa,P&&A&&ht(z,P,A),ht(z,"VER",g.ka),Il(g,z),z}function Kp(g,A,P){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new bt(new ha({ab:P})):new bt(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wp(){}t=Wp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function so(){}so.prototype.g=function(g,A){return new hr(g,A)};function hr(g,A){Ft.call(this),this.g=new io(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!q(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!q(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Qa(this)}p(hr,Ft),hr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){Ch(this.g)},hr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var P={};P.__data__=g,g=P}else this.v&&(P={},P.__data__=kr(g),g=P);A.i.push(new on(A.Ya++,g)),A.I==3&&pa(A)},hr.prototype.N=function(){this.g.l=null,delete this.j,Ch(this.g),delete this.g,hr.Z.N.call(this)};function Yp(g){Bn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const P in A){g=P;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}p(Yp,Bn);function Xp(){ii.call(this),this.status=1}p(Xp,ii);function Qa(g){this.g=g}p(Qa,Wp),Qa.prototype.ra=function(){Ht(this.g,"a")},Qa.prototype.qa=function(g){Ht(this.g,new Yp(g))},Qa.prototype.pa=function(g){Ht(this.g,new Xp)},Qa.prototype.oa=function(){Ht(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,z3=function(){return new so},L3=function(){return Qu()},V3=en,EE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,Vy=bl,mh.COMPLETE="complete",j3=mh,Cp.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,Md=Cp,bt.prototype.listenOnce=bt.prototype.K,bt.prototype.getLastError=bt.prototype.Ha,bt.prototype.getLastErrorCode=bt.prototype.ya,bt.prototype.getStatus=bt.prototype.ca,bt.prototype.getResponseJson=bt.prototype.La,bt.prototype.getResponseText=bt.prototype.la,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Fa,k3=bt}).apply(typeof ny<"u"?ny:typeof self<"u"?self:typeof window<"u"?window:{});class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");let Xf="12.9.0";function YY(t){Xf=t}const Pu=new AS("@firebase/firestore");function Wc(){return Pu.logLevel}function me(t,...e){if(Pu.logLevel<=Ze.DEBUG){const n=e.map(zS);Pu.debug(`Firestore (${Xf}): ${t}`,...n)}}function pr(t,...e){if(Pu.logLevel<=Ze.ERROR){const n=e.map(zS);Pu.error(`Firestore (${Xf}): ${t}`,...n)}}function el(t,...e){if(Pu.logLevel<=Ze.WARN){const n=e.map(zS);Pu.warn(`Firestore (${Xf}): ${t}`,...n)}}function zS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,U3(t,r,n)}function U3(t,e,n){let r=`FIRESTORE (${Xf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pr(r),new Error(r)}function Pe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||U3(e,i,r)}function Ue(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class B3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Qn.UNAUTHENTICATED)))}shutdown(){}}class QY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZY{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Es,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Es)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new B3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class JY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class eX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class US{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nX(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function TE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return cw(i)===cw(a)?ze(i,a):cw(i)?1:-1}return ze(t.length,e.length)}const rX=55296,iX=57343;function cw(t){const e=t.charCodeAt(0);return e>=rX&&e<=iX}function Ef(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function F3(t){return t+"\0"}const J2="__name__";class Ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ia.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ze(e.length,n.length)}static compareSegments(e,n){const r=Ia.isNumericId(e),i=Ia.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ia.extractNumericId(e).compare(Ia.extractNumericId(n)):TE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yo.fromString(e.substring(4,e.length-2))}}class ct extends Ia{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const aX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Ia{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return aX.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J2}static keyField(){return new qt([J2])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}function q3(t,e,n){if(!n)throw new ve(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sX(t,e,n,r){if(e===!0&&r===!0)throw new ve(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eN(t){if(!be.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tN(t){if(be.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function U0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=U0(t);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xm(t,e){if(!$3(t))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ve(le.INVALID_ARGUMENT,n);return!0}const nN=-62135596800,rN=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rN);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nN)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rN}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xm(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:pn("string",gt._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new gt(0,0))}static max(){return new Ne(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const om=-1;class bv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function SE(t){return t.fields.find((e=>e.kind===2))}function Yl(t){return t.fields.filter((e=>e.kind!==2))}bv.UNKNOWN_ID=-1;class Ly{constructor(e,n){this.fieldPath=e,this.kind=n}}class lm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new lm(0,Jr.min())}}function oX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Jr(i,be.empty(),e)}function H3(t){return new Jr(t.readTime,t.key,om)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(Ne.min(),be.empty(),om)}static max(){return new Jr(Ne.max(),be.empty(),om)}}function BS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $u(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==G3)throw t;me("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,r)=>{n(e)}))}static reject(e){return new X(((n,r)=>{r(e)}))}static waitFor(e){return new X(((n,r)=>{let i=0,a=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++a,o&&a===i&&n()}),(f=>r(f)))})),o=!0,a===i&&n()}))}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next((i=>i?X.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new X(((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((d=>{o[h]=d,++u,u===a&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new X(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}const Hr="SimpleDb";class B0{static open(e,n,r,i){try{return new B0(n,e.transaction(i,r))}catch(a){throw new Hd(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Es,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Hd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=FS(r.target.error);this.S.reject(new Hd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(me(Hr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uX(n)}}class Xo{static delete(e){return me(Hr,"Removing database:",e),nu(z4().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!W4())return!1;if(Xo.F())return!0;const e=En(),n=Xo.M(e),r=0<n&&n<10,i=W3(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Xo.M(En())===12.2&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(me(Hr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const o=a.target.result;n(o)},i.onblocked=()=>{r(new Hd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const o=a.target.error;o.name==="VersionError"?r(new ve(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ve(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Hd(e,o))},i.onupgradeneeded=a=>{me(Hr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;this.N.k(o,i.transaction,a.oldVersion,this.version).next((()=>{me(Hr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=B0.open(this.db,e,a?"readonly":"readwrite",r),f=i(u).next((h=>(u.C(),h))).catch((h=>(u.abort(h),X.reject(h)))).toPromise();return f.catch((()=>{})),await u.D,f}catch(u){const f=u,h=f.name!=="FirebaseError"&&o<3;if(me(Hr,"Transaction failed with error:",f.message,"Retrying:",h),this.close(),!h)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function W3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class lX{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return nu(this.U.delete())}}class Hd extends ve{constructor(e,n){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fl(t){return t.name==="IndexedDbTransactionError"}class uX{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(me(Hr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(me(Hr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nu(r)}add(e){return me(Hr,"ADD",this.store.name,e,e),nu(this.store.add(e))}get(e){return nu(this.store.get(e)).next((n=>(n===void 0&&(n=null),me(Hr,"GET",this.store.name,e,n),n)))}delete(e){return me(Hr,"DELETE",this.store.name,e),nu(this.store.delete(e))}count(){return me(Hr,"COUNT",this.store.name),nu(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new X(((o,u)=>{a.onerror=f=>{u(f.target.error)},a.onsuccess=f=>{o(f.target.result)}}))}{const a=this.cursor(r),o=[];return this.J(a,((u,f)=>{o.push(f)})).next((()=>o))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new X(((i,a)=>{r.onerror=o=>{a(o.target.error)},r.onsuccess=o=>{i(o.target.result)}}))}X(e,n){me(Hr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((a,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new X(((r,i)=>{n.onerror=a=>{const o=FS(a.target.error);i(o)},n.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}J(e,n){const r=[];return new X(((i,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void i();const f=new lX(u),h=n(u.primaryKey,u.value,f);if(h instanceof X){const d=h.catch((p=>(f.done(),X.reject(p))));r.push(d)}f.isDone?i():f.G===null?u.continue():u.continue(f.G)}})).next((()=>X.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function nu(t){return new X(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=FS(r.target.error);n(i)}}))}let iN=!1;function FS(t){const e=Xo.M(En());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iN||(iN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Gd="IndexBackfiller";class cX{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){me(Gd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();me(Gd,`Documents written: ${n}`)}catch(n){fl(n)?me(Gd,"Ignoring IndexedDB error during index backfill: ",n):await $u(n)}await this.re(6e4)}))}}class fX{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return X.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return me(Gd,`Processing collection: ${o}`),this.oe(e,o,i).next((u=>{i-=u,r.add(o)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(i,a))).next((u=>(me(Gd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const o=H3(a);BS(o,r)>0&&(r=o)})),new Jr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class bi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bi.ce=-1;const pu=-1;function F0(t){return t==null}function um(t){return t===0&&1/t==-1/0}function hX(t){return typeof t=="number"&&Number.isInteger(t)&&!um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const xv="";function cr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aN(e)),e=dX(t.get(n),e);return aN(e)}function dX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case xv:n+="";break;default:n+=a}}return n}function aN(t){return t+xv+""}function Pa(t){const e=t.length;if(Pe(e>=2,64408,{path:t}),e===2)return Pe(t.charAt(0)===xv&&t.charAt(1)==="",56145,{path:t}),ct.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const o=t.indexOf(xv,a);switch((o<0||o>n)&&Se(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(a,o);let f;i.length===0?f=u:(i+=u,f=i,i=""),r.push(f);break;case"":i+=t.substring(a,o),i+="\0";break;case"":i+=t.substring(a,o+1);break;default:Se(61167,{path:t})}a=o+2}return new ct(r)}const Xl="remoteDocuments",Qm="owner",Lc="owner",cm="mutationQueues",mX="userId",Hi="mutations",sN="batchId",lu="userMutationsIndex",oN=["userId","batchId"];function zy(t,e){return[t,cr(e)]}function Y3(t,e,n){return[t,cr(e),n]}const pX={},Tf="documentMutations",_v="remoteDocumentsV14",gX=["prefixPath","collectionGroup","readTime","documentId"],Uy="documentKeyIndex",yX=["prefixPath","collectionGroup","documentId"],X3="collectionGroupIndex",vX=["collectionGroup","readTime","prefixPath","documentId"],fm="remoteDocumentGlobal",AE="remoteDocumentGlobalKey",Sf="targets",Q3="queryTargetsIndex",bX=["canonicalId","targetId"],Af="targetDocuments",xX=["targetId","path"],qS="documentTargetsIndex",_X=["path","targetId"],wv="targetGlobalKey",gu="targetGlobal",hm="collectionParents",wX=["collectionId","parent"],If="clientMetadata",EX="clientId",q0="bundles",TX="bundleId",$0="namedQueries",SX="name",$S="indexConfiguration",AX="indexId",IE="collectionGroupIndex",IX="collectionGroup",Kd="indexState",CX=["indexId","uid"],Z3="sequenceNumberIndex",PX=["uid","sequenceNumber"],Wd="indexEntries",RX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],J3="documentKeyIndex",OX=["indexId","uid","orderedDocumentKey"],H0="documentOverlays",NX=["userId","collectionPath","documentId"],CE="collectionPathOverlayIndex",DX=["userId","collectionPath","largestBatchId"],e5="collectionGroupOverlayIndex",MX=["userId","collectionGroup","largestBatchId"],HS="globals",kX="name",t5=[cm,Hi,Tf,Xl,Sf,Qm,gu,Af,If,fm,hm,q0,$0],jX=[...t5,H0],n5=[cm,Hi,Tf,_v,Sf,Qm,gu,Af,If,fm,hm,q0,$0,H0],r5=n5,GS=[...r5,$S,Kd,Wd],VX=GS,i5=[...GS,HS],LX=i5;class PE extends K3{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Tn(t,e){const n=Ue(t);return Xo.O(n.le,e)}function lN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function a5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class zt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ry(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ry(this.root,e,this.comparator,!1)}getReverseIterator(){return new ry(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ry(this.root,e,this.comparator,!0)}}class ry{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=a??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vt{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uN(this.data.getIterator())}getIteratorFrom(e){return new uN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class uN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zc(t){return t.hasNext()?t.getNext():void 0}class Rr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new vt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ef(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class s5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new s5("Invalid base64 string: "+a):a}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const zX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=zX.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const o5="server_timestamp",l5="__type__",u5="__previous_value__",c5="__local_write_time__";function KS(t){return(t?.mapValue?.fields||{})[l5]?.stringValue===o5}function G0(t){const e=t.mapValue.fields[u5];return KS(e)?G0(e):e}function dm(t){const e=Ps(t.mapValue.fields[c5].timestampValue);return new gt(e.seconds,e.nanos)}class UX{constructor(e,n,r,i,a,o,u,f,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=d,this.apiKey=p}}const Ev="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||Ev}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Ev}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}function BX(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(t.options.projectId,e)}const WS="__type__",f5="__max__",qo={mapValue:{fields:{__type__:{stringValue:f5}}}},YS="__vector__",Cf="value",By={nullValue:"NULL_VALUE"};function tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KS(t)?4:h5(t)?9007199254740991:K0(t)?10:11:Se(28295,{value:t})}function La(t,e){if(t===e)return!0;const n=tl(t);if(n!==tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dm(t).isEqual(dm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ps(i.timestampValue),u=Ps(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Rs(i.bytesValue).isEqual(Rs(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return jt(i.geoPointValue.latitude)===jt(a.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return jt(i.integerValue)===jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=jt(i.doubleValue),u=jt(a.doubleValue);return o===u?um(o)===um(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return Ef(t.arrayValue.values||[],e.arrayValue.values||[],La);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(lN(o)!==lN(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!La(o[f],u[f])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function mm(t,e){return(t.values||[]).find((n=>La(n,e)))!==void 0}function nl(t,e){if(t===e)return 0;const n=tl(t),r=tl(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=jt(a.integerValue||a.doubleValue),f=jt(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return cN(t.timestampValue,e.timestampValue);case 4:return cN(dm(t),dm(e));case 5:return TE(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=Rs(a),f=Rs(o);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),f=o.split("/");for(let h=0;h<u.length&&h<f.length;h++){const d=ze(u[h],f[h]);if(d!==0)return d}return ze(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=ze(jt(a.latitude),jt(o.latitude));return u!==0?u:ze(jt(a.longitude),jt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return fN(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const u=a.fields||{},f=o.fields||{},h=u[Cf]?.arrayValue,d=f[Cf]?.arrayValue,p=ze(h?.values?.length||0,d?.values?.length||0);return p!==0?p:fN(h,d)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===qo.mapValue&&o===qo.mapValue)return 0;if(a===qo.mapValue)return 1;if(o===qo.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=o.fields||{},d=Object.keys(h);f.sort(),d.sort();for(let p=0;p<f.length&&p<d.length;++p){const y=TE(f[p],d[p]);if(y!==0)return y;const b=nl(u[f[p]],h[d[p]]);if(b!==0)return b}return ze(f.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function cN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Ps(t),r=Ps(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function fN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=nl(n[i],r[i]);if(a)return a}return ze(n.length,r.length)}function Pf(t){return RE(t)}function RE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ps(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Rs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=RE(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${RE(n.fields[o])}`;return i+"}"})(t.mapValue):Se(61005,{value:t})}function Fy(t){switch(tl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=G0(t);return e?16+Fy(e):16;case 5:return 2*t.stringValue.length;case 6:return Rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Fy(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return hl(r.fields,((a,o)=>{i+=a.length+Fy(o)})),i})(t.mapValue);default:throw Se(13486,{value:t})}}function pm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function OE(t){return!!t&&"integerValue"in t}function gm(t){return!!t&&"arrayValue"in t}function hN(t){return!!t&&"nullValue"in t}function dN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qy(t){return!!t&&"mapValue"in t}function K0(t){return(t?.mapValue?.fields||{})[WS]?.stringValue===YS}function Yd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yd(t.arrayValue.values[n]);return e}return{...t}}function h5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===f5}const d5={mapValue:{fields:{[WS]:{stringValue:YS},[Cf]:{arrayValue:{}}}}};function FX(t){return"nullValue"in t?By:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?pm(Ru.empty(),be.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?K0(t)?d5:{mapValue:{}}:Se(35942,{value:t})}function qX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?pm(Ru.empty(),be.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?d5:"mapValue"in t?K0(t)?{mapValue:{}}:qo:Se(61959,{value:t})}function mN(t,e){const n=nl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pN(t,e){const n=nl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yd(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Yd(o):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());qy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return La(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new or(Yd(this.value))}}function m5(t){const e=[];return hl(t.fields,((n,r)=>{const i=new qt([n]);if(qy(r)){const a=m5(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Rr(e)}class Qt{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Qt(e,0,Ne.min(),Ne.min(),Ne.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,Ne.min(),Ne.min(),or.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Ne.min(),Ne.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rf{constructor(e,n){this.position=e,this.inclusive=n}}function gN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=nl(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function yN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!La(t.position[n],e.position[n]))return!1;return!0}class ym{constructor(e,n="asc"){this.field=e,this.dir=n}}function $X(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class p5{}class Je extends p5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HX(e,n,r):n==="array-contains"?new WX(e,r):n==="in"?new _5(e,r):n==="not-in"?new YX(e,r):n==="array-contains-any"?new XX(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GX(e,r):new KX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nl(n,this.value)):n!==null&&tl(this.value)===tl(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yt extends p5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yt(e,n)}matches(e){return Of(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Of(t){return t.op==="and"}function NE(t){return t.op==="or"}function XS(t){return g5(t)&&Of(t)}function g5(t){for(const e of t.filters)if(e instanceof yt)return!1;return!0}function DE(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Pf(t.value);if(XS(t))return t.filters.map((e=>DE(e))).join(",");{const e=t.filters.map((n=>DE(n))).join(",");return`${t.op}(${e})`}}function y5(t,e){return t instanceof Je?(function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&La(r.value,i.value)})(t,e):t instanceof yt?(function(r,i){return i instanceof yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,u)=>a&&y5(o,i.filters[u])),!0):!1})(t,e):void Se(19439)}function v5(t,e){const n=t.filters.concat(e);return yt.create(n,t.op)}function b5(t){return t instanceof Je?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pf(n.value)}`})(t):t instanceof yt?(function(n){return n.op.toString()+" {"+n.getFilters().map(b5).join(" ,")+"}"})(t):"Filter"}class HX extends Je{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class GX extends Je{constructor(e,n){super(e,"in",n),this.keys=x5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KX extends Je{constructor(e,n){super(e,"not-in",n),this.keys=x5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function x5(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class WX extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gm(n)&&mm(n.arrayValue,this.value)}}class _5 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mm(this.value.arrayValue,n)}}class YX extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mm(this.value.arrayValue,n)}}class XX extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mm(this.value.arrayValue,r)))}}class QX{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Te=null}}function ME(t,e=null,n=[],r=[],i=null,a=null,o=null){return new QX(t,e,n,r,i,a,o)}function Ou(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>DE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),F0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Pf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Pf(r))).join(",")),e.Te=n}return e.Te}function Zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$X(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yN(t.startAt,e.startAt)&&yN(t.endAt,e.endAt)}function Tv(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sv(t,e){return t.filters.filter((n=>n instanceof Je&&n.field.isEqual(e)))}function vN(t,e,n){let r=By,i=!0;for(const a of Sv(t,e)){let o=By,u=!0;switch(a.op){case"<":case"<=":o=FX(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,u=!1;break;case"!=":case"not-in":o=By}mN({value:r,inclusive:i},{value:o,inclusive:u})<0&&(r=o,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];mN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function bN(t,e,n){let r=qo,i=!0;for(const a of Sv(t,e)){let o=qo,u=!0;switch(a.op){case">=":case">":o=qX(a.value),u=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,u=!1;break;case"!=":case"not-in":o=qo}pN({value:r,inclusive:i},{value:o,inclusive:u})>0&&(r=o,i=u)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=n.position[a];pN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}class Qf{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZX(t,e,n,r,i,a,o,u){return new Qf(t,e,n,r,i,a,o,u)}function Jm(t){return new Qf(t)}function xN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JX(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function w5(t){return t.collectionGroup!==null}function Xd(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new vt(qt.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ym(a,r))})),n.has(qt.keyField().canonicalString())||e.Ie.push(new ym(qt.keyField(),r))}return e.Ie}function Ei(t){const e=Ue(t);return e.Ee||(e.Ee=eQ(e,Xd(t))),e.Ee}function eQ(t,e){if(t.limitType==="F")return ME(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new ym(i.field,a)}));const n=t.endAt?new Rf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rf(t.startAt.position,t.startAt.inclusive):null;return ME(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kE(t,e){const n=t.filters.concat([e]);return new Qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tQ(t,e){const n=t.explicitOrderBy.concat([e]);return new Qf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function jE(t,e,n){return new Qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function W0(t,e){return Zm(Ei(t),Ei(e))&&t.limitType===e.limitType}function E5(t){return`${Ou(Ei(t))}|lt:${t.limitType}`}function Yc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>b5(i))).join(", ")}]`),F0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Pf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Pf(i))).join(",")),`Target(${r})`})(Ei(t))}; limitType=${t.limitType})`}function ep(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Xd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,f){const h=gN(o,u,f);return o.inclusive?h<=0:h<0})(r.startAt,Xd(r),i)||r.endAt&&!(function(o,u,f){const h=gN(o,u,f);return o.inclusive?h>=0:h>0})(r.endAt,Xd(r),i))})(t,e)}function nQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T5(t){return(e,n)=>{let r=!1;for(const i of Xd(t)){const a=rQ(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function rQ(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):(function(a,o,u){const f=o.data.field(a),h=u.data.field(a);return f!==null&&h!==null?nl(f,h):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return a5(this.inner)}size(){return this.innerSize}}const iQ=new zt(be.comparator);function Yr(){return iQ}const S5=new zt(be.comparator);function kd(...t){let e=S5;for(const n of t)e=e.insert(n.key,n);return e}function A5(t){let e=S5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ra(){return Qd()}function I5(){return Qd()}function Qd(){return new Fs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const aQ=new zt(be.comparator),sQ=new vt(be.comparator);function Ke(...t){let e=sQ;for(const n of t)e=e.add(n);return e}const oQ=new vt(ze);function lQ(){return oQ}function QS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function C5(t){return{integerValue:""+t}}function P5(t,e){return hX(e)?C5(e):QS(t,e)}class Y0{constructor(){this._=void 0}}function uQ(t,e,n){return t instanceof vm?(function(i,a){const o={fields:{[l5]:{stringValue:o5},[c5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&KS(a)&&(a=G0(a)),a&&(o.fields[u5]=a),{mapValue:o}})(n,e):t instanceof Nf?O5(t,e):t instanceof Df?N5(t,e):(function(i,a){const o=R5(i,a),u=_N(o)+_N(i.Ae);return OE(o)&&OE(i.Ae)?C5(u):QS(i.serializer,u)})(t,e)}function cQ(t,e,n){return t instanceof Nf?O5(t,e):t instanceof Df?N5(t,e):n}function R5(t,e){return t instanceof Mf?(function(r){return OE(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class vm extends Y0{}class Nf extends Y0{constructor(e){super(),this.elements=e}}function O5(t,e){const n=D5(e);for(const r of t.elements)n.some((i=>La(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Df extends Y0{constructor(e){super(),this.elements=e}}function N5(t,e){let n=D5(e);for(const r of t.elements)n=n.filter((i=>!La(i,r)));return{arrayValue:{values:n}}}class Mf extends Y0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _N(t){return jt(t.integerValue||t.doubleValue)}function D5(t){return gm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class M5{constructor(e,n){this.field=e,this.transform=n}}function fQ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Nf&&i instanceof Nf||r instanceof Df&&i instanceof Df?Ef(r.elements,i.elements,La):r instanceof Mf&&i instanceof Mf?La(r.Ae,i.Ae):r instanceof vm&&i instanceof vm})(t.transform,e.transform)}class hQ{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $y(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class X0{}function k5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Q0(t.key,lr.none()):new Zf(t.key,t.data,lr.none());{const n=t.data,r=or.empty();let i=new vt(qt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new qs(t.key,r,new Rr(i.toArray()),lr.none())}}function dQ(t,e,n){t instanceof Zf?(function(i,a,o){const u=i.value.clone(),f=EN(i.fieldTransforms,a,o.transformResults);u.setAll(f),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):t instanceof qs?(function(i,a,o){if(!$y(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=EN(i.fieldTransforms,a,o.transformResults),f=a.data;f.setAll(j5(i)),f.setAll(u),a.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Zd(t,e,n,r){return t instanceof Zf?(function(a,o,u,f){if(!$y(a.precondition,o))return u;const h=a.value.clone(),d=TN(a.fieldTransforms,f,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof qs?(function(a,o,u,f){if(!$y(a.precondition,o))return u;const h=TN(a.fieldTransforms,f,o),d=o.data;return d.setAll(j5(a)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,u){return $y(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,n)}function mQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=R5(r.transform,i||null);a!=null&&(n===null&&(n=or.empty()),n.set(r.field,a))}return n||null}function wN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ef(r,i,((a,o)=>fQ(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zf extends X0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends X0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function j5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function EN(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,cQ(o,u,n[i]))}return r}function TN(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,uQ(a,o,e))}return r}class Q0 extends X0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V5 extends X0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&dQ(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=I5();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const f=k5(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Ef(this.mutations,e.mutations,((n,r)=>wN(n,r)))&&Ef(this.baseMutations,e.baseMutations,((n,r)=>wN(n,r)))}}class JS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return aQ})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new JS(e,n,r,i)}}class eA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var dn,nt;function gQ(t){switch(t){case le.OK:return Se(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function L5(t){if(t===void 0)return pr("GRPC error has no .code"),le.UNKNOWN;switch(t){case dn.OK:return le.OK;case dn.CANCELLED:return le.CANCELLED;case dn.UNKNOWN:return le.UNKNOWN;case dn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case dn.INTERNAL:return le.INTERNAL;case dn.UNAVAILABLE:return le.UNAVAILABLE;case dn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case dn.NOT_FOUND:return le.NOT_FOUND;case dn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case dn.ABORTED:return le.ABORTED;case dn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case dn.DATA_LOSS:return le.DATA_LOSS;default:return Se(39323,{code:t})}}(nt=dn||(dn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function yQ(){return new TextEncoder}const vQ=new Yo([4294967295,4294967295],0);function SN(t){const e=yQ().encode(t),n=new M3;return n.update(e),new Uint8Array(n.digest())}function AN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,a],0)]}class tA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jd(`Invalid padding: ${n}`);if(r<0)throw new jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Yo.fromNumber(r)));return i.compare(vQ)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=SN(e),[r,i]=AN(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new tA(a,i,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=SN(e),[r,i]=AN(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Z0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Z0(Ne.min(),i,new zt(ze),Yr(),Ke())}}class tp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tp(r,n,Ke(),Ke(),Ke())}}class Hy{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class z5{constructor(e,n){this.targetId=e,this.Ce=n}}class U5{constructor(e,n,r=vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IN{constructor(){this.ve=0,this.Fe=CN(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se(38017,{changeType:a})}})),new tp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=CN()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.He=iy(),this.Je=iy(),this.Ze=new zt(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Tv(a))if(r===0){const o=new be(a.path);this.et(n,o,Qt.newNoDocument(o,Ne.min()))}else Pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),f=u?this.ct(u,e,o):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=Rs(r).toUint8Array()}catch(f){if(f instanceof s5)return el("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new tA(o,i,a)}catch(f){return el(f instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const u=this.ot(o);if(u){if(a.current&&Tv(u.target)){const f=new be(u.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Qt.newNoDocument(f,e))}a.Be&&(n.set(o,a.ke()),a.Ke())}}));let r=Ke();this.Je.forEach(((a,o)=>{let u=!0;o.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Z0(e,n,this.Ze,this.je,r);return this.je=Yr(),this.He=iy(),this.Je=iy(),this.Ze=new zt(ze),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new IN,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new vt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new vt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function iy(){return new zt(be.comparator)}function CN(){return new zt(be.comparator)}const xQ={asc:"ASCENDING",desc:"DESCENDING"},_Q={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wQ={and:"AND",or:"OR"};class EQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function VE(t,e){return t.useProto3Json||F0(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TQ(t,e){return kf(t,e.toTimestamp())}function xr(t){return Pe(!!t,49232),Ne.fromTimestamp((function(n){const r=Ps(n);return new gt(r.seconds,r.nanos)})(t))}function nA(t,e){return LE(t,e).canonicalString()}function LE(t,e){const n=(function(i){return new ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function F5(t){const e=ct.fromString(t);return Pe(Q5(e),10190,{key:e.toString()}),e}function Av(t,e){return nA(t.databaseId,e.path)}function yu(t,e){const n=F5(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(H5(n))}function q5(t,e){return nA(t.databaseId,e)}function $5(t){const e=F5(t);return e.length===4?ct.emptyPath():H5(e)}function zE(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H5(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PN(t,e,n){return{name:Av(t,e),fields:n.value.mapValue.fields}}function SQ(t,e,n){const r=yu(t,e.name),i=xr(e.updateTime),a=e.createTime?xr(e.createTime):Ne.min(),o=new or({mapValue:{fields:e.fields}}),u=Qt.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function AQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Se(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,d){return h.useProto3Json?(Pe(d===void 0||typeof d=="string",58123),vn.fromBase64String(d||"")):(Pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const d=h.code===void 0?le.UNKNOWN:L5(h.code);return new ve(d,h.message||"")})(o);n=new U5(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yu(t,r.document.name),a=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):Ne.min(),u=new or({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(i,a,o,u),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Hy(h,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yu(t,r.document),a=r.readTime?xr(r.readTime):Ne.min(),o=Qt.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Hy([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yu(t,r.document),a=r.removedTargetIds||[];n=new Hy([],a,i,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new pQ(i,a),u=r.targetId;n=new z5(u,o)}}return n}function Iv(t,e){let n;if(e instanceof Zf)n={update:PN(t,e.key,e.value)};else if(e instanceof Q0)n={delete:Av(t,e.key)};else if(e instanceof qs)n={update:PN(t,e.key,e.data),updateMask:NQ(e.fieldMask)};else{if(!(e instanceof V5))return Se(16599,{dt:e.type});n={verify:Av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const u=o.transform;if(u instanceof vm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Nf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Df)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mf)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Se(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:TQ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)})(t,e.precondition)),n}function UE(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?lr.updateTime(xr(a.updateTime)):a.exists!==void 0?lr.exists(a.exists):lr.none()})(e.currentDocument):lr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(o,u){let f=null;if("setToServerValue"in u)Pe(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),f=new vm;else if("appendMissingElements"in u){const d=u.appendMissingElements.values||[];f=new Nf(d)}else if("removeAllFromArray"in u){const d=u.removeAllFromArray.values||[];f=new Df(d)}else"increment"in u?f=new Mf(o,u.increment):Se(16584,{proto:u});const h=qt.fromServerFormat(u.fieldPath);return new M5(h,f)})(t,i))):[];if(e.update){e.update.name;const i=yu(t,e.update.name),a=new or({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(f){const h=f.fieldPaths||[];return new Rr(h.map((d=>qt.fromServerFormat(d))))})(e.updateMask);return new qs(i,a,o,n,r)}return new Zf(i,a,n,r)}if(e.delete){const i=yu(t,e.delete);return new Q0(i,n)}if(e.verify){const i=yu(t,e.verify);return new V5(i,n)}return Se(1463,{proto:e})}function IQ(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?xr(i.updateTime):xr(a);return o.isEqual(Ne.min())&&(o=xr(a)),new hQ(o,i.transformResults||[])})(n,e)))):[]}function G5(t,e){return{documents:[q5(t,e.path)]}}function K5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q5(t,i);const a=(function(h){if(h.length!==0)return X5(yt.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((d=>(function(y){return{field:Xc(y.field),direction:PQ(y.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=VE(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function W5(t){let e=$5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=(function(p){const y=Y5(p);return y instanceof yt&&XS(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(w){return new ym(Qc(w.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,F0(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(p){const y=!!p.before,b=p.values||[];return new Rf(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const y=!p.before,b=p.values||[];return new Rf(b,y)})(n.endAt)),ZX(e,i,o,a,u,"F",f,h)}function CQ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qc(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qc(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qc(n.unaryFilter.field);return Je.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qc(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Je.create(Qc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return yt.create(n.compositeFilter.filters.map((r=>Y5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function PQ(t){return xQ[t]}function RQ(t){return _Q[t]}function OQ(t){return wQ[t]}function Xc(t){return{fieldPath:t.canonicalString()}}function Qc(t){return qt.fromServerFormat(t.fieldPath)}function X5(t){return t instanceof Je?(function(n){if(n.op==="=="){if(dN(n.value))return{unaryFilter:{field:Xc(n.field),op:"IS_NAN"}};if(hN(n.value))return{unaryFilter:{field:Xc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dN(n.value))return{unaryFilter:{field:Xc(n.field),op:"IS_NOT_NAN"}};if(hN(n.value))return{unaryFilter:{field:Xc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(n.field),op:RQ(n.op),value:n.value}}})(t):t instanceof yt?(function(n){const r=n.getFilters().map((i=>X5(i)));return r.length===1?r[0]:{compositeFilter:{op:OQ(n.op),filters:r}}})(t):Se(54877,{filter:t})}function NQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Q5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Z5(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class vs{constructor(e,n,r,i,a=Ne.min(),o=Ne.min(),u=vn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J5{constructor(e){this.yt=e}}function DQ(t,e){let n;if(e.document)n=SQ(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=be.fromSegments(e.noDocument.path),i=Du(e.noDocument.readTime);n=Qt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const r=be.fromSegments(e.unknownDocument.path),i=Du(e.unknownDocument.version);n=Qt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new gt(i[0],i[1]);return Ne.fromTimestamp(a)})(e.readTime)),n}function RN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,o){return{name:Av(a,o.key),fields:o.data.value.mapValue.fields,updateTime:kf(a,o.version.toTimestamp()),createTime:kf(a,o.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nu(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Nu(e.version)}}return r}function Cv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Du(t){const e=new gt(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function ru(t,e){const n=(e.baseMutations||[]).map((a=>UE(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const u=e.mutations[a+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>UE(t.yt,a))),i=gt.fromMillis(e.localWriteTimeMs);return new ZS(e.batchId,i,n,r)}function Vd(t){const e=Du(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Du(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const o=a.documents.length;return Pe(o===1,1966,{count:o}),Ei(Jm($5(a.documents[0])))})(t.query):(function(a){return Ei(W5(a))})(t.query),new vs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,vn.fromBase64String(t.resumeToken))}function e6(t,e){const n=Nu(e.snapshotVersion),r=Nu(e.lastLimboFreeSnapshotVersion);let i;i=Tv(e.target)?G5(t.yt,e.target):K5(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ou(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function t6(t){const e=W5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jE(e,e.limit,"L"):e}function fw(t,e){return new eA(e.largestBatchId,UE(t.yt,e.overlayMutation))}function ON(t,e){const n=e.path.lastSegment();return[t,cr(e.path.popLast()),n]}function NN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Nu(r.readTime),documentKey:cr(r.documentKey.path),largestBatchId:r.largestBatchId}}class MQ{getBundleMetadata(e,n){return DN(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:Du(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return DN(e).put((function(i){return{bundleId:i.id,createTime:Nu(xr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return MN(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:t6(a.bundledQuery),readTime:Du(a.readTime)}})(r)}))}saveNamedQuery(e,n){return MN(e).put((function(i){return{name:i.name,readTime:Nu(xr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function DN(t){return Tn(t,q0)}function MN(t){return Tn(t,$0)}class J0{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new J0(e,r)}getOverlay(e,n){return gd(e).get(ON(this.userId,n)).next((r=>r?fw(this.serializer,r):null))}getOverlays(e,n){const r=Ra();return X.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,o)=>{const u=new eA(n,o);i.push(this.bt(e,u))})),X.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((o=>i.add(cr(o.getCollectionPath()))));const a=[];return i.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);a.push(gd(e).X(CE,u))})),X.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ra(),a=cr(n),o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gd(e).H(CE,o).next((u=>{for(const f of u){const h=fw(this.serializer,f);i.set(h.getKey(),h)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Ra();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return gd(e).ee({index:e5,range:u},((f,h,d)=>{const p=fw(this.serializer,h);a.size()<i||p.largestBatchId===o?(a.set(p.getKey(),p),o=p.largestBatchId):d.done()})).next((()=>a))}bt(e,n){return gd(e).put((function(i,a,o){const[u,f,h]=ON(a,o.mutation.key);return{userId:a,collectionPath:f,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Iv(i.yt,o.mutation)}})(this.serializer,this.userId,n))}}function gd(t){return Tn(t,H0)}class kQ{St(e){return Tn(e,HS)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?vn.fromUint8Array(r):vn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}class iu{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(jt(e.integerValue));else if("doubleValue"in e){const r=jt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),um(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ps(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Rs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?h5(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):K0(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Se(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Cf,a=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(jt(a)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),be.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}iu.Wt=new iu;const Uc=255;function jQ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function kN(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const o=jQ(255&r[a]);if(i+=o,o!==8)break}return i})(t);return Math.ceil(e/8)}class VQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=kN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=kN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Uc),this.sn(255)}_n(){this.an(Uc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Uc?(this.sn(Uc),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Uc?(this.an(Uc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LQ{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class zQ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class yd{constructor(){this.cn=new VQ,this.ascending=new LQ(this.cn),this.descending=new zQ(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class au{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new au(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:Gy(this.Tn),directionalValue:Gy(this.In),orderedDocumentKey:Gy(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Oo(t,e){let n=t.hn-e.hn;return n!==0?n:(n=jN(t.Tn,e.Tn),n!==0?n:(n=jN(t.In,e.In),n!==0?n:be.comparator(t.Pn,e.Pn)))}function jN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Gy(t){return K4()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function VN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class LN{constructor(e){this.Vn=new vt(((n,r)=>qt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Pe(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=SE(e);if(n!==void 0&&!this.pn(n))return!1;const r=Yl(e);let i=new Set,a=0,o=0;for(;a<r.length&&this.pn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Vn.size>0){const u=this.Vn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const f=r[a];if(!this.yn(u,f)||!this.wn(this.dn[o++],f))return!1}++a}for(;a<r.length;++a){const u=r[a];if(o>=this.dn.length||!this.wn(this.dn[o++],u))return!1}return!0}bn(){if(this.fn)return null;let e=new vt(qt.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ly(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ly(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ly(r.field,r.dir==="asc"?0:1)));return new bv(bv.UNKNOWN_ID,this.collectionId,n,lm.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function n6(t){if(Pe(t instanceof Je||t instanceof yt,20012),t instanceof Je){if(t instanceof _5){const n=t.value.arrayValue?.values?.map((r=>Je.create(t.field,"==",r)))||[];return yt.create(n,"or")}return t}const e=t.filters.map((n=>n6(n)));return yt.create(e,t.op)}function UQ(t){if(t.getFilters().length===0)return[];const e=qE(n6(t));return Pe(r6(e),7391),BE(e)||FE(e)?[e]:e.getFilters()}function BE(t){return t instanceof Je}function FE(t){return t instanceof yt&&XS(t)}function r6(t){return BE(t)||FE(t)||(function(n){if(n instanceof yt&&NE(n)){for(const r of n.getFilters())if(!BE(r)&&!FE(r))return!1;return!0}return!1})(t)}function qE(t){if(Pe(t instanceof Je||t instanceof yt,34018),t instanceof Je)return t;if(t.filters.length===1)return qE(t.filters[0]);const e=t.filters.map((r=>qE(r)));let n=yt.create(e,t.op);return n=Pv(n),r6(n)?n:(Pe(n instanceof yt,64498),Pe(Of(n),40251),Pe(n.filters.length>1,57927),n.filters.reduce(((r,i)=>rA(r,i))))}function rA(t,e){let n;return Pe(t instanceof Je||t instanceof yt,38388),Pe(e instanceof Je||e instanceof yt,25473),n=t instanceof Je?e instanceof Je?(function(i,a){return yt.create([i,a],"and")})(t,e):zN(t,e):e instanceof Je?zN(e,t):(function(i,a){if(Pe(i.filters.length>0&&a.filters.length>0,48005),Of(i)&&Of(a))return v5(i,a.getFilters());const o=NE(i)?i:a,u=NE(i)?a:i,f=o.filters.map((h=>rA(h,u)));return yt.create(f,"or")})(t,e),Pv(n)}function zN(t,e){if(Of(e))return v5(e,t.getFilters());{const n=e.filters.map((r=>rA(t,r)));return yt.create(n,"or")}}function Pv(t){if(Pe(t instanceof Je||t instanceof yt,11850),t instanceof Je)return t;const e=t.getFilters();if(e.length===1)return Pv(e[0]);if(g5(t))return t;const n=e.map((i=>Pv(i))),r=[];return n.forEach((i=>{i instanceof Je?r.push(i):i instanceof yt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:yt.create(r,t.op)}class BQ{constructor(){this.Sn=new iA}addToCollectionParentIndex(e,n){return this.Sn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Jr.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class iA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(ct.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(ct.comparator)).toArray()}}const UN="IndexedDbIndexManager",ay=new Uint8Array(0);class FQ{constructor(e,n){this.databaseId=n,this.Dn=new iA,this.Cn=new Fs((r=>Ou(r)),((r,i)=>Zm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const a={collectionId:r,parent:cr(i)};return BN(e).put(a)}return X.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[F3(n),""],!1,!0);return BN(e).H(i).next((a=>{for(const o of a){if(o.collectionId!==n)break;r.push(Pa(o.parent))}return r}))}addFieldIndex(e,n){const r=vd(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const o=Fc(e);return a.next((u=>{o.put(NN(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=vd(e),i=Fc(e),a=Bc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=vd(e),r=Bc(e),i=Fc(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return X.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new LN(r).bn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=Bc(e);let i=!0;const a=new Map;return X.forEach(this.vn(n),(o=>this.Fn(e,o).next((u=>{i&&(i=!!u),a.set(o,u)})))).next((()=>{if(i){let o=Ke();const u=[];return X.forEach(a,((f,h)=>{me(UN,`Using index ${(function(N){return`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map((M=>`${M.fieldPath}:${M.kind}`)).join(",")}`})(f)} to execute ${Ou(n)}`);const d=(function(N,M){const V=SE(M);if(V===void 0)return null;for(const L of Sv(N,V.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null})(h,f),p=(function(N,M){const V=new Map;for(const L of Yl(M))for(const R of Sv(N,L.fieldPath))switch(R.op){case"==":case"in":V.set(L.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return V.set(L.fieldPath.canonicalString(),R.value),Array.from(V.values())}return null})(h,f),y=(function(N,M){const V=[];let L=!0;for(const R of Yl(M)){const O=R.kind===0?vN(N,R.fieldPath,N.startAt):bN(N,R.fieldPath,N.startAt);V.push(O.value),L&&(L=O.inclusive)}return new Rf(V,L)})(h,f),b=(function(N,M){const V=[];let L=!0;for(const R of Yl(M)){const O=R.kind===0?bN(N,R.fieldPath,N.endAt):vN(N,R.fieldPath,N.endAt);V.push(O.value),L&&(L=O.inclusive)}return new Rf(V,L)})(h,f),w=this.Mn(f,h,y),S=this.Mn(f,h,b),E=this.xn(f,h,p),C=this.On(f.indexId,d,w,y.inclusive,S,b.inclusive,E);return X.forEach(C,(D=>r.Z(D,n.limit).next((N=>{N.forEach((M=>{const V=be.fromSegments(M.documentKey);o.has(V)||(o=o.add(V),u.push(V))}))}))))})).next((()=>u))}return X.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=UQ(yt.create(e.filters,"and")).map((r=>ME(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,a,o,u){const f=(n!=null?n.length:1)*Math.max(r.length,a.length),h=f/(n!=null?n.length:1),d=[];for(let p=0;p<f;++p){const y=n?this.Nn(n[p/h]):ay,b=this.Bn(e,y,r[p%h],i),w=this.Ln(e,y,a[p%h],o),S=u.map((E=>this.Bn(e,y,E,!0)));d.push(...this.createRange(b,w,S))}return d}Bn(e,n,r,i){const a=new au(e,be.empty(),n,r);return i?a:a.En()}Ln(e,n,r,i){const a=new au(e,be.empty(),n,r);return i?a.En():a}Fn(e,n){const r=new LN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let o=null;for(const u of a)r.gn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const i=this.vn(n);return X.forEach(i,(a=>this.Fn(e,a).next((o=>{o?r!==0&&o.fields.length<(function(f){let h=new vt(qt.comparator),d=!1;for(const p of f.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?d=!0:h=h.add(y.field));for(const p of f.orderBy)p.field.isKeyField()||(h=h.add(p.field));return h.size+(d?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(o){return o.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new yd;for(const i of Yl(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const o=r.ln(i.kind);iu.Wt.Dt(a,o)}return r.un()}Nn(e){const n=new yd;return iu.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new yd;return iu.Wt.Dt(pm(this.databaseId,n),r.ln((function(a){const o=Yl(a);return o.length===0?0:o[o.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new yd);let a=0;for(const o of Yl(e)){const u=r[a++];for(const f of i)if(this.qn(n,o.fieldPath)&&gm(u))i=this.Un(i,o,u);else{const h=f.ln(o.kind);iu.Wt.Dt(u,h)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],a=[];for(const o of r.arrayValue.values||[])for(const u of i){const f=new yd;f.seed(u.un()),iu.Wt.Dt(o,f.ln(n.kind)),a.push(f)}return a}qn(e,n){return!!e.filters.find((r=>r instanceof Je&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=vd(e),i=Fc(e);return(n?r.H(IE,IDBKeyRange.bound(n,n)):r.H()).next((a=>{const o=[];return X.forEach(a,(u=>i.get([u.indexId,this.uid]).next((f=>{o.push((function(d,p){const y=p?new lm(p.sequenceNumber,new Jr(Du(p.readTime),new be(Pa(p.documentKey)),p.largestBatchId)):lm.empty(),b=d.fields.map((([w,S])=>new Ly(qt.fromServerFormat(w),S)));return new bv(d.indexId,d.collectionGroup,b,y)})(u,f))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:ze(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=vd(e),a=Fc(e);return this.Wn(e).next((o=>i.H(IE,IDBKeyRange.bound(n,n)).next((u=>X.forEach(u,(f=>a.put(NN(f.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return X.forEach(n,((i,a)=>{const o=r.get(i.collectionGroup);return(o?X.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),X.forEach(u,(f=>this.Qn(e,i,f).next((h=>{const d=this.Gn(a,f);return h.isEqual(d)?X.resolve():this.zn(e,a,f,h,d)})))))))}))}jn(e,n,r,i){return Bc(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return Bc(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=Bc(e);let a=new vt(Oo);return i.ee({index:J3,range:IDBKeyRange.only([r.indexId,this.uid,Gy(this.Kn(r,n))])},((o,u)=>{a=a.add(new au(r.indexId,n,VN(u.arrayValue),VN(u.directionalValue)))})).next((()=>a))}Gn(e,n){let r=new vt(Oo);const i=this.kn(n,e);if(i==null)return r;const a=SE(n);if(a!=null){const o=e.data.field(a.fieldPath);if(gm(o))for(const u of o.arrayValue.values||[])r=r.add(new au(n.indexId,e.key,this.Nn(u),i))}else r=r.add(new au(n.indexId,e.key,ay,i));return r}zn(e,n,r,i,a){me(UN,"Updating index entries for document '%s'",n.key);const o=[];return(function(f,h,d,p,y){const b=f.getIterator(),w=h.getIterator();let S=zc(b),E=zc(w);for(;S||E;){let C=!1,D=!1;if(S&&E){const N=d(S,E);N<0?D=!0:N>0&&(C=!0)}else S!=null?D=!0:C=!0;C?(p(E),E=zc(w)):D?(y(S),S=zc(b)):(S=zc(b),E=zc(w))}})(i,a,Oo,(u=>{o.push(this.jn(e,n,r,u))}),(u=>{o.push(this.Hn(e,n,r,u))})),X.waitFor(o)}Wn(e){let n=1;return Fc(e).ee({index:Z3,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>Oo(o,u))).filter(((o,u,f)=>!u||Oo(o,f[u-1])!==0));const i=[];i.push(e);for(const o of r){const u=Oo(o,e),f=Oo(o,n);if(u===0)i[0]=e.En();else if(u>0&&f<0)i.push(o),i.push(o.En());else if(f>0)break}i.push(n);const a=[];for(let o=0;o<i.length;o+=2){if(this.Jn(i[o],i[o+1]))return[];const u=i[o].An(this.uid,ay,be.empty()),f=i[o+1].An(this.uid,ay,be.empty());a.push(IDBKeyRange.bound(u,f))}return a}Jn(e,n){return Oo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(FN)}getMinOffset(e,n){return X.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||Se(44426))))).next(FN)}}function BN(t){return Tn(t,hm)}function Bc(t){return Tn(t,Wd)}function vd(t){return Tn(t,$S)}function Fc(t){return Tn(t,Kd)}function FN(t){Pe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;BS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jr(e.readTime,e.documentKey,n)}const qN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i6=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function a6(t,e,n){const r=t.store(Hi),i=t.store(Tf),a=[],o=IDBKeyRange.only(n.batchId);let u=0;const f=r.ee({range:o},((d,p,y)=>(u++,y.delete())));a.push(f.next((()=>{Pe(u===1,47070,{batchId:n.batchId})})));const h=[];for(const d of n.mutations){const p=Y3(e,d.key.path,n.batchId);a.push(i.delete(p)),h.push(d.key)}return X.waitFor(a).next((()=>h))}function Rv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se(14731);e=t.noDocument}return JSON.stringify(e).length}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(i6,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class eb{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){Pe(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new eb(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(e).ee({index:lu,range:r},((i,a,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=Zc(e),o=No(e);return o.add({}).next((u=>{Pe(typeof u=="number",49019);const f=new ZS(u,n,r,i),h=(function(b,w,S){const E=S.baseMutations.map((D=>Iv(b.yt,D))),C=S.mutations.map((D=>Iv(b.yt,D)));return{userId:w,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:E,mutations:C}})(this.serializer,this.userId,f),d=[];let p=new vt(((y,b)=>ze(y.canonicalString(),b.canonicalString())));for(const y of i){const b=Y3(this.userId,y.key.path,u);p=p.add(y.key.path.popLast()),d.push(o.put(h)),d.push(a.put(b,pX))}return p.forEach((y=>{d.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Zn[u]=f.keys()})),X.waitFor(d).next((()=>f))}))}lookupMutationBatch(e,n){return No(e).get(n).next((r=>r?(Pe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ru(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?X.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return No(e).ee({index:lu,range:i},((o,u,f)=>{u.userId===this.userId&&(Pe(u.batchId>=r,47524,{Yn:r}),a=ru(this.serializer,u)),f.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=pu;return No(e).ee({index:lu,range:n,reverse:!0},((i,a,o)=>{r=a.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,pu],[this.userId,Number.POSITIVE_INFINITY]);return No(e).H(lu,n).next((r=>r.map((i=>ru(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=zy(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Zc(e).ee({range:i},((o,u,f)=>{const[h,d,p]=o,y=Pa(d);if(h===this.userId&&n.path.isEqual(y))return No(e).get(p).next((b=>{if(!b)throw Se(61480,{er:o,batchId:p});Pe(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:p}),a.push(ru(this.serializer,b))}));f.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(ze);const i=[];return n.forEach((a=>{const o=zy(this.userId,a.path),u=IDBKeyRange.lowerBound(o),f=Zc(e).ee({range:u},((h,d,p)=>{const[y,b,w]=h,S=Pa(b);y===this.userId&&a.path.isEqual(S)?r=r.add(w):p.done()}));i.push(f)})),X.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=zy(this.userId,r),o=IDBKeyRange.lowerBound(a);let u=new vt(ze);return Zc(e).ee({range:o},((f,h,d)=>{const[p,y,b]=f,w=Pa(y);p===this.userId&&r.isPrefixOf(w)?w.length===i&&(u=u.add(b)):d.done()})).next((()=>this.tr(e,u)))}tr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(No(e).get(a).next((o=>{if(o===null)throw Se(35274,{batchId:a});Pe(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:a}),r.push(ru(this.serializer,o))})))})),X.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return a6(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),X.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return X.resolve();const r=IDBKeyRange.lowerBound((function(o){return[o]})(this.userId)),i=[];return Zc(e).ee({range:r},((a,o,u)=>{if(a[0]===this.userId){const f=Pa(a[1]);i.push(f)}else u.done()})).next((()=>{Pe(i.length===0,56720,{rr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return s6(e,this.userId,n)}ir(e){return o6(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:pu,lastStreamToken:""}))}}function s6(t,e,n){const r=zy(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let o=!1;return Zc(t).ee({range:a,Y:!0},((u,f,h)=>{const[d,p,y]=u;d===e&&p===i&&(o=!0),h.done()})).next((()=>o))}function No(t){return Tn(t,Hi)}function Zc(t){return Tn(t,Tf)}function o6(t){return Tn(t,cm)}class Mu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mu(0)}static ar(){return new Mu(-1)}}class qQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new Mu(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>Ne.fromTimestamp(new gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>qc(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(Pe(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return qc(e).ee(((o,u)=>{const f=Vd(u);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,a.push(this.removeTargetData(e,f)))})).next((()=>X.waitFor(a))).next((()=>i))}forEachTarget(e,n){return qc(e).ee(((r,i)=>{const a=Vd(i);n(a)}))}ur(e){return $N(e).get(wv).next((n=>(Pe(n!==null,2888),n)))}cr(e,n){return $N(e).put(wv,n)}lr(e,n){return qc(e).put(e6(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Ou(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return qc(e).ee({range:i,index:Q3},((o,u,f)=>{const h=Vd(u);Zm(n,h.target)&&(a=h,f.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=Uo(e);return n.forEach((o=>{const u=cr(o.path);i.push(a.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,o))})),X.waitFor(i)}removeMatchingKeys(e,n,r){const i=Uo(e);return X.forEach(n,(a=>{const o=cr(a.path);return X.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=Uo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Uo(e);let a=Ke();return i.ee({range:r,Y:!0},((o,u,f)=>{const h=Pa(o[1]),d=new be(h);a=a.add(d)})).next((()=>a))}containsKey(e,n){const r=cr(n.path),i=IDBKeyRange.bound([r],[F3(r)],!1,!0);let a=0;return Uo(e).ee({index:qS,Y:!0,range:i},(([o,u],f,h)=>{o!==0&&(a++,h.done())})).next((()=>a>0))}At(e,n){return qc(e).get(n).next((r=>r?Vd(r):null))}}function qc(t){return Tn(t,Sf)}function $N(t){return Tn(t,gu)}function Uo(t){return Tn(t,Af)}const HN="LruGarbageCollector",$Q=1048576;function GN([t,e],[n,r]){const i=ze(t,n);return i===0?ze(e,r):i}class HQ{constructor(e){this.Pr=e,this.buffer=new vt(GN),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class l6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(HN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?me(HN,"Ignoring IndexedDB error during garbage collection: ",n):await $u(n)}await this.Ar(3e5)}))}}class GQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(bi.ce);const r=new HQ(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(qN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qN):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,o,u,f,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),Wc()<=Ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(h-f)+`ms
Total Duration: ${h-d}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function u6(t,e){return new GQ(t,e)}class KQ{constructor(e,n){this.db=e,this.garbageCollector=u6(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return sy(e,r)}removeReference(e,n,r){return sy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return sy(e,n)}wr(e,n){return(function(i,a){let o=!1;return o6(i).te((u=>s6(i,u,a).next((f=>(f&&(o=!0),X.resolve(!f)))))).next((()=>o))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.yr(e,((o,u)=>{if(u<=n){const f=this.wr(e,o).next((h=>{if(!h)return a++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Ne.min()),Uo(e).delete((function(p){return[0,cr(p.path)]})(o)))))}));i.push(f)}})).next((()=>X.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return sy(e,n)}yr(e,n){const r=Uo(e);let i,a=bi.ce;return r.ee({index:qS},(([o,u],{path:f,sequenceNumber:h})=>{o===0?(a!==bi.ce&&n(new be(Pa(i)),a),a=h,i=f):a=bi.ce})).next((()=>{a!==bi.ce&&n(new be(Pa(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sy(t,e){return Uo(t).put((function(r,i){return{targetId:0,path:cr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class c6{constructor(){this.changes=new Fs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Hl(e).put(r)}removeEntry(e,n,r){return Hl(e).delete((function(a,o){const u=a.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Cv(o),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=Qt.newInvalidDocument(n);return Hl(e).ee({index:Uy,range:IDBKeyRange.only(bd(n))},((i,a)=>{r=this.Sr(n,a)})).next((()=>r))}Dr(e,n){let r={size:0,document:Qt.newInvalidDocument(n)};return Hl(e).ee({index:Uy,range:IDBKeyRange.only(bd(n))},((i,a)=>{r={document:this.Sr(n,a),size:Rv(a)}})).next((()=>r))}getEntries(e,n){let r=Yr();return this.Cr(e,n,((i,a)=>{const o=this.Sr(i,a);r=r.insert(i,o)})).next((()=>r))}vr(e,n){let r=Yr(),i=new zt(be.comparator);return this.Cr(e,n,((a,o)=>{const u=this.Sr(a,o);r=r.insert(a,u),i=i.insert(a,Rv(o))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return X.resolve();let i=new vt(YN);n.forEach((f=>i=i.add(f)));const a=IDBKeyRange.bound(bd(i.first()),bd(i.last())),o=i.getIterator();let u=o.getNext();return Hl(e).ee({index:Uy,range:a},((f,h,d)=>{const p=be.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&YN(u,p)<0;)r(u,null),u=o.getNext();u&&u.isEqual(p)&&(r(u,h),u=o.hasNext()?o.getNext():null),u?d.j(bd(u)):d.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),Cv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hl(e).H(IDBKeyRange.bound(u,f,!0)).next((h=>{a?.incrementDocumentReadCount(h.length);let d=Yr();for(const p of h){const y=this.Sr(be.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(ep(n,y)||i.has(y.key))&&(d=d.insert(y.key,y))}return d}))}getAllFromCollectionGroup(e,n,r,i){let a=Yr();const o=WN(n,r),u=WN(n,Jr.max());return Hl(e).ee({index:X3,range:IDBKeyRange.bound(o,u,!0)},((f,h,d)=>{const p=this.Sr(be.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);a=a.insert(p.key,p),a.size===i&&d.done()})).next((()=>a))}newChangeBuffer(e){return new YQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return KN(e).get(AE).next((n=>(Pe(!!n,20021),n)))}br(e,n){return KN(e).put(AE,n)}Sr(e,n){if(n){const r=DQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Qt.newInvalidDocument(e)}}function f6(t){return new WQ(t)}class YQ extends c6{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Fs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new vt(((a,o)=>ze(a.canonicalString(),o.canonicalString())));return this.changes.forEach(((a,o)=>{const u=this.Or.get(a);if(n.push(this.Mr.removeEntry(e,a,u.readTime)),o.isValidDocument()){const f=RN(this.Mr.serializer,o);i=i.add(a.path.popLast());const h=Rv(f);r+=h-u.size,n.push(this.Mr.addEntry(e,a,f))}else if(r-=u.size,this.trackRemovals){const f=RN(this.Mr.serializer,o.convertToNoDocument(Ne.min()));n.push(this.Mr.addEntry(e,a,f))}})),i.forEach((a=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Mr.updateMetadata(e,r)),X.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((a,o)=>{this.Or.set(a,{size:o,readTime:r.get(a).readTime})})),r)))}}function KN(t){return Tn(t,fm)}function Hl(t){return Tn(t,_v)}function bd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WN(t,e){const n=e.documentKey.path.toArray();return[t,Cv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function YN(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=ze(n[a],r[a]),i)return i;return i=ze(n.length,r.length),i||(i=ze(n[n.length-2],r[r.length-2]),i||ze(n[n.length-1],r[r.length-1]))}class XQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class h6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Zd(r.mutation,i,Rr.empty(),gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const i=Ra();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=kd();return a.forEach(((u,f)=>{o=o.insert(u,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ra();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,i){let a=Yr();const o=Qd(),u=(function(){return Qd()})();return n.forEach(((f,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof qs)?a=a.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Zd(d.mutation,h,d.mutation.getFieldMask(),gt.now())):o.set(h.key,Rr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,d)=>o.set(h,d))),n.forEach(((h,d)=>u.set(h,new XQ(d,o.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Qd();let i=new zt(((o,u)=>o-u)),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let d=r.get(f)||Rr.empty();d=u.applyToLocalView(h,d),r.set(f,d);const p=(i.get(u.batchId)||Ke()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,d=f.value,p=I5();d.forEach((y=>{if(!a.has(y)){const b=k5(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return X.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return JX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):X.resolve(Ra());let u=om,f=a;return o.next((h=>X.forEach(h,((d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{f=f.insert(d,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,Ke()))).next((d=>({batchId:u,changes:A5(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let i=kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=kd();return this.indexManager.getCollectionParents(e,a).next((u=>X.forEach(u,(f=>{const h=(function(p,y){return new Qf(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((d=>{d.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((f,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,Qt.newInvalidDocument(d)))}));let u=kd();return o.forEach(((f,h)=>{const d=a.get(f);d!==void 0&&Zd(d.mutation,h,Rr.empty(),gt.now()),ep(n,h)&&(u=u.insert(f,h))})),u}))}}class QQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:t6(i.bundledQuery),readTime:xr(i.readTime)}})(n)),X.resolve()}}class ZQ{constructor(){this.overlays=new zt(be.comparator),this.Lr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ra();return X.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Ra(),a=n.length+1,o=new be(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new zt(((h,d)=>h-d));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=a.get(h.largestBatchId);d===null&&(d=Ra(),a=a.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const u=Ra(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,d)=>u.set(h,d))),!(u.size()>=i)););return X.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eA(n,r));let a=this.Lr.get(n);a===void 0&&(a=Ke(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}class JQ{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}class aA{constructor(){this.kr=new vt(Mn.Kr),this.qr=new vt(Mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Mn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Mn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new be(new ct([])),r=new Mn(n,e),i=new Mn(n,e+1),a=[];return this.qr.forEachInRange([r,i],(o=>{this.Wr(o),a.push(o.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new ct([])),r=new Mn(n,e),i=new Mn(n,e+1);let a=Ke();return this.qr.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new Mn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class eZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new vt(Mn.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZS(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Jr=this.Jr.add(new Mn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?pu:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mn(n,0),i=new Mn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(o=>{const u=this.Zr(o.Hr);a.push(u)})),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(ze);return n.forEach((i=>{const a=new Mn(i,0),o=new Mn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,o],(u=>{r=r.add(u.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const o=new Mn(new be(a),0);let u=new vt(ze);return this.Jr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Hr)),!0)}),o),X.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Pe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(n.mutations,(i=>{const a=new Mn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Mn(n,0),i=this.Jr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tZ{constructor(e){this.ti=e,this.docs=(function(){return new zt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Qt.newInvalidDocument(i))})),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Yr();const o=n.path,u=new be(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:d}}=f.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||BS(H3(d),r)<=0||(i.has(d.key)||ep(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Se(9500)}ni(e,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new nZ(this)}getSize(e){return X.resolve(this.size)}}class nZ extends c6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),X.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class rZ{constructor(e){this.persistence=e,this.ri=new Fs((n=>Ou(n)),Zm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new aA,this.targetCount=0,this.oi=Mu._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),X.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.lr(n),X.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),X.waitFor(a).next((()=>i))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),X.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.si.containsKey(n))}}class sA{constructor(e,n){this._i={},this.overlays={},this.ai=new bi(0),this.ui=!1,this.ui=!0,this.ci=new JQ,this.referenceDelegate=e(this),this.li=new rZ(this),this.indexManager=new BQ,this.remoteDocumentCache=(function(i){return new tZ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new J5(n),this.Pi=new QQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new eZ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new iZ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class iZ extends K3{constructor(e){super(),this.currentSequenceNumber=e}}class tb{constructor(e){this.persistence=e,this.Ri=new aA,this.Ai=null}static Vi(e){return new tb(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const i=be.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ov{constructor(e,n){this.persistence=e,this.fi=new Fs((r=>cr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=u6(this,n)}static Vi(e,n){return new Ov(e,n)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return X.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?X.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(o=>this.wr(e,o,n).next((u=>{u||(r++,a.removeEntry(o,Ne.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),X.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fy(e.data.value)),n}wr(e,n,r){return X.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class aZ{constructor(e){this.serializer=e}k(e,n,r,i){const a=new B0("createOrUpgrade",n);r<1&&i>=1&&((function(f){f.createObjectStore(Qm)})(e),(function(f){f.createObjectStore(cm,{keyPath:mX}),f.createObjectStore(Hi,{keyPath:sN,autoIncrement:!0}).createIndex(lu,oN,{unique:!0}),f.createObjectStore(Tf)})(e),XN(e),(function(f){f.createObjectStore(Xl)})(e));let o=X.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(Af),f.deleteObjectStore(Sf),f.deleteObjectStore(gu)})(e),XN(e)),o=o.next((()=>(function(f){const h=f.store(gu),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return h.put(wv,d)})(a)))),r<4&&i>=4&&(r!==0&&(o=o.next((()=>(function(f,h){return h.store(Hi).H().next((p=>{f.deleteObjectStore(Hi),f.createObjectStore(Hi,{keyPath:sN,autoIncrement:!0}).createIndex(lu,oN,{unique:!0});const y=h.store(Hi),b=p.map((w=>y.put(w)));return X.waitFor(b)}))})(e,a)))),o=o.next((()=>{(function(f){f.createObjectStore(If,{keyPath:EX})})(e)}))),r<5&&i>=5&&(o=o.next((()=>this.gi(a)))),r<6&&i>=6&&(o=o.next((()=>((function(f){f.createObjectStore(fm)})(e),this.pi(a))))),r<7&&i>=7&&(o=o.next((()=>this.yi(a)))),r<8&&i>=8&&(o=o.next((()=>this.wi(e,a)))),r<9&&i>=9&&(o=o.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(o=o.next((()=>this.bi(a)))),r<11&&i>=11&&(o=o.next((()=>{(function(f){f.createObjectStore(q0,{keyPath:TX})})(e),(function(f){f.createObjectStore($0,{keyPath:SX})})(e)}))),r<12&&i>=12&&(o=o.next((()=>{(function(f){const h=f.createObjectStore(H0,{keyPath:NX});h.createIndex(CE,DX,{unique:!1}),h.createIndex(e5,MX,{unique:!1})})(e)}))),r<13&&i>=13&&(o=o.next((()=>(function(f){const h=f.createObjectStore(_v,{keyPath:gX});h.createIndex(Uy,yX),h.createIndex(X3,vX)})(e))).next((()=>this.Si(e,a))).next((()=>e.deleteObjectStore(Xl)))),r<14&&i>=14&&(o=o.next((()=>this.Di(e,a)))),r<15&&i>=15&&(o=o.next((()=>(function(f){f.createObjectStore($S,{keyPath:AX,autoIncrement:!0}).createIndex(IE,IX,{unique:!1}),f.createObjectStore(Kd,{keyPath:CX}).createIndex(Z3,PX,{unique:!1}),f.createObjectStore(Wd,{keyPath:RX}).createIndex(J3,OX,{unique:!1})})(e)))),r<16&&i>=16&&(o=o.next((()=>{n.objectStore(Kd).clear()})).next((()=>{n.objectStore(Wd).clear()}))),r<17&&i>=17&&(o=o.next((()=>{(function(f){f.createObjectStore(HS,{keyPath:kX})})(e)}))),r<18&&i>=18&&K4()&&(o=o.next((()=>{n.objectStore(Kd).clear()})).next((()=>{n.objectStore(Wd).clear()}))),o}pi(e){let n=0;return e.store(Xl).ee(((r,i)=>{n+=Rv(i)})).next((()=>{const r={byteSize:n};return e.store(fm).put(AE,r)}))}gi(e){const n=e.store(cm),r=e.store(Hi);return n.H().next((i=>X.forEach(i,(a=>{const o=IDBKeyRange.bound([a.userId,pu],[a.userId,a.lastAcknowledgedBatchId]);return r.H(lu,o).next((u=>X.forEach(u,(f=>{Pe(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const h=ru(this.serializer,f);return a6(e,a.userId,h).next((()=>{}))}))))}))))}yi(e){const n=e.store(Af),r=e.store(Xl);return e.store(gu).get(wv).next((i=>{const a=[];return r.ee(((o,u)=>{const f=new ct(o),h=(function(p){return[0,cr(p)]})(f);a.push(n.get(h).next((d=>d?X.resolve():(p=>n.put({targetId:0,path:cr(p),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>X.waitFor(a)))}))}wi(e,n){e.createObjectStore(hm,{keyPath:wX});const r=n.store(hm),i=new iA,a=o=>{if(i.add(o)){const u=o.lastSegment(),f=o.popLast();return r.put({collectionId:u,parent:cr(f)})}};return n.store(Xl).ee({Y:!0},((o,u)=>{const f=new ct(o);return a(f.popLast())})).next((()=>n.store(Tf).ee({Y:!0},(([o,u,f],h)=>{const d=Pa(u);return a(d.popLast())}))))}bi(e){const n=e.store(Sf);return n.ee(((r,i)=>{const a=Vd(i),o=e6(this.serializer,a);return n.put(o)}))}Si(e,n){const r=n.store(Xl),i=[];return r.ee(((a,o)=>{const u=n.store(_v),f=(function(p){return p.document?new be(ct.fromString(p.document.name).popFirst(5)):p.noDocument?be.fromSegments(p.noDocument.path):p.unknownDocument?be.fromSegments(p.unknownDocument.path):Se(36783)})(o).path.toArray(),h={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(u.put(h))})).next((()=>X.waitFor(i)))}Di(e,n){const r=n.store(Hi),i=f6(this.serializer),a=new sA(tb.Vi,this.serializer.yt);return r.H().next((o=>{const u=new Map;return o.forEach((f=>{let h=u.get(f.userId)??Ke();ru(this.serializer,f).keys().forEach((d=>h=h.add(d))),u.set(f.userId,h)})),X.forEach(u,((f,h)=>{const d=new Qn(h),p=J0.wt(this.serializer,d),y=a.getIndexManager(d),b=eb.wt(d,this.serializer,y,a.referenceDelegate);return new h6(i,b,p,y).recalculateAndSaveOverlaysForDocumentKeys(new PE(n,bi.ce),f).next()}))}))}}function XN(t){t.createObjectStore(Af,{keyPath:xX}).createIndex(qS,_X,{unique:!0}),t.createObjectStore(Sf,{keyPath:"targetId"}).createIndex(Q3,bX,{unique:!0}),t.createObjectStore(gu)}const Do="IndexedDbPersistence",hw=18e5,dw=5e3,mw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sZ="main";class oA{constructor(e,n,r,i,a,o,u,f,h,d,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=a,this.window=o,this.document=u,this.Fi=h,this.Mi=d,this.xi=p,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=y=>Promise.resolve(),!oA.v())throw new ve(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KQ(this,i),this.Ki=n+sZ,this.serializer=new J5(f),this.qi=new Xo(this.Ki,this.xi,new aZ(this.serializer)),this.ci=new kQ,this.li=new qQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=f6(this.serializer),this.Pi=new MQ,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&pr(Do,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ve(le.FAILED_PRECONDITION,mw);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new bi(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>oy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(fl(e))return me(Do,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me(Do,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return xd(e).get(Lc).next((n=>X.resolve(this.Xi(n))))}Yi(e){return oy(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,hw)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Tn(n,If);return r.H().next((i=>{const a=this.ns(i,hw),o=i.filter((u=>a.indexOf(u)===-1));return X.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?X.resolve(!0):xd(e).get(Lc).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,dw)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new ve(le.FAILED_PRECONDITION,mw);return!1}}return!(!this.networkEnabled||!this.inForeground)||oy(e).H().next((r=>this.ns(r,dw).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(a||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&me(Do,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Qm,If],(e=>{const n=new PE(e,bi.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>oy(e).H().next((n=>this.ns(n,hw).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return eb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FQ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return J0.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){me(Do,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(f){return f===18?LX:f===17?i5:f===16?VX:f===15?GS:f===14?r5:f===13?n5:f===12?jX:f===11?t5:void Se(60245)})(this.xi);let o;return this.qi.runTransaction(e,i,a,(u=>(o=new PE(u,this.ai?this.ai.next():bi.ce),n==="readwrite-primary"?this.ji(o).next((f=>!!f||this.Hi(o))).next((f=>{if(!f)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ve(le.FAILED_PRECONDITION,G3);return r(o)})).next((f=>this.Zi(o).next((()=>f)))):this.Ps(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Ps(e){return xd(e).get(Lc).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,dw)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ve(le.FAILED_PRECONDITION,mw)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xd(e).put(Lc,n)}static v(){return Xo.v()}Ji(e){const n=xd(e);return n.get(Lc).next((r=>this.Xi(r)?(me(Do,"Releasing primary lease."),n.delete(Lc)):X.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(pr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;G4()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return me(Do,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return pr(Do,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xd(t){return Tn(t,Qm)}function oy(t){return Tn(t,If)}function oZ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class lA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Ke(),i=Ke();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lA(e,n.fromCache,r,i)}}class lZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class d6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return G4()?8:W3(En())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new lZ;return this.ys(e,n,o).next((u=>{if(a.result=u,this.As)return this.ws(e,n,o,u.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Wc()<=Ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Yc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Wc()<=Ze.DEBUG&&me("QueryEngine","Query:",Yc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Wc()<=Ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Yc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):X.resolve())}gs(e,n){if(xN(n))return X.resolve(null);let r=Ei(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=jE(n,null,"F"),r=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Ke(...a);return this.fs.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.bs(n,u);return this.Ss(n,h,o,f.readTime)?this.gs(e,jE(n,null,"F")):this.Ds(e,h,n,f)}))))})))))}ps(e,n,r,i){return xN(n)||i.isEqual(Ne.min())?X.resolve(null):this.fs.getDocuments(e,r).next((a=>{const o=this.bs(n,a);return this.Ss(n,o,r,i)?X.resolve(null):(Wc()<=Ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yc(n)),this.Ds(e,o,n,oX(i,om)).next((u=>u)))}))}bs(e,n){let r=new vt(T5(e));return n.forEach(((i,a)=>{ep(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Wc()<=Ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Yc(n)),this.fs.getDocumentsMatchingQuery(e,n,Jr.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}const uA="LocalStore",uZ=3e8;class cZ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new zt(ze),this.Fs=new Fs((a=>Ou(a)),Zm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function m6(t,e,n,r){return new cZ(t,e,n,r)}async function p6(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],u=[];let f=Ke();for(const h of i){o.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}for(const h of a){u.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ns:h,removedBatchIds:o,addedBatchIds:u})))}))}))}function fZ(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,d){const p=h.batch,y=p.keys();let b=X.resolve();return y.forEach((w=>{b=b.next((()=>d.getEntry(f,w))).next((S=>{const E=h.docVersions.get(w);Pe(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),d.addEntry(S)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Ke();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function g6(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function hZ(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((d,p)=>{const y=i.get(p);if(!y)return;u.push(n.li.removeMatchingKeys(a,d.removedDocuments,p).next((()=>n.li.addMatchingKeys(a,d.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(vn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,r)),i=i.insert(p,b),(function(S,E,C){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=uZ?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,b,d)&&u.push(n.li.updateTargetData(a,b))}));let f=Yr(),h=Ke();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))})),u.push(dZ(a,o,e.documentUpdates).next((d=>{f=d.Bs,h=d.Ls}))),!r.isEqual(Ne.min())){const d=n.li.getLastRemoteSnapshotVersion(a).next((p=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(d)}return X.waitFor(u).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.vs=i,a)))}function dZ(t,e,n){let r=Ke(),i=Ke();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Yr();return n.forEach(((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):me(uA,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{Bs:o,Ls:i}}))}function mZ(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pZ(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,X.resolve(i)):n.li.allocateTargetId(r).next((o=>(i=new vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function $E(t,e,n){const r=Ue(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!fl(o))throw o;me(uA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function QN(t,e,n){const r=Ue(t);let i=Ne.min(),a=Ke();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,h,d){const p=Ue(f),y=p.Fs.get(d);return y!==void 0?X.resolve(p.vs.get(y)):p.li.getTargetData(h,d)})(r,o,Ei(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,u.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Ne.min(),n?a:Ke()))).next((u=>(gZ(r,nQ(e),u),{documents:u,ks:a})))))}function gZ(t,e,n){let r=t.Ms.get(e)||Ne.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class ZN{constructor(){this.activeTargetIds=lQ()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y6{constructor(){this.vo=new ZN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ZN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yZ{Mo(e){}shutdown(){}}const JN="ConnectivityMonitor";class eD{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(JN,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(JN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ly=null;function HE(){return ly===null?ly=(function(){return 268435456+Math.round(2147483648*Math.random())})():ly++,"0x"+ly.toString(16)}const pw="RestConnection",vZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bZ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Ev?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const o=HE(),u=this.Qo(e,n.toUriEncodedString());me(pw,`Sending RPC '${e}' ${o}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,a);const{host:h}=new URL(u),d=Kf(h);return this.zo(e,u,f,r,d).then((p=>(me(pw,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw el(pw,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,a,o){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=vZ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class xZ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rr="WebChannelConnection",_d=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class df extends bZ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!df.c_){const e=L3();_d(e,V3.STAT_EVENT,(n=>{n.stat===EE.PROXY?me(rr,"STAT_EVENT: detected buffering proxy"):n.stat===EE.NOPROXY&&me(rr,"STAT_EVENT: detected no buffering proxy")})),df.c_=!0}}zo(e,n,r,i,a){const o=HE();return new Promise(((u,f)=>{const h=new k3;h.setWithCredentials(!0),h.listenOnce(j3.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Vy.NO_ERROR:const p=h.getResponseJson();me(rr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case Vy.TIMEOUT:me(rr,`RPC '${e}' ${o} timed out`),f(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case Vy.HTTP_ERROR:const y=h.getStatus();if(me(rr,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const S=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(D)>=0?D:le.UNKNOWN})(w.status);f(new ve(S,w.message))}else f(new ve(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{me(rr,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);me(rr,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=HE(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=a.join("");me(rr,`Creating RPC '${e}' stream ${i}: ${h}`,u);const d=o.createWebChannel(h,u);this.I_(d);let p=!1,y=!1;const b=new xZ({Ho:w=>{y?me(rr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(me(rr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),me(rr,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},Jo:()=>d.close()});return _d(d,Md.EventType.OPEN,(()=>{y||(me(rr,`RPC '${e}' stream ${i} transport opened.`),b.i_())})),_d(d,Md.EventType.CLOSE,(()=>{y||(y=!0,me(rr,`RPC '${e}' stream ${i} transport closed`),b.o_(),this.E_(d))})),_d(d,Md.EventType.ERROR,(w=>{y||(y=!0,el(rr,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),b.o_(new ve(le.UNAVAILABLE,"The operation could not be completed")))})),_d(d,Md.EventType.MESSAGE,(w=>{if(!y){const S=w.data[0];Pe(!!S,16349);const E=S,C=E?.error||E[0]?.error;if(C){me(rr,`RPC '${e}' stream ${i} received error:`,C);const D=C.status;let N=(function(L){const R=dn[L];if(R!==void 0)return L5(R)})(D),M=C.message;D==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&el(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),N===void 0&&(N=le.INTERNAL,M="Unknown error status: "+D+" with message "+C.message),y=!0,b.o_(new ve(N,M)),d.close()}else me(rr,`RPC '${e}' stream ${i} received:`,S),b.__(S)}})),df.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return z3()}}function _Z(t){return new df(t)}function wZ(){return typeof window<"u"?window:null}function Ky(){return typeof document<"u"?document:null}function nb(t){return new EQ(t,!0)}df.c_=!1;class v6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tD="PersistentStream";class b6{constructor(e,n,r,i,a,o,u,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ve(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(tD,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(tD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EZ extends b6{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AQ(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ne.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?xr(o.readTime):Ne.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=zE(this.serializer),n.addTarget=(function(a,o){let u;const f=o.target;if(u=Tv(f)?{documents:G5(a,f)}:{query:K5(a,f).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=B5(a,o.resumeToken);const h=VE(a,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ne.min())>0){u.readTime=kf(a,o.snapshotVersion.toTimestamp());const h=VE(a,o.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=CQ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=zE(this.serializer),n.removeTarget=e,this.K_(n)}}class TZ extends b6{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=IQ(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zE(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Iv(this.serializer,r)))};this.K_(n)}}class SZ{}class AZ extends SZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Wo(e,LE(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(le.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.jo(e,LE(n,r),i,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function IZ(t,e,n,r){return new AZ(t,e,n,r)}class CZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ku="RemoteStore";class PZ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((o=>{r.enqueueAndForget((async()=>{Hu(this)&&(me(ku,"Restarting streams for network reachability change."),await(async function(f){const h=Ue(f);h.Ea.add(4),await np(h),h.Va.set("Unknown"),h.Ea.delete(4),await rb(h)})(this))}))})),this.Va=new CZ(r,i)}}async function rb(t){if(Hu(t))for(const e of t.Ra)await e(!0)}async function np(t){for(const e of t.Ra)await e(!1)}function x6(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dA(n)?hA(n):Jf(n).O_()&&fA(n,e))}function cA(t,e){const n=Ue(t),r=Jf(n);n.Ia.delete(e),r.O_()&&_6(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hu(n)&&n.Va.set("Unknown"))}function fA(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jf(t).Z_(e)}function _6(t,e){t.da.$e(e),Jf(t).X_(e)}function hA(t){t.da=new bQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jf(t).start(),t.Va.ua()}function dA(t){return Hu(t)&&!Jf(t).x_()&&t.Ia.size>0}function Hu(t){return Ue(t).Ea.size===0}function w6(t){t.da=void 0}async function RZ(t){t.Va.set("Online")}async function OZ(t){t.Ia.forEach(((e,n)=>{fA(t,e)}))}async function NZ(t,e){w6(t),dA(t)?(t.Va.ha(e),hA(t)):t.Va.set("Unknown")}async function DZ(t,e,n){if(t.Va.set("Online"),e instanceof U5&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){me(ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nv(t,r)}else if(e instanceof Hy?t.da.Xe(e):e instanceof z5?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const r=await g6(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const u=a.da.Tt(o);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const d=a.Ia.get(h);d&&a.Ia.set(h,d.withResumeToken(f.resumeToken,o))}})),u.targetMismatches.forEach(((f,h)=>{const d=a.Ia.get(f);if(!d)return;a.Ia.set(f,d.withResumeToken(vn.EMPTY_BYTE_STRING,d.snapshotVersion)),_6(a,f);const p=new vs(d.target,f,h,d.sequenceNumber);fA(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){me(ku,"Failed to raise snapshot:",r),await Nv(t,r)}}async function Nv(t,e,n){if(!fl(e))throw e;t.Ea.add(1),await np(t),t.Va.set("Offline"),n||(n=()=>g6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(ku,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rb(t)}))}function E6(t,e){return e().catch((n=>Nv(t,n,e)))}async function rp(t){const e=Ue(t),n=rl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pu;for(;MZ(e);)try{const i=await mZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,kZ(e,i)}catch(i){await Nv(e,i)}T6(e)&&S6(e)}function MZ(t){return Hu(t)&&t.Ta.length<10}function kZ(t,e){t.Ta.push(e);const n=rl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function T6(t){return Hu(t)&&!rl(t).x_()&&t.Ta.length>0}function S6(t){rl(t).start()}async function jZ(t){rl(t).ra()}async function VZ(t){const e=rl(t);for(const n of t.Ta)e.ea(n.mutations)}async function LZ(t,e,n){const r=t.Ta.shift(),i=JS.from(r,e,n);await E6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await rp(t)}async function zZ(t,e){e&&rl(t).Y_&&await(async function(r,i){if((function(o){return gQ(o)&&o!==le.ABORTED})(i.code)){const a=r.Ta.shift();rl(r).B_(),await E6(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await rp(r)}})(t,e),T6(t)&&S6(t)}async function nD(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),me(ku,"RemoteStore received new credentials");const r=Hu(n);n.Ea.add(3),await np(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rb(n)}async function UZ(t,e){const n=Ue(t);e?(n.Ea.delete(2),await rb(n)):e||(n.Ea.add(2),await np(n),n.Va.set("Unknown"))}function Jf(t){return t.ma||(t.ma=(function(n,r,i){const a=Ue(n);return a.sa(),new EZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:RZ.bind(null,t),Yo:OZ.bind(null,t),t_:NZ.bind(null,t),J_:DZ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),dA(t)?hA(t):t.Va.set("Unknown")):(await t.ma.stop(),w6(t))}))),t.ma}function rl(t){return t.fa||(t.fa=(function(n,r,i){const a=Ue(n);return a.sa(),new TZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:jZ.bind(null,t),t_:zZ.bind(null,t),ta:VZ.bind(null,t),na:LZ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await rp(t)):(await t.fa.stop(),t.Ta.length>0&&(me(ku,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class mA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new mA(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pA(t,e){if(pr("AsyncQueue",`${e}: ${t}`),fl(t))return new ve(le.UNAVAILABLE,`${e}: ${t}`);throw t}class mf{static emptySet(e){return new mf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=kd(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class rD{constructor(){this.ga=new zt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class jf{constructor(e,n,r,i,a,o,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new jf(e,n,mf.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&W0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class BZ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class FZ{constructor(){this.queries=iD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),a=i.queries;i.queries=iD(),a.forEach(((o,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function iD(){return new Fs((t=>E5(t)),W0)}async function A6(t,e){const n=Ue(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new BZ,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=pA(o,`Initialization of query '${Yc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&gA(n)}async function I6(t,e){const n=Ue(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.ba.indexOf(e);o>=0&&(a.ba.splice(o,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qZ(t,e){const n=Ue(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.ba)u.Fa(i)&&(r=!0);o.wa=i}}r&&gA(n)}function $Z(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function gA(t){t.Ca.forEach((e=>{e.next()}))}var GE,aD;(aD=GE||(GE={})).Ma="default",aD.Cache="cache";class C6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==GE.Cache}}class P6{constructor(e){this.key=e}}class R6{constructor(e){this.key=e}}class HZ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=T5(e),this.tu=new mf(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new rD,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const y=i.get(d),b=ep(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;y&&b?y.data.isEqual(b.data)?w!==S&&(r.track({type:3,doc:b}),E=!0):this.su(y,b)||(r.track({type:2,doc:b}),E=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(u=!0)):!y&&b?(r.track({type:0,doc:b}),E=!0):y&&!b&&(r.track({type:1,doc:y}),E=!0,(f||h)&&(u=!0)),E&&(b?(o=o.add(b),a=S?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(b,w){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:E})}};return S(b)-S(w)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Xa;return this.Xa=f,o.length!==0||h?{snapshot:new jf(this.query,e.tu,a,o,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rD,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new R6(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new P6(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const yA="SyncEngine";class GZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KZ{constructor(e){this.key=e,this.hu=!1}}class WZ{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fs((u=>E5(u)),W0),this.Iu=new Map,this.Eu=new Set,this.Ru=new zt(be.comparator),this.Au=new Map,this.Vu=new aA,this.du={},this.mu=new Map,this.fu=Mu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YZ(t,e,n=!0){const r=j6(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await O6(r,e,n,!0),i}async function XZ(t,e){const n=j6(t);await O6(n,e,!0,!1)}async function O6(t,e,n,r){const i=await pZ(t.localStore,Ei(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await QZ(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&x6(t.remoteStore,i),u}async function QZ(t,e,n,r,i){t.pu=(p,y,b)=>(async function(S,E,C,D){let N=E.view.ru(C);N.Ss&&(N=await QN(S.localStore,E.query,!1).then((({documents:R})=>E.view.ru(R,N))));const M=D&&D.targetChanges.get(E.targetId),V=D&&D.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(N,S.isPrimaryClient,M,V);return oD(S,E.targetId,L.au),L.snapshot})(t,p,y,b);const a=await QN(t.localStore,e,!0),o=new HZ(e,a.ks),u=o.ru(a.documents),f=tp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,f);oD(t,n,h.au);const d=new GZ(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function ZZ(t,e,n){const r=Ue(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!W0(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $E(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cA(r.remoteStore,i.targetId),KE(r,i.targetId)})).catch($u)):(KE(r,i.targetId),await $E(r.localStore,i.targetId,!0))}async function JZ(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cA(n.remoteStore,r.targetId))}async function eJ(t,e,n){const r=V6(t);try{const i=await(function(o,u){const f=Ue(o),h=gt.now(),d=u.reduce(((b,w)=>b.add(w.key)),Ke());let p,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=Yr(),S=Ke();return f.xs.getEntries(b,d).next((E=>{w=E,w.forEach(((C,D)=>{D.isValidDocument()||(S=S.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,w))).next((E=>{p=E;const C=[];for(const D of u){const N=mQ(D,p.get(D.key).overlayedDocument);N!=null&&C.push(new qs(D.key,N,m5(N.value.mapValue),lr.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,C,u)})).next((E=>{y=E;const C=E.applyToLocalDocumentSet(p,S);return f.documentOverlayCache.saveOverlays(b,E.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:A5(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,f){let h=o.du[o.currentUser.toKey()];h||(h=new zt(ze)),h=h.insert(u,f),o.du[o.currentUser.toKey()]=h})(r,i.batchId,n),await ip(r,i.changes),await rp(r.remoteStore)}catch(i){const a=pA(i,"Failed to persist write");n.reject(a)}}async function N6(t,e){const n=Ue(t);try{const r=await hZ(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Pe(o.hu,14607):i.removedDocuments.size>0&&(Pe(o.hu,42227),o.hu=!1))})),await ip(n,r,e)}catch(r){await $u(r)}}function sD(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const f=Ue(o);f.onlineState=u;let h=!1;f.queries.forEach(((d,p)=>{for(const y of p.ba)y.va(u)&&(h=!0)})),h&&gA(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tJ(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new zt(be.comparator);o=o.insert(a,Qt.newNoDocument(a,Ne.min()));const u=Ke().add(a),f=new Z0(Ne.min(),new Map,new zt(ze),o,u);await N6(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),vA(r)}else await $E(r.localStore,e,!1).then((()=>KE(r,e,n))).catch($u)}async function nJ(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await fZ(n.localStore,e);M6(n,r,null),D6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ip(n,i)}catch(i){await $u(i)}}async function rJ(t,e,n){const r=Ue(t);try{const i=await(function(o,u){const f=Ue(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return f.mutationQueue.lookupMutationBatch(h,u).next((p=>(Pe(p!==null,37113),d=p.keys(),f.mutationQueue.removeMutationBatch(h,p)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,d,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>f.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);M6(r,e,n),D6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ip(r,i)}catch(i){await $u(i)}}function D6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function M6(t,e,n){const r=Ue(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function KE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||k6(t,r)}))}function k6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(cA(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),vA(t))}function oD(t,e,n){for(const r of n)r instanceof P6?(t.Vu.addReference(r.key,e),iJ(t,r)):r instanceof R6?(me(yA,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||k6(t,r.key)):Se(19791,{wu:r})}function iJ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(me(yA,"New document in limbo: "+n),t.Eu.add(r),vA(t))}function vA(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(ct.fromString(e)),r=t.fu.next();t.Au.set(r,new KZ(n)),t.Ru=t.Ru.insert(n,r),x6(t.remoteStore,new vs(Ei(Jm(n.path)),r,"TargetPurposeLimboResolution",bi.ce))}}async function ip(t,e,n){const r=Ue(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{o.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,d?"current":"not-current")}if(h){i.push(h);const d=lA.Es(f.targetId,h);a.push(d)}})))})),await Promise.all(o),r.Pu.J_(i),await(async function(f,h){const d=Ue(f);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>X.forEach(h,(y=>X.forEach(y.Ts,(b=>d.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>X.forEach(y.Is,(b=>d.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!fl(p))throw p;me(uA,"Failed to update sequence numbers: "+p)}for(const p of h){const y=p.targetId;if(!p.fromCache){const b=d.vs.get(y),w=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(w);d.vs=d.vs.insert(y,S)}}})(r.localStore,a))}async function aJ(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){me(yA,"User change. New user:",e.toKey());const r=await p6(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new ve(le.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ip(n,r.Ns)}}function sJ(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let i=Ke();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const u=n.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function j6(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tJ.bind(null,e),e.Pu.J_=qZ.bind(null,e.eventManager),e.Pu.yu=$Z.bind(null,e.eventManager),e}function V6(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rJ.bind(null,e),e}class bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return m6(this.persistence,new d6,e.initialUser,this.serializer)}Cu(e){return new sA(tb.Vi,this.serializer)}Du(e){return new y6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bm.provider={build:()=>new bm};class oJ extends bm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pe(this.persistence.referenceDelegate instanceof Ov,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new l6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new sA((r=>Ov.Vi(r,n)),this.serializer)}}class lJ extends bm{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await V6(this.xu.syncEngine),await rp(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return m6(this.persistence,new d6,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new l6(r,e.asyncQueue,n)}Mu(e,n){const r=new fX(n,this.persistence);return new cX(e.asyncQueue,r)}Cu(e){const n=oZ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new oA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,wZ(),Ky(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new y6}}class Dv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aJ.bind(null,this.syncEngine),await UZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FZ})()}createDatastore(e){const n=nb(e.databaseInfo.databaseId),r=_Z(e.databaseInfo);return IZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,u){return new PZ(r,i,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>sD(this.syncEngine,n,0)),(function(){return eD.v()?new eD:new yZ})())}createSyncEngine(e,n){return(function(i,a,o,u,f,h,d){const p=new WZ(i,a,o,u,f,h);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ue(n);me(ku,"RemoteStore shutting down."),r.Ea.add(5),await np(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dv.provider={build:()=>new Dv};class L6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const il="FirestoreClient";class uJ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Qn.UNAUTHENTICATED,this.clientId=US.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{me(il,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(me(il,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gw(t,e){t.asyncQueue.verifyOperationInProgress(),me(il,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await p6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cJ(t);me(il,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>nD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>nD(e.remoteStore,i))),t._onlineComponents=e}async function cJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(il,"Using user provided OfflineComponentProvider");try{await gw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await gw(t,new bm)}}else me(il,"Using default OfflineComponentProvider"),await gw(t,new oJ(void 0));return t._offlineComponents}async function z6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(il,"Using user provided OnlineComponentProvider"),await lD(t,t._uninitializedComponentsProvider._online)):(me(il,"Using default OnlineComponentProvider"),await lD(t,new Dv))),t._onlineComponents}function fJ(t){return z6(t).then((e=>e.syncEngine))}async function WE(t){const e=await z6(t),n=e.eventManager;return n.onListen=YZ.bind(null,e.syncEngine),n.onUnlisten=ZZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JZ.bind(null,e.syncEngine),n}function hJ(t,e,n,r){const i=new L6(r),a=new C6(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>A6(await WE(t),a))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>I6(await WE(t),a)))}}function dJ(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,h){const d=new L6({next:y=>{d.Nu(),o.enqueueAndForget((()=>I6(a,p)));const b=y.docs.has(u);!b&&y.fromCache?h.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&f&&f.source==="server"?h.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new C6(Jm(u.path),d,{includeMetadataChanges:!0,Ka:!0});return A6(a,p)})(await WE(t),t.asyncQueue,e,n,r))),r.promise}function mJ(t,e){const n=new Es;return t.asyncQueue.enqueueAndForget((async()=>eJ(await fJ(t),e,n))),n.promise}function U6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const pJ="ComponentProvider",uD=new Map;function gJ(t,e,n,r,i){return new UX(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,U6(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const B6="firestore.googleapis.com",cD=!0;class fD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B6,this.ssl=cD}else this.host=e.host,this.ssl=e.ssl??cD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$Q)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ib{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XY;switch(r.type){case"firstParty":return new eX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=uD.get(n);r&&(me(pJ,"Removing Datastore"),uD.delete(n),r.terminate())})(this),Promise.resolve()}}function yJ(t,e,n,r={}){t=Qr(t,ib);const i=Kf(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(q4(`https://${u}`),$4("Firestore",!0)),a.host!==B6&&a.host!==u&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!Su(f,o)&&(t._setSettings(f),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Qn.MOCK_USER;else{h=aG(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qn(p)}t._authCredentials=new QY(new B3(h,d))}}class Gu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gu(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xm(n,Zt._jsonSchema))return new Zt(e,r||null,new be(ct.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:pn("string",Zt._jsonSchemaVersion),referencePath:pn("string")};class Qo extends Gu{constructor(e,n,r){super(e,n,Jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new be(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function hD(t,e,...n){if(t=yn(t),q3("collection","path",e),t instanceof ib){const r=ct.fromString(e,...n);return tN(r),new Qo(t,null,r)}{if(!(t instanceof Zt||t instanceof Qo))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return tN(r),new Qo(t.firestore,null,r)}}function Kr(t,e,...n){if(t=yn(t),arguments.length===1&&(e=US.newId()),q3("doc","path",e),t instanceof ib){const r=ct.fromString(e,...n);return eN(r),new Zt(t,null,new be(r))}{if(!(t instanceof Zt||t instanceof Qo))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return eN(r),new Zt(t.firestore,t instanceof Qo?t.converter:null,new be(r))}}const dD="AsyncQueue";class mD{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v6(this,"async_queue_retry"),this._c=()=>{const r=Ky();r&&me(dD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;me(dD,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",pD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Se(47125,{Pc:pD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Os extends ib{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mD,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mD(e),this._firestoreClient=void 0,await e}}}function vJ(t,e){const n=typeof t=="object"?t:Z4(),r=typeof t=="string"?t:Ev,i=CS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=rG("firestore");a&&yJ(i,...a)}return i}function bA(t){if(t._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F6(t),t._firestoreClient}function F6(t){const e=t._freezeSettings(),n=gJ(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uJ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}function bJ(t,e){el("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return xJ(t,Dv.provider,{build:r=>new lJ(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function xJ(t,e,n){if((t=Qr(t,Os))._firestoreClient||t._terminated)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ve(le.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},F6(t)}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(vn.fromBase64String(e))}catch(n){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xm(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:pn("string",vi._jsonSchemaVersion),bytes:pn("string")};class xA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ab{constructor(e){this._methodName=e}}class Ma{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ma._jsonSchemaVersion}}static fromJSON(e){if(Xm(e,Ma._jsonSchema))return new Ma(e.latitude,e.longitude)}}Ma._jsonSchemaVersion="firestore/geoPoint/1.0",Ma._jsonSchema={type:pn("string",Ma._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};class Qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xm(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qi(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:pn("string",Qi._jsonSchemaVersion),vectorValues:pn("object")};const _J=/^__.*__$/;class wJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zf(e,this.data,n,this.fieldTransforms)}}class q6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:t})}}class _A{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _A({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Mv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($6(this.dataSource)&&_J.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class EJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nb(e)}createContext(e,n,r,i=!1){return new _A({dataSource:e,methodName:n,targetDoc:r,path:qt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sb(t){const e=t._freezeSettings(),n=nb(t._databaseId);return new EJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H6(t,e,n,r,i,a={}){const o=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);EA("Data must be an object, but it was:",o,r);const u=G6(r,o);let f,h;if(a.merge)f=new Rr(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const y=Vf(e,p,n);if(!o.contains(y))throw new ve(le.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Y6(d,y)||d.push(y)}f=new Rr(d),h=o.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,h=o.fieldTransforms;return new wJ(new or(u),f,h)}class ob extends ab{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ob}}class wA extends ab{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Mf(e.serializer,P5(e.serializer,this.Vc));return new M5(e.path,n)}isEqual(e){return e instanceof wA&&this.Vc===e.Vc}}function TJ(t,e,n,r){const i=t.createContext(1,e,n);EA("Data must be an object, but it was:",i,r);const a=[],o=or.empty();hl(r,((f,h)=>{const d=W6(e,f,n);h=yn(h);const p=i.childContextForFieldPath(d);if(h instanceof ob)a.push(d);else{const y=ap(h,p);y!=null&&(a.push(d),o.set(d,y))}}));const u=new Rr(a);return new q6(o,u,i.fieldTransforms)}function SJ(t,e,n,r,i,a){const o=t.createContext(1,e,n),u=[Vf(e,r,n)],f=[i];if(a.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(Vf(e,a[y])),f.push(a[y+1]);const h=[],d=or.empty();for(let y=u.length-1;y>=0;--y)if(!Y6(h,u[y])){const b=u[y];let w=f[y];w=yn(w);const S=o.childContextForFieldPath(b);if(w instanceof ob)h.push(b);else{const E=ap(w,S);E!=null&&(h.push(b),d.set(b,E))}}const p=new Rr(h);return new q6(d,p,o.fieldTransforms)}function AJ(t,e,n,r=!1){return ap(n,t.createContext(r?4:3,e))}function ap(t,e){if(K6(t=yn(t)))return EA("Unsupported field value:",e,t),G6(t,e);if(t instanceof ab)return(function(r,i){if(!$6(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const u of r){let f=ap(u,i.childContextForArray(o));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gt.fromDate(r);return{timestampValue:kf(i.serializer,a)}}if(r instanceof gt){const a=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(i.serializer,a)}}if(r instanceof Ma)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:B5(i.serializer,r._byteString)};if(r instanceof Zt){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:nA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qi)return(function(o,u){const f=o instanceof Qi?o.toArray():o;return{mapValue:{fields:{[WS]:{stringValue:YS},[Cf]:{arrayValue:{values:f.map((d=>{if(typeof d!="number")throw u.createError("VectorValues must only contain numeric values.");return QS(u.serializer,d)}))}}}}}})(r,i);if(Z5(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${U0(r)}`)})(t,e)}function G6(t,e){const n={};return a5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hl(t,((r,i)=>{const a=ap(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function K6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Ma||t instanceof vi||t instanceof Zt||t instanceof ab||t instanceof Qi||Z5(t))}function EA(t,e,n){if(!K6(n)||!$3(n)){const r=U0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Vf(t,e,n){if((e=yn(e))instanceof xA)return e._internalPath;if(typeof e=="string")return W6(t,e);throw Mv("Field path arguments must be of type string or ",t,!1,void 0,n)}const IJ=new RegExp("[~\\*/\\[\\]]");function W6(t,e,n){if(e.search(IJ)>=0)throw Mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xA(...e.split("."))._internalPath}catch{throw Mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mv(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||o)&&(f+=" (found",a&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new ve(le.INVALID_ARGUMENT,u+t+f)}function Y6(t,e){return t.some((n=>n.isEqual(e)))}class CJ{convertValue(e,n="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Cf].arrayValue?.values?.map((r=>jt(r.doubleValue)));return new Qi(n)}convertGeoPoint(e){return new Ma(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=G0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dm(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);Pe(Q5(r),9688,{name:e});const i=new Ru(r.get(1),r.get(3)),a=new be(r.popFirst(5));return i.isEqual(n)||pr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class X6 extends CJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function wd(t){return new wA("increment",t)}const gD="@firebase/firestore",yD="4.11.0";function vD(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Q6{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PJ extends Q6{data(){return super.data()}}function RJ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TA{}class Z6 extends TA{}function OJ(t,e,...n){let r=[];e instanceof TA&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((f=>f instanceof AA)).length,u=a.filter((f=>f instanceof SA)).length;if(o>1||o>0&&u>0)throw new ve(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class SA extends Z6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new SA(e,n,r)}_apply(e){const n=this._parse(e);return J6(e._query,n),new Gu(e.firestore,e.converter,kE(e._query,n))}_parse(e){const n=sb(e.firestore);return(function(a,o,u,f,h,d,p){let y;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ve(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){xD(p,d);const w=[];for(const S of p)w.push(bD(f,a,S));y={arrayValue:{values:w}}}else y=bD(f,a,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||xD(p,d),y=AJ(u,o,p,d==="in"||d==="not-in");return Je.create(h,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class AA extends TA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const u=a.getFlattenedFilters();for(const f of u)J6(o,f),o=kE(o,f)})(e._query,n),new Gu(e.firestore,e.converter,kE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class IA extends Z6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new IA(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ym(a,o)})(e._query,this._field,this._direction);return new Gu(e.firestore,e.converter,tQ(e._query,n))}}function NJ(t,e="asc"){const n=e,r=Vf("orderBy",t);return IA._create(r,n)}function bD(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new ve(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w5(e)&&n.indexOf("/")!==-1)throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!be.isDocumentKey(r))throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pm(t,new be(r))}if(n instanceof Zt)return pm(t,n._key);throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${U0(n)}.`)}function xD(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J6(t,e){const n=(function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ez(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vu extends Q6{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vu._jsonSchemaVersion="firestore/documentSnapshot/1.0",vu._jsonSchema={type:pn("string",vu._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class Wy extends vu{data(e={}){return super.data(e)}}class pf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ld(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Wy(this._firestore,this._userDataWriter,r.key,r,new Ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const f=new Wy(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ld(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Wy(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ld(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),d=o.indexOf(u.doc.key)),{type:DJ(u.type),doc:f,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=US.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}pf._jsonSchemaVersion="firestore/querySnapshot/1.0",pf._jsonSchema={type:pn("string",pf._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};function YE(t){t=Qr(t,Zt);const e=Qr(t.firestore,Os),n=bA(e);return dJ(n,t._key).then((r=>nz(e,t,r)))}function gf(t,e,n){t=Qr(t,Zt);const r=Qr(t.firestore,Os),i=ez(t.converter,e,n),a=sb(r);return lb(r,[H6(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,lr.none())])}function yf(t,e,n,...r){t=Qr(t,Zt);const i=Qr(t.firestore,Os),a=sb(i);let o;return o=typeof(e=yn(e))=="string"||e instanceof xA?SJ(a,"updateDoc",t._key,e,n,r):TJ(a,"updateDoc",t._key,e),lb(i,[o.toMutation(t._key,lr.exists(!0))])}function MJ(t){return lb(Qr(t.firestore,Os),[new Q0(t._key,lr.none())])}function kJ(t,e){const n=Qr(t.firestore,Os),r=Kr(t),i=ez(t.converter,e),a=sb(t.firestore);return lb(n,[H6(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then((()=>r))}function tz(t,...e){t=yn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vD(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vD(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let a,o,u;if(t instanceof Zt)o=Qr(t.firestore,Os),u=Jm(t._key.path),a={next:h=>{e[r]&&e[r](nz(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Qr(t,Gu);o=Qr(h.firestore,Os),u=h._query;const d=new X6(o);a={next:p=>{e[r]&&e[r](new pf(o,d,h,p))},error:e[r+1],complete:e[r+2]},RJ(t._query)}const f=bA(o);return hJ(f,u,i,a)}function lb(t,e){const n=bA(t);return mJ(n,e)}function nz(t,e,n){const r=n.docs.get(e._key),i=new X6(t);return new vu(t,i,e._key,r,new Ld(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){YY(Wf),_f(new Au("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new Os(new ZY(r.getProvider("auth-internal")),new tX(o,r.getProvider("app-check-internal")),BX(o,i),o);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Wo(gD,yD,e),Wo(gD,yD,"esm2020")})();const jJ={apiKey:"AIzaSyABZDyRr3_aMqbJD6VdLumnvueqY71WvdM",authDomain:"artists-first.firebaseapp.com",projectId:"artists-first",storageBucket:"artists-first.firebasestorage.app",messagingSenderId:"940530686691",appId:"1:940530686691:web:81a90b4b790a1c22f003d6",measurementId:"G-BLW0C9CJS8"},rz=Q4(jJ),Bo=KY(rz),VJ=new ms,mr=vJ(rz);bJ(mr).catch(t=>{t.code=="failed-precondition"?console.warn("Persistence failed: Multiple tabs open."):t.code=="unimplemented"&&console.warn("Persistence not supported by browser.")});const iz=T.createContext(void 0);function LJ({children:t}){const[e,n]=T.useState(()=>{try{const p=localStorage.getItem("etao_user");if(p){const y=JSON.parse(p);if(y&&(y.id||y.uid))return y}}catch(p){console.error("Failed to load user from cache",p)}return null}),[r,i]=T.useState(()=>!e);T.useEffect(()=>{let p=!0;const y=setTimeout(()=>{p&&(console.warn("Auth checks taking too long - forcing app open."),i(!1))},4e3),b=kW(Bo,async w=>{if(clearTimeout(y),w){let S=e;if(!S)try{const N=localStorage.getItem("etao_user");N&&(S=JSON.parse(N))}catch(N){console.warn("Cache parse failed",N)}S&&S.id===w.uid&&(S.email.toLowerCase()==="cosmiccards777@gmail.com"&&S.role!=="artist"&&(S.role="artist",p&&n({...S})),p&&(n(S),S.role==="artist"&&i(!1)));const E=Kr(mr,"users",w.uid),C=YE(E),D=new Promise((N,M)=>setTimeout(()=>M(new Error("Firestore fetch timed out")),1e4));try{const N=await Promise.race([C,D]);if(N.exists()){const M=N.data();if(M.email.toLowerCase()==="cosmiccards777@gmail.com"){const R={};M.role!=="artist"&&(R.role="artist"),(M.walletBalance||0)>0&&(R.walletBalance=0),(M.revenue||0)>0&&(R.revenue=0),Object.keys(R).length>0&&(console.log("Applying Admin Fixes/Reset...",R),yf(E,R).catch(console.error),Object.assign(M,R))}let V=M.favoriteGenres||[];V.length===0&&S&&S.favoriteGenres&&S.favoriteGenres.length>0&&(V=S.favoriteGenres,yf(E,{favoriteGenres:V}).catch(console.error));const L={...M,id:w.uid,favoriteGenres:V};p&&(n(L),localStorage.setItem("etao_user",JSON.stringify(L)),i(!1))}else{if(w.metadata.creationTime===w.metadata.lastSignInTime){p&&i(!1);return}if(S&&S.id===w.uid){p&&(n(S),i(!1));return}console.warn("User missing profile. Defaulting to Listener.");const V={id:w.uid,email:w.email||"",name:w.displayName||"User",role:"listener",avatar:w.photoURL||void 0,walletBalance:0,favoriteGenres:[]};V.email.toLowerCase()==="cosmiccards777@gmail.com"&&(V.role="artist"),p&&(n(V),i(!1))}}catch(N){if(console.error("Auth Data Fetch Error:",N),S&&S.id===w.uid)p&&i(!1);else{const M={id:w.uid,email:w.email||"",name:w.displayName||"Offline User",role:"listener",walletBalance:0,favoriteGenres:[]};M.email.toLowerCase()==="cosmiccards777@gmail.com"&&(M.role="artist"),p&&(n(M),i(!1))}}}else p&&(n(null),i(!1))});return()=>{p=!1,b(),clearTimeout(y)}},[]);const a=async()=>{i(!0);try{const y=(await nY(Bo,VJ)).user,b=Kr(mr,"users",y.uid),w=await YE(b);if(w.exists())n(w.data());else{const S={id:y.uid,email:y.email||"",name:y.displayName||"Listener",role:"listener",avatar:y.photoURL||void 0,walletBalance:0,favoriteGenres:[]};await gf(b,S),n(S)}}catch(p){console.error("Google Login failed:",p)}finally{i(!1)}},o=async(p,y,b,w)=>{i(!0);try{const E=(await PW(Bo,p,y)).user;await NW(E,{displayName:w});const C={id:E.uid,email:E.email||p,name:w,role:b,avatar:b==="artist"?"/profile_final.jpg":`https://api.dicebear.com/7.x/avataaars/svg?seed=${p}`,walletBalance:5,favoriteGenres:[]},D=Kr(mr,"users",E.uid),N=new Promise((M,V)=>setTimeout(()=>V(new Error("Firestore operation timed out. Please check your database connection.")),5e3));await Promise.race([gf(D,C),N]),n(C)}catch(S){if(console.error("Signup failed:",S),S.code==="auth/operation-not-allowed"||S.code==="auth/admin-restricted-operation"||S.message.includes("monitor")){console.warn("Falling back to mock signup due to Firebase config.");const E={id:"mock_"+Date.now(),email:p,name:w,role:b,avatar:b==="artist"?"/profile_final.jpg":`https://api.dicebear.com/7.x/avataaars/svg?seed=${p}`,walletBalance:5,favoriteGenres:[]};n(E),localStorage.setItem("etao_user",JSON.stringify(E));return}throw S}finally{i(!1)}},u=async(p,y)=>{i(!0);try{if(y)return(await RW(Bo,p,y)).user;throw console.warn("Attempting legacy login without password - this is deprecated."),i(!1),new Error("Password is required for login.")}catch(b){throw console.error("Login failed:",b),i(!1),b}},f=async p=>{if(!e)return!1;const y=(e.walletBalance||0)+p,b={...e,walletBalance:y};n(b),localStorage.setItem("etao_user",JSON.stringify(b));try{const w=Kr(mr,"users",e.id);return await yf(w,{walletBalance:y}),!0}catch(w){return console.error("Wallet update failed:",w),!1}},h=async p=>{if(!e)return;const y={...e,favoriteGenres:p};n(y),localStorage.setItem("etao_user",JSON.stringify(y));const b=Kr(mr,"users",e.id),w=new Promise((S,E)=>setTimeout(()=>E(new Error("Firestore update timed out")),5e3));try{await Promise.race([gf(b,{favoriteGenres:p},{merge:!0}),w])}catch(S){throw console.error("Failed to update Firestore genres (persist)",S),S}},d=()=>{jW(Bo),n(null),localStorage.removeItem("etao_user")};return _.jsx(iz.Provider,{value:{user:e,isAuthenticated:!!e,login:u,signup:o,loginWithGoogle:a,logout:d,isLoading:r,updateWallet:f,updateGenres:h},children:t})}function dl(){const t=T.useContext(iz);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const az=["Pop","R&B","Hip Hop","Lo-Fi","Ambient","Electronic","Jazz","Classical","Rock","Indie","Soul","Reggae","House","Techno","Meditation","Healing","Drum & Bass","Dubstep","Trance","Disco","Funk","Blues","Country","Folk","Latin","Metal","Punk","Gospel","Afrobeat","World","Trap","Synthwave","Grim","Drill","Garage","Dancehall","Soca","K-Pop","J-Pop","Opera","Bluegrass","Ska","Grime","Industrial","New Wave","Americana","Hardcore","Emo","Show Tunes","Soundtrack","Spoken Word","Comedy"],sz=T.createContext(void 0),_D="etao_played_tracks_v1",zJ=[{id:"1",title:"She's Beautiful 639Hz",artist:"Etao",price:1,cover:"/cover_shes_beautiful.png",file:"/shes_beautiful_639hz.wav",plays:1240,revenue:11780,status:"Active",genre:"Healing",monthlyPlays:320,createdAt:1},{id:"2",title:"Deep Healing (432Hz)",artist:"Etao",price:1,cover:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=200&h=200&fit=crop",file:"https://actions.google.com/sounds/v1/weather/rain_heavy_loud.ogg",plays:890,revenue:8455,status:"Active",genre:"Meditation",monthlyPlays:150,createdAt:2},{id:"3",title:"Celestial Flow (963Hz)",artist:"Etao",price:1,cover:"https://images.unsplash.com/photo-1459749411177-d4a37196040e?w=200&h=200&fit=crop",file:"https://actions.google.com/sounds/v1/science_fiction/scifi_freight_elevator.ogg",plays:560,revenue:5320,status:"Active",genre:"Ambient",monthlyPlays:85,createdAt:3}];function UJ({children:t}){const{user:e,updateWallet:n}=dl(),[r,i]=T.useState([]),[a,o]=T.useState(()=>{try{const M=localStorage.getItem(_D);return M?new Set(JSON.parse(M)):new Set}catch{return new Set}}),[u,f]=T.useState(null),[h,d]=T.useState(!1),p=T.useRef(null);T.useEffect(()=>{const M=OJ(hD(mr,"tracks"),NJ("createdAt","desc")),V=tz(M,L=>{if(L.empty){console.log("Seeding initial tracks to Firestore..."),zJ.forEach(async O=>{const{id:k,...F}=O;await gf(Kr(mr,"tracks",k),F)});return}const R=L.docs.map(O=>({id:O.id,...O.data()}));i(R)});return()=>V()},[]),T.useEffect(()=>(p.current=new Audio,()=>{p.current&&(p.current.pause(),p.current=null)}),[]),T.useEffect(()=>{localStorage.setItem(_D,JSON.stringify(Array.from(a)))},[a]);const y=async M=>{if(!e)return;const V={...M,plays:0,revenue:0,status:"Active",monthlyPlays:0,price:M.price||1,artistId:e.id||"unknown",createdAt:Date.now()};try{await kJ(hD(mr,"tracks"),V)}catch(L){console.error("Error adding track to DB:",L),alert("Failed to upload track. Please try again.")}},b=async M=>{if(confirm("Are you sure you want to delete this track?"))try{await MJ(Kr(mr,"tracks",M))}catch(V){console.error("Error deleting track:",V)}},w=async(M,V)=>{try{await yf(Kr(mr,"tracks",M),V)}catch(L){console.error("Error updating track:",L)}},S=1,E=.9,C=.1,D=async M=>{if(!p.current)return;if(u?.id===M.id){N();return}p.current.pause(),p.current.currentTime=0,d(!1);let V=0;if(!a.has(M.id))o(R=>new Set(R).add(M.id));else if(e?.email?.toLowerCase()==="cosmiccards777@gmail.com")console.log("Admin Free Play Active - No funds deducted, no revenue generated.");else{if((e?.walletBalance||0)<S){alert(`Insufficient RF! You need ${S} RF to listen.`);return}try{if(!await n(-S)){alert("Transaction failed.");return}V=E;const k=Kr(mr,"admin_stats","main_stats");yf(k,{companyBalanceAF:wd(C),totalTransactions:wd(1)}).catch(()=>gf(k,{companyBalanceAF:C,totalTransactions:1},{merge:!0}))}catch(O){console.error("Payment failed",O);return}}f(M),p.current.src=M.file,p.current.load();try{await p.current.play(),d(!0)}catch(R){console.error("Playback failed:",R),alert("Playback failed. Please check your connection."),d(!1);return}const L=Kr(mr,"tracks",M.id);yf(L,{plays:wd(1),monthlyPlays:wd(1),revenue:wd(V)}).catch(R=>console.error("Failed to update track stats",R))},N=()=>{p.current&&(h?(p.current.pause(),d(!1)):(p.current.play().catch(M=>console.error("Resume failed:",M)),d(!0)))};return _.jsx(sz.Provider,{value:{tracks:r,currentTrack:u,isPlaying:h,audioRef:p,addTrack:y,deleteTrack:b,updateTrack:w,playTrack:D,togglePlay:N},children:t})}function CA(){const t=T.useContext(sz);if(t===void 0)throw new Error("useMusic must be used within a MusicProvider");return t}const PA=T.createContext({});function RA(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const oz=typeof window<"u",lz=oz?T.useLayoutEffect:T.useEffect,ub=T.createContext(null);function OA(t,e){t.indexOf(e)===-1&&t.push(e)}function NA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const za=(t,e,n)=>n>e?e:n<t?t:n;let DA=()=>{};const Ns={},uz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cz(t){return typeof t=="object"&&t!==null}const fz=t=>/^0[^.\s]+$/u.test(t);function MA(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ti=t=>t,BJ=(t,e)=>n=>e(t(n)),sp=(...t)=>t.reduce(BJ),xm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class kA{constructor(){this.subscriptions=[]}add(e){return OA(this.subscriptions,e),()=>NA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ka=t=>t*1e3,xi=t=>t/1e3;function hz(t,e){return e?t*(1e3/e):0}const dz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,FJ=1e-7,qJ=12;function $J(t,e,n,r,i){let a,o,u=0;do o=e+(n-e)/2,a=dz(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>FJ&&++u<qJ);return o}function op(t,e,n,r){if(t===e&&n===r)return Ti;const i=a=>$J(a,0,1,t,n);return a=>a===0||a===1?a:dz(i(a),e,r)}const mz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pz=t=>e=>1-t(1-e),gz=op(.33,1.53,.69,.99),jA=pz(gz),yz=mz(jA),vz=t=>(t*=2)<1?.5*jA(t):.5*(2-Math.pow(2,-10*(t-1))),VA=t=>1-Math.sin(Math.acos(t)),bz=pz(VA),xz=mz(VA),HJ=op(.42,0,1,1),GJ=op(0,0,.58,1),_z=op(.42,0,.58,1),KJ=t=>Array.isArray(t)&&typeof t[0]!="number",wz=t=>Array.isArray(t)&&typeof t[0]=="number",WJ={linear:Ti,easeIn:HJ,easeInOut:_z,easeOut:GJ,circIn:VA,circInOut:xz,circOut:bz,backIn:jA,backInOut:yz,backOut:gz,anticipate:vz},YJ=t=>typeof t=="string",wD=t=>{if(wz(t)){DA(t.length===4);const[e,n,r,i]=t;return op(e,n,r,i)}else if(YJ(t))return WJ[t];return t},uy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XJ(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(d){o.has(d)&&(h.schedule(d),t()),d(u)}const h={schedule:(d,p=!1,y=!1)=>{const w=y&&i?n:r;return p&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(u=d,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,h.process(d))}};return h}const QJ=40;function Ez(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=uy.reduce((N,M)=>(N[M]=XJ(a),N),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:d,update:p,preRender:y,render:b,postRender:w}=o,S=()=>{const N=Ns.useManualTiming?i.timestamp:performance.now();n=!1,Ns.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,QJ),1)),i.timestamp=N,i.isProcessing=!0,u.process(i),f.process(i),h.process(i),d.process(i),p.process(i),y.process(i),b.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},E=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:uy.reduce((N,M)=>{const V=o[M];return N[M]=(L,R=!1,O=!1)=>(n||E(),V.schedule(L,R,O)),N},{}),cancel:N=>{for(let M=0;M<uy.length;M++)o[uy[M]].cancel(N)},state:i,steps:o}}const{schedule:At,cancel:al,state:Wn,steps:yw}=Ez(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let Yy;function ZJ(){Yy=void 0}const gr={now:()=>(Yy===void 0&&gr.set(Wn.isProcessing||Ns.useManualTiming?Wn.timestamp:performance.now()),Yy),set:t=>{Yy=t,queueMicrotask(ZJ)}},Tz=t=>e=>typeof e=="string"&&e.startsWith(t),Sz=Tz("--"),JJ=Tz("var(--"),LA=t=>JJ(t)?eee.test(t.split("/*")[0].trim()):!1,eee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ED(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const eh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_m={...eh,transform:t=>za(0,1,t)},cy={...eh,default:1},Jd=t=>Math.round(t*1e5)/1e5,zA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tee(t){return t==null}const nee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,UA=(t,e)=>n=>!!(typeof n=="string"&&nee.test(n)&&n.startsWith(t)||e&&!tee(n)&&Object.prototype.hasOwnProperty.call(n,e)),Az=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,u]=r.match(zA);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},ree=t=>za(0,255,t),vw={...eh,transform:t=>Math.round(ree(t))},uu={test:UA("rgb","red"),parse:Az("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vw.transform(t)+", "+vw.transform(e)+", "+vw.transform(n)+", "+Jd(_m.transform(r))+")"};function iee(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const XE={test:UA("#"),parse:iee,transform:uu.transform},lp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mo=lp("deg"),ja=lp("%"),Te=lp("px"),aee=lp("vh"),see=lp("vw"),TD={...ja,parse:t=>ja.parse(t)/100,transform:t=>ja.transform(t*100)},tf={test:UA("hsl","hue"),parse:Az("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ja.transform(Jd(e))+", "+ja.transform(Jd(n))+", "+Jd(_m.transform(r))+")"},mn={test:t=>uu.test(t)||XE.test(t)||tf.test(t),parse:t=>uu.test(t)?uu.parse(t):tf.test(t)?tf.parse(t):XE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uu.transform(t):tf.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},oee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lee(t){return isNaN(t)&&typeof t=="string"&&(t.match(zA)?.length||0)+(t.match(oee)?.length||0)>0}const Iz="number",Cz="color",uee="var",cee="var(",SD="${}",fee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(fee,f=>(mn.test(f)?(r.color.push(a),i.push(Cz),n.push(mn.parse(f))):f.startsWith(cee)?(r.var.push(a),i.push(uee),n.push(f)):(r.number.push(a),i.push(Iz),n.push(parseFloat(f))),++a,SD)).split(SD);return{values:n,split:u,indexes:r,types:i}}function Pz(t){return wm(t).values}function Rz(t){const{split:e,types:n}=wm(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const u=n[o];u===Iz?a+=Jd(i[o]):u===Cz?a+=mn.transform(i[o]):a+=i[o]}return a}}const hee=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function dee(t){const e=Pz(t);return Rz(t)(e.map(hee))}const sl={test:lee,parse:Pz,createTransformer:Rz,getAnimatableNone:dee};function bw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;i=bw(f,u,t+1/3),a=bw(f,u,t),o=bw(f,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function kv(t,e){return n=>n>0?e:t}const $t=(t,e,n)=>t+(e-t)*n,xw=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},pee=[XE,uu,tf],gee=t=>pee.find(e=>e.test(t));function AD(t){const e=gee(t);if(!e)return!1;let n=e.parse(t);return e===tf&&(n=mee(n)),n}const ID=(t,e)=>{const n=AD(t),r=AD(e);if(!n||!r)return kv(t,e);const i={...n};return a=>(i.red=xw(n.red,r.red,a),i.green=xw(n.green,r.green,a),i.blue=xw(n.blue,r.blue,a),i.alpha=$t(n.alpha,r.alpha,a),uu.transform(i))},QE=new Set(["none","hidden"]);function yee(t,e){return QE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vee(t,e){return n=>$t(t,e,n)}function BA(t){return typeof t=="number"?vee:typeof t=="string"?LA(t)?kv:mn.test(t)?ID:_ee:Array.isArray(t)?Oz:typeof t=="object"?mn.test(t)?ID:bee:kv}function Oz(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>BA(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function bee(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=BA(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function xee(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],u=t.values[o]??0;n[i]=u,r[a]++}return n}const _ee=(t,e)=>{const n=sl.createTransformer(e),r=wm(t),i=wm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?QE.has(t)&&!i.values.length||QE.has(e)&&!r.values.length?yee(t,e):sp(Oz(xee(r,i),i.values),n):kv(t,e)};function Nz(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$t(t,e,n):BA(t)(t,e)}const wee=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>At.update(e,n),stop:()=>al(e),now:()=>Wn.isProcessing?Wn.timestamp:gr.now()}},Dz=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},jv=2e4;function FA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jv;)e+=n,r=t.next(e);return e>=jv?1/0:e}function Eee(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(FA(r),jv);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:xi(i)}}const Tee=5;function Mz(t,e,n){const r=Math.max(e-Tee,0);return hz(n-t(r),e-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_w=.001;function See({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let i,a,o=1-e;o=za(Xt.minDamping,Xt.maxDamping,o),t=za(Xt.minDuration,Xt.maxDuration,xi(t)),o<1?(i=h=>{const d=h*o,p=d*t,y=d-n,b=ZE(h,o),w=Math.exp(-p);return _w-y/b*w},a=h=>{const p=h*o*t,y=p*n+n,b=Math.pow(o,2)*Math.pow(h,2)*t,w=Math.exp(-p),S=ZE(Math.pow(h,2),o);return(-i(h)+_w>0?-1:1)*((y-b)*w)/S}):(i=h=>{const d=Math.exp(-h*t),p=(h-n)*t+1;return-_w+d*p},a=h=>{const d=Math.exp(-h*t),p=(n-h)*(t*t);return d*p});const u=5/t,f=Iee(i,a,u);if(t=ka(t),isNaN(f))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const Aee=12;function Iee(t,e,n){let r=n;for(let i=1;i<Aee;i++)r=r-t(r)/e(r);return r}function ZE(t,e){return t*Math.sqrt(1-e*e)}const Cee=["duration","bounce"],Pee=["stiffness","damping","mass"];function CD(t,e){return e.some(n=>t[n]!==void 0)}function Ree(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!CD(t,Pee)&&CD(t,Cee))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*za(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Xt.mass,stiffness:i,damping:a}}else{const n=See(t);e={...e,...n,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function Vv(t=Xt.visualDuration,e=Xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:h,mass:d,duration:p,velocity:y,isResolvedFromDuration:b}=Ree({...n,velocity:-xi(n.velocity||0)}),w=y||0,S=h/(2*Math.sqrt(f*d)),E=o-a,C=xi(Math.sqrt(f/d)),D=Math.abs(E)<5;r||(r=D?Xt.restSpeed.granular:Xt.restSpeed.default),i||(i=D?Xt.restDelta.granular:Xt.restDelta.default);let N;if(S<1){const V=ZE(C,S);N=L=>{const R=Math.exp(-S*C*L);return o-R*((w+S*C*E)/V*Math.sin(V*L)+E*Math.cos(V*L))}}else if(S===1)N=V=>o-Math.exp(-C*V)*(E+(w+C*E)*V);else{const V=C*Math.sqrt(S*S-1);N=L=>{const R=Math.exp(-S*C*L),O=Math.min(V*L,300);return o-R*((w+S*C*E)*Math.sinh(O)+V*E*Math.cosh(O))/V}}const M={calculatedDuration:b&&p||null,next:V=>{const L=N(V);if(b)u.done=V>=p;else{let R=V===0?w:0;S<1&&(R=V===0?ka(w):Mz(N,V,L));const O=Math.abs(R)<=r,k=Math.abs(o-L)<=i;u.done=O&&k}return u.value=u.done?o:L,u},toString:()=>{const V=Math.min(FA(M),jv),L=Dz(R=>M.next(V*R).value,V,30);return V+"ms "+L},toTransition:()=>{}};return M}Vv.applyToOptions=t=>{const e=Eee(t,100,Vv);return t.ease=e.ease,t.duration=ka(e.duration),t.type="keyframes",t};function JE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:f,restDelta:h=.5,restSpeed:d}){const p=t[0],y={done:!1,value:p},b=O=>u!==void 0&&O<u||f!==void 0&&O>f,w=O=>u===void 0?f:f===void 0||Math.abs(u-O)<Math.abs(f-O)?u:f;let S=n*e;const E=p+S,C=o===void 0?E:o(E);C!==E&&(S=C-p);const D=O=>-S*Math.exp(-O/r),N=O=>C+D(O),M=O=>{const k=D(O),F=N(O);y.done=Math.abs(k)<=h,y.value=y.done?C:F};let V,L;const R=O=>{b(y.value)&&(V=O,L=Vv({keyframes:[y.value,w(y.value)],velocity:Mz(N,O,y.value),damping:i,stiffness:a,restDelta:h,restSpeed:d}))};return R(0),{calculatedDuration:null,next:O=>{let k=!1;return!L&&V===void 0&&(k=!0,M(O),R(O)),V!==void 0&&O>=V?L.next(O-V):(!k&&M(O),y)}}}function Oee(t,e,n){const r=[],i=n||Ns.mix||Nz,a=t.length-1;for(let o=0;o<a;o++){let u=i(t[o],t[o+1]);if(e){const f=Array.isArray(e)?e[o]||Ti:e;u=sp(f,u)}r.push(u)}return r}function Nee(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(DA(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Oee(e,r,i),f=u.length,h=d=>{if(o&&d<t[0])return e[0];let p=0;if(f>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const y=xm(t[p],t[p+1],d);return u[p](y)};return n?d=>h(za(t[0],t[a-1],d)):h}function Dee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=xm(0,e,r);t.push($t(n,1,i))}}function Mee(t){const e=[0];return Dee(e,t.length-1),e}function kee(t,e){return t.map(n=>n*e)}function jee(t,e){return t.map(()=>e||_z).splice(0,t.length-1)}function em({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=KJ(r)?r.map(wD):wD(r),a={done:!1,value:e[0]},o=kee(n&&n.length===e.length?n:Mee(e),t),u=Nee(o,e,{ease:Array.isArray(i)?i:jee(e,i)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const Vee=t=>t!==null;function qA(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(Vee),u=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const Lee={decay:JE,inertia:JE,tween:em,keyframes:em,spring:Vv};function kz(t){typeof t.type=="string"&&(t.type=Lee[t.type])}class $A{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zee=t=>t/100;class HA extends $A{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gr.now()&&this.tick(gr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kz(e);const{type:n=em,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:u}=e;const f=n||em;f!==em&&typeof u[0]!="number"&&(this.mixKeyframes=sp(zee,Nz(u[0],u[1])),u=[0,100]);const h=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=FA(h));const{calculatedDuration:d}=h;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:d,repeat:p,repeatType:y,repeatDelay:b,type:w,onUpdate:S,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,M=r;if(p){const O=Math.min(this.currentTime,i)/u;let k=Math.floor(O),F=O%1;!F&&O>=1&&(F=1),F===1&&k--,k=Math.min(k,p+1),k%2&&(y==="reverse"?(F=1-F,b&&(F-=b/u)):y==="mirror"&&(M=o)),N=za(0,1,F)*u}const V=D?{done:!1,value:d[0]}:M.next(N);a&&(V.value=a(V.value));let{done:L}=V;!D&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return R&&w!==JE&&(V.value=qA(d,this.options,E,this.speed)),S&&S(V.value),R&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return xi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xi(e)}get time(){return xi(this.currentTime)}set time(e){e=ka(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=wee,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Uee(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const cu=t=>t*180/Math.PI,eT=t=>{const e=cu(Math.atan2(t[1],t[0]));return tT(e)},Bee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:eT,rotateZ:eT,skewX:t=>cu(Math.atan(t[1])),skewY:t=>cu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tT=t=>(t=t%360,t<0&&(t+=360),t),PD=eT,RD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Fee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RD,scaleY:OD,scale:t=>(RD(t)+OD(t))/2,rotateX:t=>tT(cu(Math.atan2(t[6],t[5]))),rotateY:t=>tT(cu(Math.atan2(-t[2],t[0]))),rotateZ:PD,rotate:PD,skewX:t=>cu(Math.atan(t[4])),skewY:t=>cu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nT(t){return t.includes("scale")?1:0}function rT(t,e){if(!t||t==="none")return nT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Fee,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Bee,i=u}if(!i)return nT(e);const a=r[e],o=i[1].split(",").map($ee);return typeof a=="function"?a(o):o[a]}const qee=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return rT(n,e)};function $ee(t){return parseFloat(t.trim())}const th=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nh=new Set(th),ND=t=>t===eh||t===Te,Hee=new Set(["x","y","z"]),Gee=th.filter(t=>!Hee.has(t));function Kee(t){const e=[];return Gee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $o={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>rT(e,"x"),y:(t,{transform:e})=>rT(e,"y")};$o.translateX=$o.x;$o.translateY=$o.y;const bu=new Set;let iT=!1,aT=!1,sT=!1;function jz(){if(aT){const t=Array.from(bu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Kee(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{r.getValue(a)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aT=!1,iT=!1,bu.forEach(t=>t.complete(sT)),bu.clear()}function Vz(){bu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(aT=!0)})}function Wee(){sT=!0,Vz(),jz(),sT=!1}class GA{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(bu.add(this),iT||(iT=!0,At.read(Vz),At.resolveKeyframes(jz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}Uee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bu.delete(this)}cancel(){this.state==="scheduled"&&(bu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Yee=t=>t.startsWith("--");function Xee(t,e,n){Yee(e)?t.style.setProperty(e,n):t.style[e]=n}const Qee=MA(()=>window.ScrollTimeline!==void 0),Zee={};function Jee(t,e){const n=MA(t);return()=>Zee[e]??n()}const Lz=Jee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,DD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zd([0,.65,.55,1]),circOut:zd([.55,0,1,.45]),backIn:zd([.31,.01,.66,-.59]),backOut:zd([.33,1.53,.69,.99])};function zz(t,e){if(t)return typeof t=="function"?Lz()?Dz(t,e):"ease-out":wz(t)?zd(t):Array.isArray(t)?t.map(n=>zz(n,e)||DD.easeOut):DD[t]}function ete(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:f}={},h=void 0){const d={[e]:n};f&&(d.offset=f);const p=zz(u,i);Array.isArray(p)&&(d.easing=p);const y={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(d,y)}function Uz(t){return typeof t=="function"&&"applyToOptions"in t}function tte({type:t,...e}){return Uz(t)&&Lz()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class nte extends $A{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,DA(typeof e.type!="string");const h=tte(e);this.animation=ete(n,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=qA(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(d):Xee(n,r,d),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xi(e)}get time(){return xi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ka(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Qee()?(this.animation.timeline=e,Ti):n(this)}}const Bz={anticipate:vz,backInOut:yz,circInOut:xz};function rte(t){return t in Bz}function ite(t){typeof t.ease=="string"&&rte(t.ease)&&(t.ease=Bz[t.ease])}const ww=10;class ate extends nte{constructor(e){ite(e),kz(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new HA({...o,autoplay:!1}),f=Math.max(ww,gr.now()-this.startTime),h=za(0,ww,f-ww);n.setWithVelocity(u.sample(Math.max(0,f-h)).value,u.sample(f).value,h),u.stop()}}const MD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sl.test(t)||t==="0")&&!t.startsWith("url("));function ste(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ote(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=MD(i,e),u=MD(a,e);return!o||!u?!1:ste(t)||(n==="spring"||Uz(n))&&r}function oT(t){t.duration=0,t.type="keyframes"}const lte=new Set(["opacity","clipPath","filter","transform"]),ute=MA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cte(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return ute()&&n&&lte.has(n)&&(n!=="transform"||!h)&&!f&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const fte=40;class hte extends $A{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:f,motionValue:h,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gr.now();const y={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:f,motionValue:h,element:d,...p},b=d?.KeyframeResolver||GA;this.keyframeResolver=new b(u,(w,S,E)=>this.onKeyframesResolved(w,S,y,!E),f,h,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:f,isHandoff:h,onUpdate:d}=r;this.resolvedAt=gr.now(),ote(e,a,o,u)||((Ns.instantAnimations||!f)&&d?.(qA(e,r,n)),e[0]=e[e.length-1],oT(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>fte?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!h&&cte(y),w=y.motionValue?.owner?.current,S=b?new ate({...y,element:w}):new HA(y);S.finished.then(()=>{this.notifyFinished()}).catch(Ti),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Wee()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Fz(t,e,n,r=0,i=1){const a=Array.from(t).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:u-a*r}const dte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mte(t){const e=dte.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function qz(t,e,n=1){const[r,i]=mte(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return uz(o)?parseFloat(o):o}return LA(i)?qz(i,e,n+1):i}const pte={type:"spring",stiffness:500,damping:25,restSpeed:10},gte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yte={type:"keyframes",duration:.8},vte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bte=(t,{keyframes:e})=>e.length>2?yte:nh.has(t)?t.startsWith("scale")?gte(e[1]):pte:vte,xte=t=>t!==null;function _te(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(xte),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}function $z(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function KA(t,e){const n=t?.[e]??t?.default??t;return n!==t?$z(n,t):n}function wte({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:u,from:f,elapsed:h,...d}){return!!Object.keys(d).length}const WA=(t,e,n,r={},i,a)=>o=>{const u=KA(r,t)||{},f=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ka(f);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:i};wte(u)||Object.assign(d,bte(t,d)),d.duration&&(d.duration=ka(d.duration)),d.repeatDelay&&(d.repeatDelay=ka(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(oT(d),d.delay===0&&(p=!0)),(Ns.instantAnimations||Ns.skipAnimations||i?.shouldSkipAnimations)&&(p=!0,oT(d),d.delay=0),d.allowFlatten=!u.type&&!u.ease,p&&!a&&e.get()!==void 0){const y=_te(d.keyframes,u);if(y!==void 0){At.update(()=>{d.onUpdate(y),d.onComplete()});return}}return u.isSync?new HA(d):new hte(d)};function kD(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function YA(t,e,n,r){if(typeof e=="function"){const[i,a]=kD(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=kD(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function vf(t,e,n){const r=t.getProps();return YA(r,e,n!==void 0?n:r.custom,t)}const Hz=new Set(["width","height","top","left","right","bottom",...th]),jD=30,Ete=t=>!isNaN(parseFloat(t));class Tte{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=gr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ete(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kA);const r=this.events[e].add(n);return e==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jD);return hz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lf(t,e){return new Tte(t,e)}const lT=t=>Array.isArray(t);function Ste(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lf(n))}function Ate(t){return lT(t)?t[t.length-1]||0:t}function Ite(t,e){const n=vf(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const u=Ate(a[o]);Ste(t,o,u)}}const ur=t=>!!(t&&t.getVelocity);function Cte(t){return!!(ur(t)&&t.add)}function uT(t,e){const n=t.getValue("willChange");if(Cte(n))return n.add(e);if(!n&&Ns.WillChange){const r=new Ns.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function XA(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Pte="framerAppearId",Gz="data-"+XA(Pte);function Kz(t){return t.props[Gz]}function Rte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Wz(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a,transitionEnd:o,...u}=e;const f=t.getDefaultTransition();a=a?$z(a,f):f;const h=a?.reduceMotion;r&&(a=r);const d=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const y in u){const b=t.getValue(y,t.latestValues[y]??null),w=u[y];if(w===void 0||p&&Rte(p,y))continue;const S={delay:n,...KA(a||{},y)},E=b.get();if(E!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===E&&!S.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=Kz(t);if(M){const V=window.MotionHandoffAnimation(M,y,At);V!==null&&(S.startTime=V,C=!0)}}uT(t,y);const D=h??t.shouldReduceMotion;b.start(WA(y,b,w,D&&Hz.has(y)?{type:!1}:S,t,C));const N=b.animation;N&&d.push(N)}if(o){const y=()=>At.update(()=>{o&&Ite(t,o)});d.length?Promise.all(d).then(y):y()}return d}function cT(t,e,n={}){const r=vf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Wz(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=i;return Ote(t,e,f,h,d,p,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[a,o]:[o,a];return f().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function Ote(t,e,n=0,r=0,i=0,a=1,o){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(cT(f,e,{...o,delay:n+(typeof r=="function"?0:r)+Fz(t.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function Nte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>cT(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=cT(t,e,n);else{const i=typeof e=="function"?vf(t,e,n.custom):e;r=Promise.all(Wz(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Dte={test:t=>t==="auto",parse:t=>t},Yz=t=>e=>e.test(t),Xz=[eh,Te,ja,Mo,see,aee,Dte],VD=t=>Xz.find(Yz(t));function Mte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fz(t):!0}const kte=new Set(["brightness","contrast","saturate","opacity"]);function jte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zA)||[];if(!r)return t;const i=n.replace(r,"");let a=kte.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Vte=/\b([a-z-]*)\(.*?\)/gu,fT={...sl,getAnimatableNone:t=>{const e=t.match(Vte);return e?e.map(jte).join(" "):t}},LD={...eh,transform:Math.round},Lte={rotate:Mo,rotateX:Mo,rotateY:Mo,rotateZ:Mo,scale:cy,scaleX:cy,scaleY:cy,scaleZ:cy,skew:Mo,skewX:Mo,skewY:Mo,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:_m,originX:TD,originY:TD,originZ:Te},QA={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,fontSize:Te,backgroundPositionX:Te,backgroundPositionY:Te,...Lte,zIndex:LD,fillOpacity:_m,strokeOpacity:_m,numOctaves:LD},zte={...QA,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:fT,WebkitFilter:fT},Qz=t=>zte[t];function Zz(t,e){let n=Qz(t);return n!==fT&&(n=sl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Ute=new Set(["auto","none","0"]);function Bte(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Ute.has(a)&&wm(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=Zz(n,i)}class Fte extends GA{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),LA(p))){const y=qz(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Hz.has(r)||e.length!==2)return;const[i,a]=e,o=VD(i),u=VD(a),f=ED(i),h=ED(a);if(f!==h&&$o[r]){this.needsMeasurement=!0;return}if(o!==u)if(ND(o)&&ND(u))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else $o[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Mte(e[i]))&&r.push(i);r.length&&Bte(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$o[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=$o[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function Jz(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const eU=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function hT(t){return cz(t)&&"offsetHeight"in t}const{schedule:ZA}=Ez(queueMicrotask,!1),$i={x:!1,y:!1};function tU(){return $i.x||$i.y}function qte(t){return t==="x"||t==="y"?$i[t]?null:($i[t]=!0,()=>{$i[t]=!1}):$i.x||$i.y?null:($i.x=$i.y=!0,()=>{$i.x=$i.y=!1})}function nU(t,e){const n=Jz(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function $te(t){return!(t.pointerType==="touch"||tU())}function Hte(t,e,n={}){const[r,i,a]=nU(t,n);return r.forEach(o=>{let u=!1,f=!1,h;const d=()=>{o.removeEventListener("pointerleave",w)},p=E=>{h&&(h(E),h=void 0),d()},y=E=>{u=!1,window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",y),f&&(f=!1,p(E))},b=()=>{u=!0,window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",y,i)},w=E=>{if(E.pointerType!=="touch"){if(u){f=!0;return}p(E)}},S=E=>{if(!$te(E))return;f=!1;const C=e(o,E);typeof C=="function"&&(h=C,o.addEventListener("pointerleave",w,i))};o.addEventListener("pointerenter",S,i),o.addEventListener("pointerdown",b,i)}),a}const rU=(t,e)=>e?t===e?!0:rU(t,e.parentElement):!1,JA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Gte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kte(t){return Gte.has(t.tagName)||t.isContentEditable===!0}const Wte=new Set(["INPUT","SELECT","TEXTAREA"]);function Yte(t){return Wte.has(t.tagName)||t.isContentEditable===!0}const Xy=new WeakSet;function zD(t){return e=>{e.key==="Enter"&&t(e)}}function Ew(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Xte=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=zD(()=>{if(Xy.has(n))return;Ew(n,"down");const i=zD(()=>{Ew(n,"up")}),a=()=>Ew(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function UD(t){return JA(t)&&!tU()}const BD=new WeakSet;function Qte(t,e,n={}){const[r,i,a]=nU(t,n),o=u=>{const f=u.currentTarget;if(!UD(u)||BD.has(u))return;Xy.add(f),n.stopPropagation&&BD.add(u);const h=e(f,u),d=(b,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),Xy.has(f)&&Xy.delete(f),UD(b)&&typeof h=="function"&&h(b,{success:w})},p=b=>{d(b,f===window||f===document||n.useGlobalTarget||rU(f,b.target))},y=b=>{d(b,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",y,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,i),hT(u)&&(u.addEventListener("focus",h=>Xte(h,i)),!Kte(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function eI(t){return cz(t)&&"ownerSVGElement"in t}const Qy=new WeakMap;let Zy;const iU=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:eI(r)&&"getBBox"in r?r.getBBox()[e]:r[n],Zte=iU("inline","width","offsetWidth"),Jte=iU("block","height","offsetHeight");function ene({target:t,borderBoxSize:e}){Qy.get(t)?.forEach(n=>{n(t,{get width(){return Zte(t,e)},get height(){return Jte(t,e)}})})}function tne(t){t.forEach(ene)}function nne(){typeof ResizeObserver>"u"||(Zy=new ResizeObserver(tne))}function rne(t,e){Zy||nne();const n=Jz(t);return n.forEach(r=>{let i=Qy.get(r);i||(i=new Set,Qy.set(r,i)),i.add(e),Zy?.observe(r)}),()=>{n.forEach(r=>{const i=Qy.get(r);i?.delete(e),i?.size||Zy?.unobserve(r)})}}const Jy=new Set;let nf;function ine(){nf=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Jy.forEach(e=>e(t))},window.addEventListener("resize",nf)}function ane(t){return Jy.add(t),nf||ine(),()=>{Jy.delete(t),!Jy.size&&typeof nf=="function"&&(window.removeEventListener("resize",nf),nf=void 0)}}function FD(t,e){return typeof t=="function"?ane(t):rne(t,e)}function sne(t){return eI(t)&&t.tagName==="svg"}const one=[...Xz,mn,sl],lne=t=>one.find(Yz(t)),qD=()=>({translate:0,scale:1,origin:0,originPoint:0}),rf=()=>({x:qD(),y:qD()}),$D=()=>({min:0,max:0}),_n=()=>({x:$D(),y:$D()}),dT={current:null},aU={current:!1},une=typeof window<"u";function cne(){if(aU.current=!0,!!une)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dT.current=t.matches;t.addEventListener("change",e),e()}else dT.current=!1}const fne=new WeakMap;function cb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Em(t){return typeof t=="string"||Array.isArray(t)}const tI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nI=["initial",...tI];function fb(t){return cb(t.animate)||nI.some(e=>Em(t[e]))}function sU(t){return!!(fb(t)||t.variants)}function hne(t,e,n){for(const r in e){const i=e[r],a=n[r];if(ur(i))t.addValue(r,i);else if(ur(a))t.addValue(r,Lf(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Lf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const HD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Lv={};function oU(t){Lv=t}function dne(){return Lv}class mne{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:o,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=GA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=gr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,At.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=fb(n),this.isVariantNode=sU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in y){const w=y[b];h[b]!==void 0&&ur(w)&&w.set(h[b])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,fne.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(aU.current||cne(),this.shouldReduceMotion=dT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),al(this.notifyUpdate),al(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lv){const n=Lv[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<HD.length;r++){const i=HD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=hne(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(uz(r)||fz(r))?r=parseFloat(r):!lne(r)&&sl.test(n)&&(r=Zz(e,n)),this.setBaseTarget(e,ur(r)?r.get():r)),ur(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=YA(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ur(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ZA.render(this.render)}}class lU extends mne{constructor(){super(...arguments),this.KeyframeResolver=Fte}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uU({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tw(t){return t===void 0||t===1}function mT({scale:t,scaleX:e,scaleY:n}){return!Tw(t)||!Tw(e)||!Tw(n)}function Ql(t){return mT(t)||cU(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cU(t){return GD(t.x)||GD(t.y)}function GD(t){return t&&t!=="0%"}function zv(t,e,n){const r=t-n,i=e*r;return n+i}function KD(t,e,n,r,i){return i!==void 0&&(t=zv(t,i,r)),zv(t,n,r)+e}function pT(t,e=0,n=1,r,i){t.min=KD(t.min,e,n,r,i),t.max=KD(t.max,e,n,r,i)}function fU(t,{x:e,y:n}){pT(t.x,e.translate,e.scale,e.originPoint),pT(t.y,n.translate,n.scale,n.originPoint)}const WD=.999999999999,YD=1.0000000000001;function yne(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let u=0;u<i;u++){a=n[u],o=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&sf(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fU(t,o)),r&&Ql(a.latestValues)&&sf(t,a.latestValues))}e.x<YD&&e.x>WD&&(e.x=1),e.y<YD&&e.y>WD&&(e.y=1)}function af(t,e){t.min=t.min+e,t.max=t.max+e}function XD(t,e,n,r,i=.5){const a=$t(t.min,t.max,i);pT(t,e,n,a,r)}function sf(t,e){XD(t.x,e.x,e.scaleX,e.scale,e.originX),XD(t.y,e.y,e.scaleY,e.scale,e.originY)}function hU(t,e){return uU(gne(t.getBoundingClientRect(),e))}function vne(t,e,n){const r=hU(t,n),{scroll:i}=e;return i&&(af(r.x,i.offset.x),af(r.y,i.offset.y)),r}const bne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xne=th.length;function _ne(t,e,n){let r="",i=!0;for(let a=0;a<xne;a++){const o=th[a],u=t[o];if(u===void 0)continue;let f=!0;if(typeof u=="number")f=u===(o.startsWith("scale")?1:0);else{const h=parseFloat(u);f=o.startsWith("scale")?h===1:h===0}if(!f||n){const h=eU(u,QA[o]);if(!f){i=!1;const d=bne[o]||o;r+=`${d}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function rI(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,u=!1;for(const f in e){const h=e[f];if(nh.has(f)){o=!0;continue}else if(Sz(f)){i[f]=h;continue}else{const d=eU(h,QA[f]);f.startsWith("origin")?(u=!0,a[f]=d):r[f]=d}}if(e.transform||(o||n?r.transform=_ne(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:d=0}=a;r.transformOrigin=`${f} ${h} ${d}`}}function dU(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function QD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ed={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=QD(t,e.target.x),r=QD(t,e.target.y);return`${n}% ${r}%`}},wne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=sl.parse(t);if(i.length>5)return r;const a=sl.createTransformer(t),o=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;i[0+o]/=u,i[1+o]/=f;const h=$t(u,f,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}},gT={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:wne};function mU(t,{layout:e,layoutId:n}){return nh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gT[t]||t==="opacity")}function iI(t,e,n){const r=t.style,i=e?.style,a={};if(!r)return a;for(const o in r)(ur(r[o])||i&&ur(i[o])||mU(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}function Ene(t){return window.getComputedStyle(t)}class Tne extends lU{constructor(){super(...arguments),this.type="html",this.renderInstance=dU}readValueFromInstance(e,n){if(nh.has(n))return this.projection?.isProjecting?nT(n):qee(e,n);{const r=Ene(e),i=(Sz(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hU(e,n)}build(e,n,r){rI(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return iI(e,n,r)}}const Sne={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ane={offset:"strokeDashoffset",array:"strokeDasharray"};function Ine(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Sne:Ane;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const Cne=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function pU(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...u},f,h,d){if(rI(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y}=t;p.transform&&(y.transform=p.transform,delete p.transform),(y.transform||p.transformOrigin)&&(y.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),y.transform&&(y.transformBox=d?.transformBox??"fill-box",delete p.transformBox);for(const b of Cne)p[b]!==void 0&&(y[b]=p[b],delete p[b]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&Ine(p,i,a,o,!1)}const gU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),yU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Pne(t,e,n,r){dU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(gU.has(i)?i:XA(i),e.attrs[i])}function vU(t,e,n){const r=iI(t,e,n);for(const i in t)if(ur(t[i])||ur(e[i])){const a=th.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}class Rne extends lU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nh.has(n)){const r=Qz(n);return r&&r.default||0}return n=gU.has(n)?n:XA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vU(e,n,r)}build(e,n,r){pU(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Pne(e,n,r,i)}mount(e){this.isSVGTag=yU(e.tagName),super.mount(e)}}const One=nI.length;function bU(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bU(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<One;n++){const r=nI[n],i=t.props[r];(Em(i)||i===!1)&&(e[r]=i)}return e}function xU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Nne=[...tI].reverse(),Dne=tI.length;function Mne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Nte(t,n,r)))}function kne(t){let e=Mne(t),n=ZD(),r=!0;const i=f=>(h,d)=>{const p=vf(t,d,f==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:y,transitionEnd:b,...w}=p;h={...h,...w,...b}}return h};function a(f){e=f(t)}function o(f){const{props:h}=t,d=bU(t.parent)||{},p=[],y=new Set;let b={},w=1/0;for(let E=0;E<Dne;E++){const C=Nne[E],D=n[C],N=h[C]!==void 0?h[C]:d[C],M=Em(N),V=C===f?D.isActive:null;V===!1&&(w=E);let L=N===d[C]&&N!==h[C]&&M;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),D.protectedKeys={...b},!D.isActive&&V===null||!N&&!D.prevProp||cb(N)||typeof N=="boolean")continue;const R=jne(D.prevProp,N);let O=R||C===f&&D.isActive&&!L&&M||E>w&&M,k=!1;const F=Array.isArray(N)?N:[N];let B=F.reduce(i(C),{});V===!1&&(B={});const{prevResolvedValues:U={}}=D,q={...U,...B},K=ie=>{O=!0,y.has(ie)&&(k=!0,y.delete(ie)),D.needsAnimating[ie]=!0;const de=t.getValue(ie);de&&(de.liveStyle=!1)};for(const ie in q){const de=B[ie],_e=U[ie];if(b.hasOwnProperty(ie))continue;let Ae=!1;lT(de)&&lT(_e)?Ae=!xU(de,_e):Ae=de!==_e,Ae?de!=null?K(ie):y.add(ie):de!==void 0&&y.has(ie)?K(ie):D.protectedKeys[ie]=!0}D.prevProp=N,D.prevResolvedValues=B,D.isActive&&(b={...b,...B}),r&&t.blockInitialAnimation&&(O=!1);const he=L&&R;O&&(!he||k)&&p.push(...F.map(ie=>{const de={type:C};if(typeof ie=="string"&&r&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:_e}=t,Ae=vf(_e,ie);if(_e.enteringChildren&&Ae){const{delayChildren:H}=Ae.transition||{};de.delay=Fz(_e.enteringChildren,t,H)}}return{animation:ie,options:de}}))}if(y.size){const E={};if(typeof h.initial!="boolean"){const C=vf(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(E.transition=C.transition)}y.forEach(C=>{const D=t.getBaseTarget(C),N=t.getValue(C);N&&(N.liveStyle=!0),E[C]=D??null}),p.push({animation:E})}let S=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function u(f,h){if(n[f].isActive===h)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(f,h)),n[f].isActive=h;const d=o(f);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ZD()}}}function jne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xU(e,t):!1}function Gl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZD(){return{animate:Gl(!0),whileInView:Gl(),whileHover:Gl(),whileTap:Gl(),whileDrag:Gl(),whileFocus:Gl(),exit:Gl()}}function JD(t,e){t.min=e.min,t.max=e.max}function qi(t,e){JD(t.x,e.x),JD(t.y,e.y)}function eM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const _U=1e-4,Vne=1-_U,Lne=1+_U,wU=.01,zne=0-wU,Une=0+wU;function yr(t){return t.max-t.min}function Bne(t,e,n){return Math.abs(t-e)<=n}function tM(t,e,n,r=.5){t.origin=r,t.originPoint=$t(e.min,e.max,t.origin),t.scale=yr(n)/yr(e),t.translate=$t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Vne&&t.scale<=Lne||isNaN(t.scale))&&(t.scale=1),(t.translate>=zne&&t.translate<=Une||isNaN(t.translate))&&(t.translate=0)}function tm(t,e,n,r){tM(t.x,e.x,n.x,r?r.originX:void 0),tM(t.y,e.y,n.y,r?r.originY:void 0)}function nM(t,e,n){t.min=n.min+e.min,t.max=t.min+yr(e)}function Fne(t,e,n){nM(t.x,e.x,n.x),nM(t.y,e.y,n.y)}function rM(t,e,n){t.min=e.min-n.min,t.max=t.min+yr(e)}function Uv(t,e,n){rM(t.x,e.x,n.x),rM(t.y,e.y,n.y)}function iM(t,e,n,r,i){return t-=e,t=zv(t,1/n,r),i!==void 0&&(t=zv(t,1/i,r)),t}function qne(t,e=0,n=1,r=.5,i,a=t,o=t){if(ja.test(e)&&(e=parseFloat(e),e=$t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=$t(a.min,a.max,r);t===a&&(u-=e),t.min=iM(t.min,e,n,u,i),t.max=iM(t.max,e,n,u,i)}function aM(t,e,[n,r,i],a,o){qne(t,e[n],e[r],e[i],e.scale,a,o)}const $ne=["x","scaleX","originX"],Hne=["y","scaleY","originY"];function sM(t,e,n,r){aM(t.x,e,$ne,n?n.x:void 0,r?r.x:void 0),aM(t.y,e,Hne,n?n.y:void 0,r?r.y:void 0)}function oM(t){return t.translate===0&&t.scale===1}function EU(t){return oM(t.x)&&oM(t.y)}function lM(t,e){return t.min===e.min&&t.max===e.max}function Gne(t,e){return lM(t.x,e.x)&&lM(t.y,e.y)}function uM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TU(t,e){return uM(t.x,e.x)&&uM(t.y,e.y)}function cM(t){return yr(t.x)/yr(t.y)}function fM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Aa(t){return[t("x"),t("y")]}function Kne(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:d,rotateX:p,rotateY:y,skewX:b,skewY:w}=n;h&&(r=`perspective(${h}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),w&&(r+=`skewY(${w}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const SU=["TopLeft","TopRight","BottomLeft","BottomRight"],Wne=SU.length,hM=t=>typeof t=="string"?parseFloat(t):t,dM=t=>typeof t=="number"||Te.test(t);function Yne(t,e,n,r,i,a){i?(t.opacity=$t(0,n.opacity??1,Xne(r)),t.opacityExit=$t(e.opacity??1,0,Qne(r))):a&&(t.opacity=$t(e.opacity??1,n.opacity??1,r));for(let o=0;o<Wne;o++){const u=`border${SU[o]}Radius`;let f=mM(e,u),h=mM(n,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||dM(f)===dM(h)?(t[u]=Math.max($t(hM(f),hM(h),r),0),(ja.test(h)||ja.test(f))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=$t(e.rotate||0,n.rotate||0,r))}function mM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xne=AU(0,.5,bz),Qne=AU(.5,.95,Ti);function AU(t,e,n){return r=>r<t?0:r>e?1:n(xm(t,e,r))}function Zne(t,e,n){const r=ur(t)?t:Lf(t);return r.start(WA("",r,e,n)),r.animation}function Tm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Jne=(t,e)=>t.depth-e.depth;class ere{constructor(){this.children=[],this.isDirty=!1}add(e){OA(this.children,e),this.isDirty=!0}remove(e){NA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Jne),this.isDirty=!1,this.children.forEach(e)}}function tre(t,e){const n=gr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(al(r),t(a-e))};return At.setup(r,!0),()=>al(r)}function ev(t){return ur(t)?t.get():t}class nre{constructor(){this.members=[]}add(e){OA(this.members,e),e.scheduleRender()}remove(e){if(NA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,a=e.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const tv={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Sw=["","X","Y","Z"],rre=1e3;let ire=0;function Aw(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function IU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Kz(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&IU(r)}function CU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},u=e?.()){this.id=ire++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ore),this.nodes.forEach(fre),this.nodes.forEach(hre),this.nodes.forEach(lre)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new ere)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kA),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const f=this.eventHandlers.get(o);f&&f.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=eI(o)&&!sne(o),this.instance=o;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let d,p=0;const y=()=>this.root.updateBlockedByResize=!1;At.read(()=>{p=window.innerWidth}),t(o,()=>{const b=window.innerWidth;b!==p&&(p=b,this.root.updateBlockedByResize=!0,d&&d(),d=tre(y,250),tv.hasAnimatedSinceResize&&(tv.hasAnimatedSinceResize=!1,this.nodes.forEach(yM)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||yre,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=h.getProps(),C=!this.targetLayout||!TU(this.targetLayout,b),D=!p&&y;if(this.options.layoutRoot||this.resumeFrom||D||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...KA(w,"layout"),onPlay:S,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(d,D)}else p||yM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),al(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cre),this.nodes.forEach(are),this.nodes.forEach(sre)):this.nodes.forEach(gM),this.clearAllSnapshots();const u=gr.now();Wn.delta=za(0,1e3/60,u-Wn.timestamp),Wn.timestamp=u,Wn.isProcessing=!0,yw.update.process(Wn),yw.preRender.process(Wn),yw.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ure),this.sharedNodes.forEach(mre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yr(this.snapshot.measuredBox.x)&&!yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!EU(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;o&&this.instance&&(u||Ql(this.latestValues)||d)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return o&&(f=this.removeTransform(f)),vre(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return _n();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(bre))){const{scroll:h}=this.root;h&&(af(u.x,h.offset.x),af(u.y,h.offset.y))}return u}removeElementScroll(o){const u=_n();if(qi(u,o),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&qi(u,o),af(u.x,d.offset.x),af(u.y,d.offset.y))}return u}applyTransform(o,u=!1){const f=_n();qi(f,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];!u&&d.options.layoutScroll&&d.scroll&&d!==d.root&&sf(f,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ql(d.latestValues)&&sf(f,d.latestValues)}return Ql(this.latestValues)&&sf(f,this.latestValues),f}removeTransform(o){const u=_n();qi(u,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Ql(h.latestValues))continue;mT(h.latestValues)&&h.updateSnapshot();const d=_n(),p=h.measurePageBox();qi(d,p),sM(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Ql(this.latestValues)&&sM(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!this.layout||!(d||p))return;this.resolvedRelativeTargetAt=Wn.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qi(this.target,this.layout.layoutBox),fU(this.target,this.targetDelta)):qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mT(this.parent.latestValues)||cU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,u,f){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Uv(this.relativeTargetOrigin,u,f),qi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;qi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;yne(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=_n());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eM(this.prevProjectionDelta.x,this.projectionDelta.x),eM(this.prevProjectionDelta.y,this.projectionDelta.y)),tm(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!fM(this.projectionDelta.x,this.prevProjectionDelta.x)||!fM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rf(),this.projectionDelta=rf(),this.projectionDeltaWithTransform=rf()}setAnimationOrigin(o,u=!1){const f=this.snapshot,h=f?f.latestValues:{},d={...this.latestValues},p=rf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=_n(),b=f?f.source:void 0,w=this.layout?this.layout.source:void 0,S=b!==w,E=this.getStack(),C=!E||E.members.length<=1,D=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(gre));this.animationProgress=0;let N;this.mixTargetDelta=M=>{const V=M/1e3;vM(p.x,o.x,V),vM(p.y,o.y,V),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uv(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pre(this.relativeTarget,this.relativeTargetOrigin,y,V),N&&Gne(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=_n()),qi(N,this.relativeTarget)),S&&(this.animationValues=d,Yne(d,h,this.latestValues,V,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(al(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{tv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lf(0)),this.currentAnimation=Zne(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:d}=o;if(!(!u||!f||!h)){if(this!==o&&this.layout&&h&&PU(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||_n();const p=yr(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+p;const y=yr(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+y}qi(u,f),sf(u,d),tm(this.projectionDeltaWithTransform,this.layoutCorrected,u,d)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nre),this.sharedNodes.get(o).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Aw("z",o,h,this.animationValues);for(let d=0;d<Sw.length;d++)Aw(`rotate${Sw[d]}`,o,h,this.animationValues),Aw(`skew${Sw[d]}`,o,h,this.animationValues);o.render();for(const d in h)o.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ev(u?.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ev(u?.pointerEvents)||""),this.hasProjected&&!Ql(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=Kne(this.projectionDeltaWithTransform,this.treeScale,d);f&&(p=f(d,p)),o.transform=p;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?o.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in gT){if(d[w]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:C}=gT[w],D=p==="none"?d[w]:S(d[w],h);if(E){const N=E.length;for(let M=0;M<N;M++)o[E[M]]=D}else C?this.options.visualElement.renderState.vars[w]=D:o[w]=D}this.options.layoutId&&(o.pointerEvents=h===this?ev(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(pM),this.root.sharedNodes.clear()}}}function are(t){t.updateLayout()}function sre(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Aa(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],y=yr(p);p.min=n[d].min,p.max=p.min+y}):PU(i,e.layoutBox,n)&&Aa(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],y=yr(n[d]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const o=rf();tm(o,n,e.layoutBox);const u=rf();a?tm(u,t.applyTransform(r,!0),e.measuredBox):tm(u,n,e.layoutBox);const f=!EU(o);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:y}=d;if(p&&y){const b=_n();Uv(b,e.layoutBox,p.layoutBox);const w=_n();Uv(w,n,y.layoutBox),TU(b,w)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=b,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function ore(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ure(t){t.clearSnapshot()}function pM(t){t.clearMeasurements()}function gM(t){t.isLayoutDirty=!1}function cre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fre(t){t.resolveTargetDelta()}function hre(t){t.calcProjection()}function dre(t){t.resetSkewAndRotation()}function mre(t){t.removeLeadSnapshot()}function vM(t,e,n){t.translate=$t(e.translate,0,n),t.scale=$t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bM(t,e,n,r){t.min=$t(e.min,n.min,r),t.max=$t(e.max,n.max,r)}function pre(t,e,n,r){bM(t.x,e.x,n.x,r),bM(t.y,e.y,n.y,r)}function gre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yre={duration:.45,ease:[.4,0,.1,1]},xM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_M=xM("applewebkit/")&&!xM("chrome/")?Math.round:Ti;function wM(t){t.min=_M(t.min),t.max=_M(t.max)}function vre(t){wM(t.x),wM(t.y)}function PU(t,e,n){return t==="position"||t==="preserve-aspect"&&!Bne(cM(e),cM(n),.2)}function bre(t){return t!==t.root&&t.scroll?.wasRoot}const xre=CU({attachResizeListener:(t,e)=>Tm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Iw={current:void 0},RU=CU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Iw.current){const t=new xre({});t.mount(window),t.setOptions({layoutScroll:!0}),Iw.current=t}return Iw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aI=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function EM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _re(...t){return e=>{let n=!1;const r=t.map(i=>{const a=EM(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():EM(t[i],null)}}}}function wre(...t){return T.useCallback(_re(...t),t)}class Ere extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=hT(r)&&r.offsetWidth||0,a=hT(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Tre({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:a}){const o=T.useId(),u=T.useRef(null),f=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=T.useContext(aI),d=t.props?.ref??t?.ref,p=wre(u,d);return T.useInsertionEffect(()=>{const{width:y,height:b,top:w,left:S,right:E,bottom:C}=f.current;if(e||a===!1||!u.current||!y||!b)return;const D=n==="left"?`left: ${S}`:`right: ${E}`,N=r==="bottom"?`bottom: ${C}`:`top: ${w}`;u.current.dataset.motionPopId=o;const M=document.createElement("style");h&&(M.nonce=h);const V=i??document.head;return V.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${b}px !important;
            ${D}px !important;
            ${N}px !important;
          }
        `),()=>{V.contains(M)&&V.removeChild(M)}},[e]),_.jsx(Ere,{isPresent:e,childRef:u,sizeRef:f,pop:a,children:a===!1?t:T.cloneElement(t,{ref:p})})}const Sre=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:u,anchorY:f,root:h})=>{const d=RA(Are),p=T.useId();let y=!0,b=T.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:w=>{d.set(w,!0);for(const S of d.values())if(!S)return;r&&r()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[n,d,r]);return a&&y&&(b={...b}),T.useMemo(()=>{d.forEach((w,S)=>d.set(S,!1))},[n]),T.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),t=_.jsx(Tre,{pop:o==="popLayout",isPresent:n,anchorX:u,anchorY:f,root:h,children:t}),_.jsx(ub.Provider,{value:b,children:t})};function Are(){return new Map}function OU(t=!0){const e=T.useContext(ub);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=T.useId();T.useEffect(()=>{if(t)return i(a)},[t]);const o=T.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const fy=t=>t.key||"";function TM(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const xu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:u="left",anchorY:f="top",root:h})=>{const[d,p]=OU(o),y=T.useMemo(()=>TM(t),[t]),b=o&&!d?[]:y.map(fy),w=T.useRef(!0),S=T.useRef(y),E=RA(()=>new Map),C=T.useRef(new Set),[D,N]=T.useState(y),[M,V]=T.useState(y);lz(()=>{w.current=!1,S.current=y;for(let O=0;O<M.length;O++){const k=fy(M[O]);b.includes(k)?(E.delete(k),C.current.delete(k)):E.get(k)!==!0&&E.set(k,!1)}},[M,b.length,b.join("-")]);const L=[];if(y!==D){let O=[...y];for(let k=0;k<M.length;k++){const F=M[k],B=fy(F);b.includes(B)||(O.splice(k,0,F),L.push(F))}return a==="wait"&&L.length&&(O=L),V(TM(O)),N(y),null}const{forceRender:R}=T.useContext(PA);return _.jsx(_.Fragment,{children:M.map(O=>{const k=fy(O),F=o&&!d?!1:y===M||b.includes(k),B=()=>{if(C.current.has(k))return;if(C.current.add(k),E.has(k))E.set(k,!0);else return;let U=!0;E.forEach(q=>{q||(U=!1)}),U&&(R?.(),V(S.current),o&&p?.(),r&&r())};return _.jsx(Sre,{isPresent:F,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:h,onExitComplete:F?void 0:B,anchorX:u,anchorY:f,children:O},k)})})},NU=T.createContext({strict:!1}),SM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let AM=!1;function Ire(){if(AM)return;const t={};for(const e in SM)t[e]={isEnabled:n=>SM[e].some(r=>!!n[r])};oU(t),AM=!0}function DU(){return Ire(),dne()}function Cre(t){const e=DU();for(const n in t)e[n]={...e[n],...t[n]};oU(e)}const Pre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Bv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Pre.has(t)}let MU=t=>!Bv(t);function Rre(t){typeof t=="function"&&(MU=e=>e.startsWith("on")?!Bv(e):t(e))}try{Rre(require("@emotion/is-prop-valid").default)}catch{}function Ore(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(MU(i)||n===!0&&Bv(i)||!e&&!Bv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const hb=T.createContext({});function Nre(t,e){if(fb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Em(n)?n:void 0,animate:Em(r)?r:void 0}}return t.inherit!==!1?e:{}}function Dre(t){const{initial:e,animate:n}=Nre(t,T.useContext(hb));return T.useMemo(()=>({initial:e,animate:n}),[IM(e),IM(n)])}function IM(t){return Array.isArray(t)?t.join(" "):t}const sI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kU(t,e,n){for(const r in e)!ur(e[r])&&!mU(r,n)&&(t[r]=e[r])}function Mre({transformTemplate:t},e){return T.useMemo(()=>{const n=sI();return rI(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kre(t,e){const n=t.style||{},r={};return kU(r,n,t),Object.assign(r,Mre(t,e)),r}function jre(t,e){const n={},r=kre(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const jU=()=>({...sI(),attrs:{}});function Vre(t,e,n,r){const i=T.useMemo(()=>{const a=jU();return pU(a,e,yU(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};kU(a,t.style,t),i.style={...a,...i.style}}return i}const Lre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oI(t){return typeof t!="string"||t.includes("-")?!1:!!(Lre.indexOf(t)>-1||/[A-Z]/u.test(t))}function zre(t,e,n,{latestValues:r},i,a=!1,o){const f=(o??oI(t)?Vre:jre)(e,r,i,t),h=Ore(e,typeof t=="string",a),d=t!==T.Fragment?{...h,...f,ref:n}:{},{children:p}=e,y=T.useMemo(()=>ur(p)?p.get():p,[p]);return T.createElement(t,{...d,children:y})}function Ure({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Bre(n,r,i,t),renderState:e()}}function Bre(t,e,n,r){const i={},a=r(t,{});for(const y in a)i[y]=ev(a[y]);let{initial:o,animate:u}=t;const f=fb(t),h=sU(t);e&&h&&!f&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const p=d?u:o;if(p&&typeof p!="boolean"&&!cb(p)){const y=Array.isArray(p)?p:[p];for(let b=0;b<y.length;b++){const w=YA(t,y[b]);if(w){const{transitionEnd:S,transition:E,...C}=w;for(const D in C){let N=C[D];if(Array.isArray(N)){const M=d?N.length-1:0;N=N[M]}N!==null&&(i[D]=N)}for(const D in S)i[D]=S[D]}}}return i}const VU=t=>(e,n)=>{const r=T.useContext(hb),i=T.useContext(ub),a=()=>Ure(t,e,r,i);return n?a():RA(a)},Fre=VU({scrapeMotionValuesFromProps:iI,createRenderState:sI}),qre=VU({scrapeMotionValuesFromProps:vU,createRenderState:jU}),$re=Symbol.for("motionComponentSymbol");function Hre(t,e,n){const r=T.useRef(n);T.useInsertionEffect(()=>{r.current=n});const i=T.useRef(null);return T.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const o=r.current;if(typeof o=="function")if(a){const u=o(a);typeof u=="function"&&(i.current=u)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[e])}const LU=T.createContext({});function Jc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Gre(t,e,n,r,i,a){const{visualElement:o}=T.useContext(hb),u=T.useContext(NU),f=T.useContext(ub),h=T.useContext(aI),d=h.reducedMotion,p=h.skipAnimations,y=T.useRef(null),b=T.useRef(!1);r=r||u.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:o,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d,skipAnimations:p,isSVG:a}),b.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const w=y.current,S=T.useContext(LU);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&Kre(y.current,n,i,S);const E=T.useRef(!1);T.useInsertionEffect(()=>{w&&E.current&&w.update(n,f)});const C=n[Gz],D=T.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return lz(()=>{b.current=!0,w&&(E.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),D.current&&w.animationState&&w.animationState.animateChanges())}),T.useEffect(()=>{w&&(!D.current&&w.animationState&&w.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),D.current=!1),w.enteringChildren=void 0)}),w}function Kre(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zU(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||u&&Jc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:f,layoutRoot:h})}function zU(t){if(t)return t.options.allowProjection!==!1?t.projection:zU(t.parent)}function Cw(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&Cre(r);const a=n?n==="svg":oI(t),o=a?qre:Fre;function u(h,d){let p;const y={...T.useContext(aI),...h,layoutId:Wre(h)},{isStatic:b}=y,w=Dre(h),S=o(h,b);if(!b&&oz){Yre();const E=Xre(y);p=E.MeasureLayout,w.visualElement=Gre(t,S,y,i,E.ProjectionNode,a)}return _.jsxs(hb.Provider,{value:w,children:[p&&w.visualElement?_.jsx(p,{visualElement:w.visualElement,...y}):null,zre(t,h,Hre(S,w.visualElement,d),S,b,e,a)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=T.forwardRef(u);return f[$re]=t,f}function Wre({layoutId:t}){const e=T.useContext(PA).id;return e&&t!==void 0?e+"-"+t:t}function Yre(t,e){T.useContext(NU).strict}function Xre(t){const e=DU(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Qre(t,e){if(typeof Proxy>"u")return Cw;const n=new Map,r=(a,o)=>Cw(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,Cw(o,void 0,t,e)),n.get(o))})}const Zre=(t,e)=>e.isSVG??oI(t)?new Rne(e):new Tne(e,{allowProjection:t!==T.Fragment});class Jre extends ml{constructor(e){super(e),e.animationState||(e.animationState=kne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let eie=0;class tie extends ml{constructor(){super(...arguments),this.id=eie++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nie={animation:{Feature:Jre},exit:{Feature:tie}};function up(t){return{point:{x:t.pageX,y:t.pageY}}}const rie=t=>e=>JA(e)&&t(e,up(e));function nm(t,e,n,r){return Tm(t,e,rie(n),r)}const UU=({current:t})=>t?t.ownerDocument.defaultView:null,CM=(t,e)=>Math.abs(t-e);function iie(t,e){const n=CM(t.x,e.x),r=CM(t.y,e.y);return Math.sqrt(n**2+r**2)}const PM=new Set(["auto","scroll"]);class BU{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Rw(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=iie(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:E}=b,{timestamp:C}=Wn;this.history.push({...E,timestamp:C});const{onStart:D,onMove:N}=this.handlers;w||(D&&D(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Pw(w,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Rw(b.type==="pointercancel"?this.lastMoveEventInfo:Pw(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,D),E&&E(b,D)},!JA(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const f=up(e),h=Pw(f,this.transformPagePoint),{point:d}=h,{timestamp:p}=Wn;this.history=[{...d,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Rw(h,this.history)),this.removeListeners=sp(nm(this.contextWindow,"pointermove",this.handlePointerMove),nm(this.contextWindow,"pointerup",this.handlePointerUp),nm(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(PM.has(r.overflowX)||PM.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),At.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),al(this.updatePoint)}}function Pw(t,e){return e?{point:e(t.point)}:t}function RM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rw({point:t},e){return{point:t,delta:RM(t,FU(e)),offset:RM(t,aie(e)),velocity:sie(e,.1)}}function aie(t){return t[0]}function FU(t){return t[t.length-1]}function sie(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=FU(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ka(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>ka(e)*2&&(r=t[1]);const a=xi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oie(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$t(n,t,r.max):Math.min(t,n)),t}function OM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lie(t,{top:e,left:n,bottom:r,right:i}){return{x:OM(t.x,n,i),y:OM(t.y,e,r)}}function NM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function uie(t,e){return{x:NM(t.x,e.x),y:NM(t.y,e.y)}}function cie(t,e){let n=.5;const r=yr(t),i=yr(e);return i>r?n=xm(e.min,e.max-r,t.min):r>i&&(n=xm(t.min,t.max-i,e.min)),za(0,1,n)}function fie(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yT=.35;function hie(t=yT){return t===!1?t=0:t===!0&&(t=yT),{x:DM(t,"left","right"),y:DM(t,"top","bottom")}}function DM(t,e,n){return{min:MM(t,e),max:MM(t,n)}}function MM(t,e){return typeof t=="number"?t:t[e]||0}const die=new WeakMap;class mie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=p=>{n&&this.snapToCursor(up(p).point),this.stopAnimation()},o=(p,y)=>{const{drag:b,dragPropagation:w,onDragStart:S}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qte(b),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Aa(C=>{let D=this.getAxisMotionValue(C).get()||0;if(ja.test(D)){const{projection:N}=this.visualElement;if(N&&N.layout){const M=N.layout.layoutBox[C];M&&(D=yr(M)*(parseFloat(D)/100))}}this.originPoint[C]=D}),S&&At.update(()=>S(p,y),!1,!0),uT(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:S,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=y;if(w&&this.currentDirection===null){this.currentDirection=gie(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),E&&At.update(()=>E(p,y),!1,!0)},f=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y,this.stop(p,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new BU(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:UU(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&At.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hy(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=oie(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Jc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lie(r.layoutBox,e):this.constraints=!1,this.elastic=hie(n),i!==this.constraints&&!Jc(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Aa(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=fie(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=vne(r,i.root,this.visualElement.getTransformPagePoint());let o=uie(i.layout.layoutBox,a);if(n){const u=n(pne(o));this.hasMutatedConstraints=!!u,u&&(o=uU(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Aa(d=>{if(!hy(d,n,this.currentDirection))return;let p=f&&f[d]||{};o&&(p={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(d,w)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return uT(this.visualElement,e),r.start(WA(e,r,0,n,this.visualElement,!1))}stopAnimation(){Aa(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Aa(n=>{const{drag:r}=this.getProps();if(!hy(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:u}=i.layout.layoutBox[n],f=a.get()||0;a.set(e[n]-$t(o,u,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Aa(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const f=u.get();i[o]=cie({min:f,max:f},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Aa(o=>{if(!hy(o,e,null))return;const u=this.getAxisMotionValue(o),{min:f,max:h}=this.constraints[o];u.set($t(f,h,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;die.set(this.visualElement,this);const e=this.visualElement.current,n=nm(e,"pointerdown",h=>{const{drag:d,dragListener:p=!0}=this.getProps(),y=h.target,b=y!==e&&Yte(y);d&&p&&!b&&this.start(h)});let r;const i=()=>{const{dragConstraints:h}=this.getProps();Jc(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),r||(r=pie(e,h.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),At.read(i);const u=Tm(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Aa(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),f&&f(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=yT,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:u}}}function kM(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function pie(t,e,n){const r=FD(t,kM(n)),i=FD(e,kM(n));return()=>{r(),i()}}function hy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yie extends ml{constructor(e){super(e),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new mie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ow=t=>(e,n)=>{t&&At.update(()=>t(e,n),!1,!0)};class vie extends ml{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(e){this.session=new BU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ow(e),onStart:Ow(n),onMove:Ow(r),onEnd:(a,o)=>{delete this.session,i&&At.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=nm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Nw=!1;class bie extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Nw&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),tv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Nw=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||At.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ZA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Nw=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qU(t){const[e,n]=OU(),r=T.useContext(PA);return _.jsx(bie,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(LU),isPresent:e,safeToRemove:n})}const xie={pan:{Feature:vie},drag:{Feature:yie,ProjectionNode:RU,MeasureLayout:qU}};function jM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&At.postRender(()=>a(e,up(e)))}class _ie extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=Hte(e,(n,r)=>(jM(this.node,r,"Start"),i=>jM(this.node,i,"End"))))}unmount(){}}class wie extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sp(Tm(this.node.current,"focus",()=>this.onFocus()),Tm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&At.postRender(()=>a(e,up(e)))}class Eie extends ml{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=Qte(e,(i,a)=>(VM(this.node,a,"Start"),(o,{success:u})=>VM(this.node,o,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const vT=new WeakMap,Dw=new WeakMap,Tie=t=>{const e=vT.get(t.target);e&&e(t)},Sie=t=>{t.forEach(Tie)};function Aie({root:t,...e}){const n=t||document;Dw.has(n)||Dw.set(n,{});const r=Dw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Sie,{root:t,...e})),r[i]}function Iie(t,e,n){const r=Aie(e);return vT.set(t,n),r.observe(t),()=>{vT.delete(t),r.unobserve(t)}}const Cie={some:0,all:1};class Pie extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Cie[i]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),y=h?d:p;y&&y(f)};return Iie(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Rie(e,n))&&this.startObserver()}unmount(){}}function Rie({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Oie={inView:{Feature:Pie},tap:{Feature:Eie},focus:{Feature:wie},hover:{Feature:_ie}},Nie={layout:{ProjectionNode:RU,MeasureLayout:qU}},Die={...nie,...Oie,...xie,...Nie},ft=Qre(Die,Zre);const $U=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const Mie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kie=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const LM=t=>{const e=kie(t);return e.charAt(0).toUpperCase()+e.slice(1)};var jie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vie=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Lie=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},f)=>T.createElement("svg",{ref:f,...jie,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$U("lucide",i),...!a&&!Vie(u)&&{"aria-hidden":"true"},...u},[...o.map(([h,d])=>T.createElement(h,d)),...Array.isArray(a)?a:[a]]));const rt=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(Lie,{ref:a,iconNode:e,className:$U(`lucide-${Mie(LM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=LM(t),n};const zie=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uie=rt("activity",zie);const Bie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fie=rt("arrow-left",Bie);const qie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zM=rt("arrow-right",qie);const $ie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zl=rt("check",$ie);const Hie=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Gie=rt("chromium",Hie);const Kie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],UM=rt("circle-alert",Kie);const Wie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],dy=rt("circle-plus",Wie);const Yie=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bT=rt("circle-play",Yie);const Xie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sm=rt("dollar-sign",Xie);const Qie=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Zie=rt("headphones",Qie);const Jie=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Mw=rt("heart",Jie);const eae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xT=rt("info",eae);const tae=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],nae=rt("list-music",tae);const rae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iae=rt("log-out",rae);const aae=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],sae=rt("mic",aae);const oae=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],lae=rt("music-2",oae);const uae=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],lI=rt("music",uae);const cae=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Fv=rt("pause",cae);const fae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HU=rt("pen",fae);const hae=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],su=rt("play",hae);const dae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mae=rt("plus",dae);const pae=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],gae=rt("repeat",pae);const yae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vae=rt("search",yae);const bae=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],xae=rt("shuffle",bae);const _ae=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],wae=rt("skip-back",_ae);const Eae=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Tae=rt("skip-forward",Eae);const Sae=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kw=rt("star",Sae);const Aae=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Iae=rt("text-align-start",Aae);const Cae=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pae=rt("trash-2",Cae);const Rae=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Oae=rt("trending-up",Rae);const Nae=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dae=rt("upload",Nae);const Mae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kae=rt("users",Mae);const jae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qv=rt("x",jae);function GU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GU(t))&&(r&&(r+=" "),r+=e);return r}const my={name:"Etao",image:"/profile_final.jpg",bio:"Spells to raise your vibration and heal."};function Vae(){const t=zs(),{user:e,updateWallet:n}=dl(),{tracks:r,playTrack:i,currentTrack:a,isPlaying:o,audioRef:u}=CA(),[f,h]=T.useState(!1),[d,p]=T.useState(100),[y,b]=T.useState(0),[w,S]=T.useState(0),[E,C]=T.useState(!1),[D,N]=T.useState([]);T.useEffect(()=>{if(a?.lyrics){const K=a.lyrics.split(`
`).map(he=>{const W=he.match(/\[(\d{2}):(\d{2})\](.*)/);if(W){const ie=parseInt(W[1]),de=parseInt(W[2]);return{time:ie*60+de,text:W[3].trim()}}return null}).filter(he=>he!==null);N(K)}else N([])},[a]),T.useEffect(()=>{const K=u.current;if(!K)return;const he=()=>b(K.currentTime),W=()=>S(K.duration);return K.addEventListener("timeupdate",he),K.addEventListener("loadedmetadata",W),b(K.currentTime),S(K.duration),()=>{K.removeEventListener("timeupdate",he),K.removeEventListener("loadedmetadata",W)}},[u,a]);const M=K=>{if(isNaN(K))return"0:00";const he=Math.floor(K/60),W=Math.floor(K%60);return`${he}:${W.toString().padStart(2,"0")}`},V=K=>{if(!u.current)return;const he=Number(K.target.value);u.current.currentTime=he,b(he)},[L,R]=T.useState("once"),[O,k]=T.useState(!1),[F,B]=T.useState("500"),U=()=>{const K=d/100;e&&e.walletBalance>=K?(alert(L==="monthly"?`You are amazing! You've started a ${d} AF/month recurring tip for ${my.name}. The first month has been sent.`:"Thank you for feeding this artist!"),n(-K),h(!1)):alert("Insufficient funds in wallet.")},q=()=>{const K=parseInt(F);if(isNaN(K)||K<500){alert("Minimum deposit is 500 AF ($5.00)");return}const he=K/100;n(he),k(!1),alert(`Successfully added ${K} AF to your wallet!`)};return _.jsxs("div",{className:"min-h-screen pb-24",children:[_.jsxs("nav",{className:"flex justify-between items-center p-6 max-w-7xl mx-auto",children:[_.jsxs("div",{onClick:()=>t("/"),className:"flex items-center gap-3 font-bold text-3xl tracking-tight cursor-pointer hover:opacity-80 transition-opacity",children:[_.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-16 w-auto"}),_.jsxs("span",{children:[_.jsx("span",{className:"text-purple-600",children:"Artists"})," ",_.jsx("span",{className:"text-brand-teal",children:"First"})]})]}),_.jsx("div",{className:"flex flex-col gap-2 items-end",children:e?_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("button",{onClick:()=>{k(!0),B("500")},className:"bg-slate-100 px-3 py-1 rounded-full text-xs font-bold text-slate-700 border border-slate-200 hover:bg-slate-200 hover:border-slate-300 transition-all cursor-pointer flex items-center gap-2 group",children:[_.jsxs("span",{children:["Wallet: ",_.jsxs("span",{className:"text-teal-600 group-hover:text-teal-700",children:[(e.walletBalance*100).toFixed(0)," AF"]})]}),_.jsx("div",{className:"bg-teal-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px]",children:"+"})]}),_.jsxs("span",{className:"text-sm font-bold text-slate-700",children:["Hi, ",e.name]}),e.role==="artist"&&_.jsx("button",{onClick:()=>t("/dashboard"),className:"bg-slate-900 text-white px-4 py-1.5 rounded-full text-xs font-bold hover:bg-slate-800 transition-colors",children:"Dashboard"})]}):_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>t("/auth"),className:"text-xs font-bold text-slate-500 hover:text-brand-teal",children:"Create Account"}),_.jsx("button",{onClick:()=>t("/auth"),className:"bg-brand-teal text-white px-5 py-1.5 rounded-full text-xs font-bold shadow-lg shadow-teal-500/20 hover:scale-105 transition-transform",children:"Login"})]})})]}),_.jsxs("header",{className:"text-center pt-8 pb-16 px-4",children:[_.jsxs("div",{className:"mx-auto w-36 h-36 rounded-full p-1 bg-gradient-to-tr from-teal-400 to-blue-500 mb-6 shadow-xl relative",children:[_.jsx("img",{src:my.image,alt:"Profile",className:"w-full h-full rounded-full object-cover border-4 border-white"}),_.jsx("button",{onClick:()=>h(!0),className:"absolute bottom-0 right-0 bg-pink-500 text-white p-2 rounded-full shadow-lg hover:bg-pink-400 transition-colors border-4 border-white",title:"Tip Artist",children:_.jsx(Sm,{size:16})})]}),_.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:_.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 tracking-tight",children:_.jsx("span",{className:"gradient-text",children:"Etao"})})}),_.jsx("p",{className:"text-slate-500 text-lg max-w-2xl mx-auto leading-relaxed mb-6",children:my.bio}),_.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center gap-2 bg-pink-50 text-pink-600 px-4 py-2 rounded-full text-sm font-bold hover:bg-pink-100 transition-colors",children:[_.jsx(kw,{size:14,className:"fill-pink-600"}),"Send a Tip"]})]}),_.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[_.jsxs("h3",{className:"text-2xl font-bold text-slate-800 mb-8 flex items-center justify-between",children:[_.jsx("span",{children:"Latest Tracks"}),_.jsx("span",{className:"text-xs font-normal text-slate-400 bg-slate-100 px-2 py-1 rounded-lg",children:"1 AF per stream"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(K=>{const he=a?.id===K.id;return _.jsxs(ft.div,{whileHover:{y:-5},className:"bg-white rounded-2xl p-4 shadow-lg shadow-slate-200/50 border border-slate-100 flex items-center gap-4",children:[_.jsxs("div",{className:"relative w-20 h-20 shrink-0 group cursor-pointer",onClick:()=>i(K),children:[_.jsx("img",{src:K.cover,className:"w-full h-full rounded-xl object-cover shadow-sm"}),_.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/30 transition-colors rounded-xl flex items-center justify-center",children:he&&o?_.jsx(Fv,{size:28,className:"fill-white text-white"}):_.jsx(su,{size:28,className:"fill-white text-white opacity-90"})})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h4",{className:`font-bold text-lg leading-tight truncate ${he?"text-brand-teal":"text-slate-800"}`,children:K.title}),_.jsx("div",{className:"text-xs text-slate-500 mb-3",children:K.artist}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"1 AF / Play"}),_.jsxs("button",{onClick:W=>{W.stopPropagation(),h(!0)},className:"px-3 py-1.5 text-xs font-bold text-pink-500 bg-pink-50 rounded-full hover:bg-pink-100 transition-colors flex items-center gap-1",children:[_.jsx(kw,{size:10,className:"fill-pink-500"})," Tip"]})]})]})]},K.id)})})]}),_.jsx(xu,{children:E&&a&&_.jsxs(ft.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-24 right-4 z-40 bg-slate-900/95 backdrop-blur-md rounded-2xl w-full max-w-md p-6 shadow-2xl border border-slate-800 flex flex-col h-[60vh]",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-800 pb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:a.cover,className:"w-10 h-10 rounded-lg opacity-80"}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-slate-200 text-sm",children:"Lyrics"}),_.jsx("div",{className:"text-xs text-slate-500",children:a.title})]})]}),_.jsx("button",{onClick:()=>C(!1),className:"bg-slate-800 p-2 rounded-full text-slate-400 hover:text-white transition-colors",children:_.jsx(qv,{size:16})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 px-2 custom-scrollbar",children:D.length>0?D.map((K,he)=>{const W=y>=K.time&&y<(D[he+1]?.time||1/0);return _.jsx("div",{className:It("transition-all duration-300 text-center py-2 rounded-xl cursor-pointer hover:bg-white/5",W?"text-xl font-bold text-brand-teal scale-105":"text-sm text-slate-500 font-medium opacity-60"),onClick:()=>{u.current&&(u.current.currentTime=K.time,b(K.time))},children:K.text},he)}):_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-600 gap-3",children:[_.jsx(Iae,{size:48,className:"opacity-20"}),_.jsx("p",{children:"No synced lyrics available."}),_.jsx("p",{className:"text-xs",children:"Add them in the Artist Dashboard."})]})})]})}),a&&_.jsxs("div",{className:"fixed bottom-0 w-full bg-white border-t border-slate-100 p-4 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] z-50 flex items-center gap-4 justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:a.cover,className:"w-12 h-12 rounded-lg object-cover"}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-slate-900 line-clamp-1",children:a.title}),_.jsx("div",{className:"text-xs text-slate-500",children:a.artist})]})]}),_.jsxs("div",{className:"flex-1 max-w-xl mx-4 flex items-center gap-3",children:[_.jsx("span",{className:"text-xs text-slate-400 font-mono w-10 text-right",children:M(y)}),_.jsx("input",{type:"range",min:"0",max:w||100,value:y,onChange:V,className:"flex-1 h-1.5 bg-slate-200 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-brand-teal"}),_.jsx("span",{className:"text-xs text-slate-400 font-mono w-10",children:M(w)})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("button",{className:`p-2 rounded-full transition-colors ${E?"bg-brand-teal text-white shadow-lg shadow-teal-500/30":"text-slate-400 hover:bg-slate-100 hover:text-slate-600"}`,onClick:()=>C(!E),title:"Lyrics",children:_.jsx(sae,{size:20})}),_.jsx("button",{className:"w-12 h-12 bg-brand-teal rounded-full flex items-center justify-center text-white shadow-lg shadow-teal-500/30 hover:scale-105 transition-transform",onClick:()=>i(a),children:o?_.jsx(Fv,{size:24,className:"fill-white ml-0.5"}):_.jsx(su,{size:24,className:"fill-white ml-0.5"})})]})]}),_.jsx(xu,{children:f&&_.jsx(ft.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:_.jsxs(ft.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl relative",children:[_.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:""}),_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4 text-pink-500",children:_.jsx(kw,{size:32,className:"fill-pink-500"})}),_.jsxs("h3",{className:"text-2xl font-bold text-slate-900 mb-1",children:["Tip ",my.name]}),_.jsx("p",{className:"text-sm text-slate-500",children:"Support the art you love directly."})]}),_.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-6",children:[_.jsx("button",{onClick:()=>R("once"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${L==="once"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"One-time"}),_.jsx("button",{onClick:()=>R("monthly"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${L==="monthly"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Monthly"})]}),_.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[100,300,500].map(K=>_.jsxs("button",{onClick:()=>p(K),className:`py-3 rounded-xl font-bold text-sm transition-all ${d===K?"bg-pink-500 text-white shadow-lg shadow-pink-500/30 scale-105":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[K," AF"]},K))}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Custom Amount (AF)"}),_.jsxs("div",{className:"relative",children:[_.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"AF"}),_.jsx("input",{type:"number",value:d,onChange:K=>p(Number(K.target.value)),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-pink-500"})]})]}),_.jsx("button",{onClick:U,className:"w-full bg-slate-900 text-white font-bold py-4 rounded-xl text-lg hover:bg-slate-800 transition-all shadow-xl",children:L==="monthly"?`Start ${d} AF/mo`:`Send ${d} AF Tip`}),_.jsx("div",{className:"mt-4 text-[10px] text-center text-slate-400",children:"100% of tips go to the artist."})]})})}),_.jsx(xu,{children:O&&_.jsx(ft.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:_.jsxs(ft.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl relative",children:[_.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:""}),_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-4 text-teal-500",children:_.jsx(Sm,{size:32})}),_.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Buy Artist Funds (AF)"}),_.jsx("p",{className:"text-sm text-slate-500",children:"100 AF = $1.00 USD"})]}),_.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[500,1e3,2e3].map(K=>_.jsxs("button",{onClick:()=>B(K.toString()),className:`py-3 rounded-xl font-bold text-sm transition-all ${F===K.toString()?"bg-teal-500 text-white shadow-lg shadow-teal-500/30 scale-105":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[K," AF"]},K))}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Amount (AF)"}),_.jsxs("div",{className:"relative",children:[_.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"AF"}),_.jsx("input",{type:"number",value:F,onChange:K=>B(K.target.value),onBlur:()=>{const K=parseInt(F);!isNaN(K)&&K<500&&B("500")},className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-teal-500",placeholder:"500"})]}),parseInt(F)<500&&_.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Minimum purchase is 500 AF"})]}),_.jsxs("button",{onClick:q,disabled:parseInt(F)<500||isNaN(parseInt(F)),className:`w-full font-bold py-4 rounded-xl text-lg transition-all shadow-xl ${parseInt(F)<500||isNaN(parseInt(F))?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-slate-900 text-white hover:bg-slate-800"}`,children:["Buy for $",isNaN(parseInt(F))?"0.00":(parseInt(F)/100).toFixed(2)]}),_.jsx("div",{className:"mt-4 text-[10px] text-center text-slate-400",children:"Secure payment powered by Stripe (Mock)."})]})})})]})}function Lae(){const t=zs();return _.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[_.jsxs("nav",{className:"flex justify-between items-center p-6 max-w-7xl mx-auto relative z-20",children:[_.jsxs("div",{className:"flex items-center gap-2 font-bold text-2xl tracking-tight",children:[_.jsx("img",{src:"/logo.png",className:"h-12 w-auto"}),_.jsxs("span",{children:[_.jsx("span",{className:"text-purple-400",children:"Artists"})," ",_.jsx("span",{className:"text-teal-400",children:"First"})]})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("button",{onClick:()=>t("/auth",{state:{mode:"login"}}),className:"text-sm font-bold text-slate-300 hover:text-white transition-colors",children:"Login"}),_.jsx("button",{onClick:()=>t("/auth"),className:"bg-white text-slate-900 px-5 py-2 rounded-full text-sm font-bold hover:bg-teal-50 hover:text-teal-900 transition-all transform hover:scale-105",children:"Get Started"})]})]}),_.jsxs("div",{className:"relative pt-2 pb-12 px-6",children:[_.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-teal-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-purple-500/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"}),_.jsx("div",{className:"max-w-7xl mx-auto relative z-10 text-center flex flex-col items-center",children:_.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col items-center -mt-6",children:[_.jsxs("div",{className:"inline-flex items-center justify-center gap-2 bg-white/5 border border-white/10 rounded-full px-5 py-2 text-base font-medium text-teal-300 mb-4 backdrop-blur-sm text-center",children:[_.jsx("span",{className:"flex h-2.5 w-2.5 rounded-full bg-teal-400 animate-pulse shrink-0"}),_.jsx("span",{children:"The Future of Music Streaming is Here"})]}),_.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-8 leading-tight",children:["Your Art. ",_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-emerald-400",children:"Your Earnings."}),_.jsx("br",{}),_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Your Future."})]}),_.jsxs("div",{className:"text-xl text-slate-400 max-w-2xl mx-auto mb-12 leading-relaxed space-y-4",children:[_.jsxs("p",{children:["After having accounts shut down by malicious actors on major platforms, ",_.jsx("br",{className:"hidden md:block"}),_.jsx("span",{className:"text-white font-bold",children:"Etao"})," created Artists First to ensure no artist ever loses their livelihood again."]}),_.jsx("p",{children:"Trust Musicians, Producers, Artists to receive the true financial benefits for their art NOW."}),_.jsx("p",{className:"text-2xl text-white font-bold",children:"Starting with 90% of music streaming revenue."})]}),_.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[_.jsxs("button",{onClick:()=>t("/auth"),className:"w-full md:w-auto px-8 py-4 bg-teal-500 text-slate-900 rounded-2xl font-bold text-lg hover:bg-teal-400 transition-colors flex items-center justify-center gap-2 shadow-xl shadow-teal-500/20",children:[_.jsx(lI,{size:20}),"Join as an Artist"]}),_.jsxs("button",{onClick:()=>t("/etao"),className:"w-full md:w-auto px-8 py-4 bg-white/5 border border-white/10 text-white rounded-2xl font-bold text-lg hover:bg-white/10 transition-colors flex items-center justify-center gap-2 backdrop-blur-sm",children:[_.jsx(bT,{size:20}),"Listen Now"]})]})]})})]}),_.jsx("div",{className:"py-12 bg-slate-900/50 relative border-t border-white/5",children:_.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why we're different"}),_.jsx("p",{className:"text-slate-400",children:"We've rebuilt the model to serve creators, not algorithms."})]}),_.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"bg-white/10 border border-white/10 rounded-2xl p-8 opacity-80 grayscale hover:grayscale-0 transition-all duration-500",children:[_.jsx("div",{className:"text-xl font-bold text-slate-300 mb-2",children:"Streaming Giants"}),_.jsx("div",{className:"text-4xl font-bold mb-1 text-slate-500",children:"$0.003"}),_.jsx("div",{className:"text-xs font-bold text-slate-500 mb-6 uppercase tracking-wide",children:"artists paid per stream"}),_.jsxs("ul",{className:"space-y-4 text-sm text-slate-400",children:[_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-red-500",children:""})," Ads or Expensive Subscriptions"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-red-500",children:""})," Closes independent artist accounts"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-red-500",children:""})," Low artist trust"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-red-500",children:""})," Algorithm control"]})]})]}),_.jsxs(ft.div,{whileHover:{y:-10},className:"bg-gradient-to-b from-slate-800 to-slate-900 border border-teal-500/30 rounded-3xl p-8 relative shadow-2xl shadow-teal-900/20 z-10",children:[_.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-teal-500 text-slate-900 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider",children:"Recommended"}),_.jsxs("div",{className:"flex items-center gap-2 font-bold text-2xl mb-2",children:[_.jsx("span",{className:"text-purple-400",children:"Artists"})," ",_.jsx("span",{className:"text-teal-400",children:"First"})]}),_.jsx("div",{className:"text-5xl font-bold mb-1 text-white",children:"90% of 1"}),_.jsx("div",{className:"text-xs font-bold text-teal-400 mb-6 uppercase tracking-wide",children:"Artists paid per stream"}),_.jsxs("ul",{className:"space-y-4 text-sm text-slate-300 font-medium",children:[_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"bg-teal-500/20 p-1 rounded-full text-teal-400",children:_.jsx(Zl,{size:12})})," Support artists you love per a listen"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"bg-teal-500/20 p-1 rounded-full text-teal-400",children:_.jsx(Zl,{size:12})})," Direct Tipping"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"bg-teal-500/20 p-1 rounded-full text-teal-400",children:_.jsx(Zl,{size:12})})," NO ADS"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"bg-teal-500/20 p-1 rounded-full text-teal-400",children:_.jsx(Zl,{size:12})})," Offline / Downloadable Streaming"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"bg-teal-500/20 p-1 rounded-full text-teal-400",children:_.jsx(Zl,{size:12})})," Lossless Audio"]})]}),_.jsx("button",{onClick:()=>t("/auth"),className:"w-full mt-8 bg-teal-500 hover:bg-teal-400 text-slate-900 font-bold py-3 rounded-xl transition-colors",children:"Start earning today"})]}),_.jsxs("div",{className:"bg-white/10 border border-white/10 rounded-2xl p-8 opacity-90",children:[_.jsx("div",{className:"text-xl font-bold text-slate-300 mb-2",children:"Marketplaces"}),_.jsx("div",{className:"text-4xl font-bold mb-6 text-slate-400",children:"85% of sales"}),_.jsxs("ul",{className:"space-y-4 text-sm text-slate-400",children:[_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"bg-slate-700/50 p-1 rounded-full",children:_.jsx(Zl,{size:12})})," Decent Revenue"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-red-500",children:""})," Clunky Interface"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-red-500",children:""})," Expensive music"]}),_.jsxs("li",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-red-500",children:""})," Limited Streaming"]})]})]})]})]})}),_.jsx("footer",{className:"border-t border-white/5 py-12 text-center text-slate-500 text-sm",children:_.jsx("p",{children:" 2026 Artists First. Raising the vibration of the music industry."})})]})}function zae(){const t=Ga(),[e,n]=T.useState(t.state?.mode==="login"?"login_form":"role_selection"),[r,i]=T.useState(""),[a,o]=T.useState(null),[u,f]=T.useState(""),[h,d]=T.useState(""),[p,y]=T.useState(""),{login:b,signup:w,loginWithGoogle:S}=dl(),E=zs(),[C,D]=T.useState(!1),N=async V=>{if(V.preventDefault(),D(!0),y(""),r.length<5){y("Password must be at least 5 characters."),D(!1);return}try{if(e==="login_form")await b(u,r),u.toLowerCase()==="cosmiccards777@gmail.com"?E("/artistdashboard"):E("/listenerdashboard");else{if(!a||!u)return;await w(u,r,a,h),E(a==="artist"?"/artistdashboard":"/genre-selection")}}catch(L){if(console.error("Auth failed:",L),Bo.currentUser){console.warn("Recovering from login error - User is authenticated."),Bo.currentUser.email?.toLowerCase()==="cosmiccards777@gmail.com"?E("/artistdashboard"):E("/listenerdashboard");return}let R=L.message;L.code==="auth/email-already-in-use"&&(R="That email is already registered."),L.code==="auth/wrong-password"&&(R="Incorrect password."),L.code==="auth/user-not-found"&&(R="No account found with that email."),L.code==="auth/operation-not-allowed"&&(R="Login method not enabled. Falling back to Dev Mode..."),y(R||"Authentication failed.")}finally{D(!1)}},M=async()=>{D(!0);try{await S(),E("/genre-selection")}catch(V){console.error("Google Login failed:",V)}finally{D(!1)}};return _.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:_.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden max-w-4xl w-full flex flex-col md:flex-row min-h-[600px]",children:[_.jsxs("div",{className:"md:w-1/2 bg-slate-900 p-12 text-white flex flex-col justify-between relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-teal-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{onClick:()=>E("/"),className:"flex items-center gap-2 font-bold text-4xl mb-4 cursor-pointer hover:opacity-80 transition-opacity",children:[_.jsx("img",{src:"/logo.png",className:"h-16 w-auto"}),_.jsxs("span",{children:[_.jsx("span",{className:"text-purple-400",children:"Artists"})," ",_.jsx("span",{className:"text-teal-400",children:"First"})]})]}),_.jsx("h1",{className:"text-4xl font-bold leading-tight mb-4",children:"Join the High Vibe Community"}),_.jsx("p",{className:"text-slate-400",children:"Connect, listen, and heal through the power of frequency."})]}),_.jsx("div",{className:"relative z-10"})]}),_.jsxs("div",{className:"md:w-1/2 p-12 flex flex-col justify-center",children:[e==="role_selection"&&_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Welcome"}),_.jsx("p",{className:"text-slate-500 mb-8",children:"How will you use Artists First today?"}),_.jsxs("div",{className:"space-y-4 mb-8",children:[_.jsxs("button",{onClick:()=>{o("listener"),n("signup_form")},className:"w-full p-6 rounded-2xl border-2 border-slate-100 hover:border-teal-500 hover:bg-teal-50 transition-all group text-left flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:_.jsx(Zie,{size:24})}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"I'm a Listener"}),_.jsx("div",{className:"text-slate-500 text-sm",children:"Discover high-vibe music"})]}),_.jsx(zM,{className:"ml-auto text-slate-300 group-hover:text-teal-500 transition-colors"})]}),_.jsxs("button",{onClick:()=>{o("artist"),n("signup_form")},className:"w-full p-6 rounded-2xl border-2 border-slate-100 hover:border-purple-500 hover:bg-purple-50 transition-all group text-left flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:_.jsx(lI,{size:24})}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"I'm an Artist"}),_.jsx("div",{className:"text-slate-500 text-sm",children:"Upload and earn 90%"})]}),_.jsx(zM,{className:"ml-auto text-slate-300 group-hover:text-purple-500 transition-colors"})]})]}),_.jsx("div",{className:"text-center pt-6 border-t border-slate-100",children:_.jsx("button",{onClick:()=>n("login_form"),className:"text-slate-500 hover:text-slate-900 font-medium",children:"Already have an account? Log in"})})]}),(e==="signup_form"||e==="login_form")&&_.jsxs(ft.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[_.jsx("button",{onClick:()=>n("role_selection"),className:"text-slate-400 hover:text-slate-600 mb-6 flex items-center gap-2 text-sm font-medium",children:" Back"}),_.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:e==="login_form"?"Welcome back":`Join as ${a==="artist"?"an Artist":"a Listener"}`}),_.jsx("p",{className:"text-slate-500 mb-8",children:"Enter your details to continue."}),_.jsxs("form",{onSubmit:N,className:"space-y-4",children:[p&&_.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-xl text-sm border border-red-100",children:p}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),_.jsx("input",{type:"email",required:!0,className:"w-full p-3 rounded-xl border border-slate-200 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none transition-all",placeholder:"name@example.com",value:u,onChange:V=>f(V.target.value)})]}),e==="signup_form"&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a==="artist"?"Artist Name":"What shall we call you?"}),_.jsx("input",{type:"text",required:!0,className:"w-full p-3 rounded-xl border border-slate-200 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none transition-all",placeholder:a==="artist"?"Stage Name":"Your Name",value:h,onChange:V=>d(V.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),_.jsx("input",{type:"password",required:!0,className:"w-full p-3 rounded-xl border border-slate-200 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none transition-all",placeholder:"",value:r,onChange:V=>i(V.target.value)})]}),_.jsx("button",{type:"submit",disabled:C,className:"w-full py-4 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-colors disabled:opacity-50",children:C?"Processing...":e==="login_form"?"Log In":"Create Account"})]}),_.jsxs("div",{className:"my-6 flex items-center gap-4",children:[_.jsx("div",{className:"h-px bg-slate-200 flex-1"}),_.jsx("span",{className:"text-slate-400 text-sm",children:"or"}),_.jsx("div",{className:"h-px bg-slate-200 flex-1"})]}),_.jsxs("button",{type:"button",onClick:M,disabled:C,className:"w-full py-3 px-6 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 font-medium rounded-xl transition-all flex items-center justify-center gap-2",children:[_.jsx(Gie,{size:18}),"Continue with Google"]}),e==="login_form"&&_.jsxs("p",{className:"text-center mt-6 text-sm text-slate-500",children:["Don't have an account?"," ",_.jsx("button",{onClick:()=>n("role_selection"),className:"text-teal-600 font-bold hover:underline",children:"Sign up"})]})]})]})]})})}var Uae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function uI(t){if(typeof t!="string")return!1;var e=Uae;return e.includes(t)}var Bae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Fae=new Set(Bae);function KU(t){return typeof t!="string"?!1:Fae.has(t)}function WU(t){return typeof t=="string"&&t.startsWith("data-")}function Ji(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(KU(n)||WU(n))&&(e[n]=t[n]);return e}function db(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ji(e)}return typeof t=="object"&&!Array.isArray(t)?Ji(t):null}function Ii(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(KU(n)||WU(n)||uI(n))&&(e[n]=t[n]);return e}function qae(t){return t==null?null:T.isValidElement(t)?Ii(t.props):typeof t=="object"&&!Array.isArray(t)?Ii(t):null}var $ae=["children","width","height","viewBox","className","style","title","desc"];function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_T.apply(null,arguments)}function Hae(t,e){if(t==null)return{};var n,r,i=Gae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YU=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:f,desc:h}=t,d=Hae(t,$ae),p=a||{width:r,height:i,x:0,y:0},y=It("recharts-surface",o);return T.createElement("svg",_T({},Ii(d),{className:y,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,f),T.createElement("desc",null,h),n)}),Kae=["children","className"];function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wT.apply(null,arguments)}function Wae(t,e){if(t==null)return{};var n,r,i=Yae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ua=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Wae(t,Kae),a=It("recharts-layer",r);return T.createElement("g",wT({className:a},Ii(i),{ref:e}),n)}),Xae=T.createContext(null);function Wt(t){return function(){return t}}const ET=Math.PI,TT=2*ET,Jl=1e-6,Qae=TT-Jl;function XU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Zae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XU:Zae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,f=r-e,h=i-n,d=o-e,p=u-n,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Jl)if(!(Math.abs(p*f-h*d)>Jl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,w=i-u,S=f*f+h*h,E=b*b+w*w,C=Math.sqrt(S),D=Math.sqrt(y),N=a*Math.tan((ET-Math.acos((S+y-E)/(2*C*D)))/2),M=N/D,V=N/C;Math.abs(M-1)>Jl&&this._append`L${e+M*d},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*b>d*w)},${this._x1=e+V*f},${this._y1=n+V*h}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,d=n+f,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>Jl||Math.abs(this._y1-d)>Jl)&&this._append`L${h},${d}`,r&&(y<0&&(y=y%TT+TT),y>Qae?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=h},${this._y1=d}`:y>Jl&&this._append`A${r},${r},0,${+(y>=ET)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function QU(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jae(e)}function cI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZU(t){this._context=t}ZU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mb(t){return new ZU(t)}function JU(t){return t[0]}function eB(t){return t[1]}function tB(t,e){var n=Wt(!0),r=null,i=mb,a=null,o=QU(u);t=typeof t=="function"?t:t===void 0?JU:Wt(t),e=typeof e=="function"?e:e===void 0?eB:Wt(e);function u(f){var h,d=(f=cI(f)).length,p,y=!1,b;for(r==null&&(a=i(b=o())),h=0;h<=d;++h)!(h<d&&n(p=f[h],h,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,h,f),+e(p,h,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Wt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function py(t,e,n){var r=null,i=Wt(!0),a=null,o=mb,u=null,f=QU(h);t=typeof t=="function"?t:t===void 0?JU:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eB:Wt(+n);function h(p){var y,b,w,S=(p=cI(p)).length,E,C=!1,D,N=new Array(S),M=new Array(S);for(a==null&&(u=o(D=f())),y=0;y<=S;++y){if(!(y<S&&i(E=p[y],y,p))===C)if(C=!C)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=b;--w)u.point(N[w],M[w]);u.lineEnd(),u.areaEnd()}C&&(N[y]=+t(E,y,p),M[y]=+e(E,y,p),u.point(r?+r(E,y,p):N[y],n?+n(E,y,p):M[y]))}if(D)return u=null,D+""||null}function d(){return tB().defined(i).curve(o).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Wt(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Wt(+p),h):n},h.lineX0=h.lineY0=function(){return d().x(t).y(e)},h.lineY1=function(){return d().x(t).y(n)},h.lineX1=function(){return d().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Wt(!!p),h):i},h.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),h):o},h.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),h):a},h}class nB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ese(t){return new nB(t,!0)}function tse(t){return new nB(t,!1)}function $v(){}function Hv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rB(t){this._context=t}rB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nse(t){return new rB(t)}function iB(t){this._context=t}iB.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rse(t){return new iB(t)}function aB(t){this._context=t}aB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ise(t){return new aB(t)}function sB(t){this._context=t}sB.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ase(t){return new sB(t)}function BM(t){return t<0?-1:1}function FM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(BM(a)+BM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function qM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function Gv(t){this._context=t}Gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jw(this,this._t0,qM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jw(this,qM(this,n=FM(this,t,e)),n);break;default:jw(this,this._t0,n=FM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oB(t){this._context=new lB(t)}(oB.prototype=Object.create(Gv.prototype)).point=function(t,e){Gv.prototype.point.call(this,e,t)};function lB(t){this._context=t}lB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function sse(t){return new Gv(t)}function ose(t){return new oB(t)}function uB(t){this._context=t}uB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$M(t),i=$M(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $M(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function lse(t){return new uB(t)}function pb(t,e){this._context=t,this._t=e}pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function use(t){return new pb(t,.5)}function cse(t){return new pb(t,0)}function fse(t){return new pb(t,1)}function ju(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ST(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hse(t,e){return t[e]}function dse(t){const e=[];return e.key=t,e}function mse(){var t=Wt([]),e=ST,n=ju,r=hse;function i(a){var o=Array.from(t.apply(this,arguments),dse),u,f=o.length,h=-1,d;for(const p of a)for(u=0,++h;u<f;++u)(o[u][h]=[0,+r(p,o[u].key,h,a)]).data=p;for(u=0,d=cI(e(o));u<f;++u)o[d[u]].index=u;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?ST:typeof a=="function"?a:Wt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ju,i):n},i}function pse(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}ju(t,e)}}function gse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}ju(t,e)}}function yse(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,f=0,h=0;u<o;++u){for(var d=t[e[u]],p=d[r][1]||0,y=d[r-1][1]||0,b=(p-y)/2,w=0;w<u;++w){var S=t[e[w]],E=S[r][1]||0,C=S[r-1][1]||0;b+=E-C}f+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ju(t,e)}}var Vw={},Lw={},HM;function vse(){return HM||(HM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Lw)),Lw}var zw={},GM;function cB(){return GM||(GM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(zw)),zw}var Uw={},KM;function fI(){return KM||(KM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Uw)),Uw}var Bw={},Fw={},WM;function bse(){return WM||(WM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Fw)),Fw}var YM;function hI(){return YM||(YM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bse(),n=fI();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let u=0,f="",h="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<o;){const p=i[u];h?p==="\\"&&u+1<o?(u++,f+=i[u]):p===h?h="":f+=p:d?p==='"'||p==="'"?h=p:p==="]"?(d=!1,a.push(f),f=""):f+=p:p==="["?(d=!0,f&&(a.push(f),f="")):p==="."?f&&(a.push(f),f=""):f+=p,u++}return f&&a.push(f),a}t.toPath=r})(Bw)),Bw}var XM;function dI(){return XM||(XM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vse(),n=cB(),r=fI(),i=hI();function a(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?n.isDeepKey(f)?a(u,i.toPath(f),h):h:d}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const d=u[f];return d===void 0?h:d}default:{if(Array.isArray(f))return o(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?h:d}}}function o(u,f,h){if(f.length===0)return h;let d=u;for(let p=0;p<f.length;p++){if(d==null||e.isUnsafeProperty(f[p]))return h;d=d[f[p]]}return d===void 0?h:d}t.get=a})(Vw)),Vw}var qw,QM;function xse(){return QM||(QM=1,qw=dI().get),qw}var _se=xse();const gb=ll(_se);var wse=4;function Ho(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wse,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Yn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,o)=>{var u=n[o-1];return typeof u=="string"?i+u+a:u!==void 0?i+Ho(u)+a:i+a},"")}var _i=t=>t===0?0:t>0?1:-1,Ba=t=>typeof t=="number"&&t!=+t,Vu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!Ba(t),Fa=t=>Ce(t)||typeof t=="string",Ese=0,Am=t=>{var e=++Ese;return"".concat(t||"").concat(e)},ol=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var a;if(Vu(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Ba(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},fB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Ca(t,e,n){return Ce(t)&&Ce(e)?Ho(t+n*(e-t)):e}function hB(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):gb(r,e))===n)}var fr=t=>t===null||typeof t>"u",mI=t=>fr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Or(t){return t!=null}function rh(){}var dB=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,pI=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{uI(i)&&(r[i]=(a=>n[i](n,a)))}),r},Tse=(t,e,n)=>r=>(t(e,n,r),null),Sse=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];uI(i)&&typeof a=="function"&&(r||(r={}),r[i]=Tse(a,e,n))}),r};function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ase(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return(e=Cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=Pse(t,"string");return typeof e=="symbol"?e:e+""}function Pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ni(t,e){var n=Ase({},t),r=e,i=Object.keys(e),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}var $w={},Hw={},JM;function Rse(){return JM||(JM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o,a,n);i.has(u)||i.set(u,o)}return Array.from(i.values())}t.uniqBy=e})(Hw)),Hw}var Gw={},ek;function Ose(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(Gw)),Gw}var Kw={},tk;function mB(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Kw)),Kw}var Ww={},Yw={},Xw={},nk;function Nse(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Xw)),Xw}var rk;function gI(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nse();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Yw)),Yw}var Qw={},ik;function Dse(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Qw)),Qw}var ak;function Mse(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gI(),n=Dse();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Ww)),Ww}var Zw={},Jw={},sk;function kse(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dI();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Jw)),Jw}var e1={},t1={},n1={},r1={},ok;function pB(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(r1)),r1}var i1={},lk;function gB(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(i1)),i1}var a1={},uk;function yB(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(a1)),a1}var ck;function jse(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pB(),n=gB(),r=yB();function i(d,p,y){return typeof y!="function"?i(d,p,()=>{}):a(d,p,function b(w,S,E,C,D,N){const M=y(w,S,E,C,D,N);return M!==void 0?!!M:a(w,S,b,N)},new Map)}function a(d,p,y,b){if(p===d)return!0;switch(typeof p){case"object":return o(d,p,y,b);case"function":return Object.keys(p).length>0?a(d,{...p},y,b):r.isEqualsSameValueZero(d,p);default:return e.isObject(d)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(d,p)}}function o(d,p,y,b){if(p==null)return!0;if(Array.isArray(p))return f(d,p,y,b);if(p instanceof Map)return u(d,p,y,b);if(p instanceof Set)return h(d,p,y,b);const w=Object.keys(p);if(d==null||n.isPrimitive(d))return w.length===0;if(w.length===0)return!0;if(b?.has(p))return b.get(p)===d;b?.set(p,d);try{for(let S=0;S<w.length;S++){const E=w[S];if(!n.isPrimitive(d)&&!(E in d)||p[E]===void 0&&d[E]!==void 0||p[E]===null&&d[E]!==null||!y(d[E],p[E],E,d,p,b))return!1}return!0}finally{b?.delete(p)}}function u(d,p,y,b){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[w,S]of p.entries()){const E=d.get(w);if(y(E,S,w,d,p,b)===!1)return!1}return!0}function f(d,p,y,b){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const w=new Set;for(let S=0;S<p.length;S++){const E=p[S];let C=!1;for(let D=0;D<d.length;D++){if(w.has(D))continue;const N=d[D];let M=!1;if(y(N,E,S,d,p,b)&&(M=!0),M){w.add(D),C=!0;break}}if(!C)return!1}return!0}function h(d,p,y,b){return p.size===0?!0:d instanceof Set?f([...d],[...p],y,b):!1}t.isMatchWith=i,t.isSetMatch=h})(n1)),n1}var fk;function vB(){return fk||(fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jse();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(t1)),t1}var s1={},o1={},l1={},hk;function Vse(){return hk||(hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(l1)),l1}var u1={},dk;function yI(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(u1)),u1}var c1={},mk;function bB(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",d="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",S="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",N="[object Uint32Array]",M="[object BigUint64Array]",V="[object Int8Array]",L="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",k="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=d,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=k,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=R,t.int8ArrayTag=V,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=D,t.uint32ArrayTag=N,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=C})(c1)),c1}var f1={},pk;function Lse(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(f1)),f1}var gk;function xB(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vse(),n=yI(),r=bB(),i=gB(),a=Lse();function o(d,p){return u(d,void 0,d,new Map,p)}function u(d,p,y,b=new Map,w=void 0){const S=w?.(d,p,y,b);if(S!==void 0)return S;if(i.isPrimitive(d))return d;if(b.has(d))return b.get(d);if(Array.isArray(d)){const E=new Array(d.length);b.set(d,E);for(let C=0;C<d.length;C++)E[C]=u(d[C],C,y,b,w);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;b.set(d,E);for(const[C,D]of d)E.set(C,u(D,C,y,b,w));return E}if(d instanceof Set){const E=new Set;b.set(d,E);for(const C of d)E.add(u(C,void 0,y,b,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);b.set(d,E);for(let C=0;C<d.length;C++)E[C]=u(d[C],C,y,b,w);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return b.set(d,E),f(E,d,y,b,w),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return b.set(d,E),f(E,d,y,b,w),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return b.set(d,E),f(E,d,y,b,w),E}if(d instanceof Error){const E=new d.constructor;return b.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,f(E,d,y,b,w),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return b.set(d,E),f(E,d,y,b,w),E}if(d instanceof Number){const E=new Number(d.valueOf());return b.set(d,E),f(E,d,y,b,w),E}if(d instanceof String){const E=new String(d.valueOf());return b.set(d,E),f(E,d,y,b,w),E}if(typeof d=="object"&&h(d)){const E=Object.create(Object.getPrototypeOf(d));return b.set(d,E),f(E,d,y,b,w),E}return d}function f(d,p,y=d,b,w){const S=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<S.length;E++){const C=S[E],D=Object.getOwnPropertyDescriptor(d,C);(D==null||D.writable)&&(d[C]=u(p[C],C,y,b,w))}}function h(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=f})(o1)),o1}var yk;function zse(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xB();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(s1)),s1}var vk;function Use(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vB(),n=zse();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(e1)),e1}var h1={},d1={},m1={},bk;function Bse(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xB(),n=yI(),r=bB();function i(a,o){return e.cloneDeepWith(a,(u,f,h,d)=>{const p=o?.(u,f,h,d);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const y={};return d.set(a,y),e.copyProperties(y,a,h,d),y}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case r.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(m1)),m1}var xk;function Fse(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bse();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(d1)),d1}var p1={},g1={},_k;function _B(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(g1)),g1}var y1={},wk;function qse(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yI();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(y1)),y1}var Ek;function $se(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cB(),n=_B(),r=qse(),i=hI();function a(o,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&o?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=o;for(let d=0;d<f.length;d++){const p=f[d];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(p1)),p1}var Tk;function Hse(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vB(),n=fI(),r=Fse(),i=dI(),a=$se();function o(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const d=i.get(h,u);return d===void 0?a.has(h,u):f===void 0?d===void 0:e.isMatch(d,f)}}t.matchesProperty=o})(h1)),h1}var Sk;function Gse(){return Sk||(Sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mB(),n=kse(),r=Use(),i=Hse();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(Zw)),Zw}var Ak;function Kse(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rse(),n=Ose(),r=mB(),i=Mse(),a=Gse();function o(u,f=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(a.iteratee(f),1)):[]}t.uniqBy=o})($w)),$w}var v1,Ik;function Wse(){return Ik||(Ik=1,v1=Kse().uniqBy),v1}var Yse=Wse();const Ck=ll(Yse);function Xse(t,e,n){return e===!0?Ck(t,n):typeof e=="function"?Ck(t,e):t}var b1={exports:{}},x1={},_1={exports:{}},w1={};var Pk;function Qse(){if(Pk)return w1;Pk=1;var t=$f();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(p,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),S=w[0].inst,E=w[1];return a(function(){S.value=b,S.getSnapshot=y,f(S)&&E({inst:S})},[p,b,y]),i(function(){return f(S)&&E({inst:S}),p(function(){f(S)&&E({inst:S})})},[p]),o(b),b}function f(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function h(p,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return w1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,w1}var Rk;function Zse(){return Rk||(Rk=1,_1.exports=Qse()),_1.exports}var Ok;function Jse(){if(Ok)return x1;Ok=1;var t=$f(),e=Zse();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return x1.useSyncExternalStoreWithSelector=function(h,d,p,y,b){var w=a(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function C(L){if(!D){if(D=!0,N=L,L=y(L),b!==void 0&&S.hasValue){var R=S.value;if(b(R,L))return M=R}return M=L}if(R=M,r(N,L))return R;var O=y(L);return b!==void 0&&b(R,O)?(N=L,R):(N=L,M=O)}var D=!1,N,M,V=p===void 0?null:p;return[function(){return C(d())},V===null?void 0:function(){return C(V())}]},[d,p,y,b]);var E=i(h,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),f(E),E},x1}var Nk;function eoe(){return Nk||(Nk=1,b1.exports=Jse()),b1.exports}var toe=eoe(),vI=T.createContext(null),noe=t=>t,jn=()=>{var t=T.useContext(vI);return t?t.store.dispatch:noe},nv=()=>{},roe=()=>nv,ioe=(t,e)=>t===e;function De(t){var e=T.useContext(vI),n=T.useMemo(()=>e?r=>{if(r!=null)return t(r)}:nv,[e,t]);return toe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:roe,e?e.store.getState:nv,e?e.store.getState:nv,n,ioe)}function aoe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function soe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ooe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Dk=t=>Array.isArray(t)?t:[t];function loe(t){const e=Array.isArray(t[0])?t[0]:t;return ooe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function uoe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var coe=class{constructor(t){this.value=t}deref(){return this.value}},foe=typeof WeakRef<"u"?WeakRef:coe,hoe=0,Mk=1;function gy(){return{s:hoe,v:void 0,o:null,p:null}}function wB(t,e={}){let n=gy();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let u=n;const{length:f}=arguments;for(let p=0,y=f;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(b);S===void 0?(u=gy(),w.set(b,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(b);S===void 0?(u=gy(),w.set(b,u)):u=S}}const h=u;let d;if(u.s===Mk)d=u.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new foe(d):d}return h.s=Mk,h.v=d,d}return o.clearCache=()=>{n=gy(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function doe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),aoe(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...n,...f},{memoize:p,memoizeOptions:y=[],argsMemoize:b=wB,argsMemoizeOptions:w=[]}=d,S=Dk(y),E=Dk(w),C=loe(i),D=p(function(){return a++,h.apply(null,arguments)},...S),N=b(function(){o++;const V=uoe(C,arguments);return u=D.apply(null,V),u},...E);return Object.assign(N,{resultFunc:h,memoizedResultFunc:D,dependencies:C,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=doe(wB),moe=Object.assign((t,e=re)=>{soe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,u,f)=>(o[n[f]]=u,o),{}))},{withTypes:()=>moe}),E1={},T1={},S1={},kk;function poe(){return kk||(kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),u=e(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};t.compareValues=n})(S1)),S1}var A1={},I1={},jk;function EB(){return jk||(jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(I1)),I1}var Vk;function goe(){return Vk||(Vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EB(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(A1)),A1}var Lk;function yoe(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=poe(),n=goe(),r=hI();function i(a,o,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,w)=>{let S=b;for(let E=0;E<w.length&&S!=null;++E)S=S[w[E]];return S},d=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,p=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(w=>d(w,b))})).slice().sort((b,w)=>{for(let S=0;S<p.length;S++){const E=e.compareValues(b.criteria[S],w.criteria[S],u[S]);if(E!==0)return E}return 0}).map(b=>b.original)}t.orderBy=i})(T1)),T1}var C1={},zk;function voe(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(u,f)=>{for(let h=0;h<u.length;h++){const d=u[h];Array.isArray(d)&&f<a?o(d,f+1):i.push(d)}};return o(n,0),i}t.flatten=e})(C1)),C1}var P1={},Uk;function TB(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_B(),n=gI(),r=pB(),i=yB();function a(o,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],o):!1}t.isIterateeCall=a})(P1)),P1}var Bk;function boe(){return Bk||(Bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yoe(),n=voe(),r=TB();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(E1)),E1}var R1,Fk;function xoe(){return Fk||(Fk=1,R1=boe().sortBy),R1}var _oe=xoe();const yb=ll(_oe);var SB=t=>t.legend.settings,woe=t=>t.legend.size,Eoe=t=>t.legend.payload;re([Eoe,SB],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?yb(r,n):r});var yy=1;function Toe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>yy||Math.abs(o.left-e.left)>yy||Math.abs(o.top-e.top)>yy||Math.abs(o.width-e.width)>yy)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Kn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Soe=typeof Symbol=="function"&&Symbol.observable||"@@observable",qk=Soe,O1=()=>Math.random().toString(36).substring(7).split("").join("."),Aoe={INIT:`@@redux/INIT${O1()}`,REPLACE:`@@redux/REPLACE${O1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O1()}`},Kv=Aoe;function bI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function AB(t,e,n){if(typeof t!="function")throw new Error(Kn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kn(1));return n(AB)(t,e)}let r=t,i=e,a=new Map,o=a,u=0,f=!1;function h(){o===a&&(o=new Map,a.forEach((E,C)=>{o.set(C,E)}))}function d(){if(f)throw new Error(Kn(3));return i}function p(E){if(typeof E!="function")throw new Error(Kn(4));if(f)throw new Error(Kn(5));let C=!0;h();const D=u++;return o.set(D,E),function(){if(C){if(f)throw new Error(Kn(6));C=!1,h(),o.delete(D),a=null}}}function y(E){if(!bI(E))throw new Error(Kn(7));if(typeof E.type>"u")throw new Error(Kn(8));if(typeof E.type!="string")throw new Error(Kn(17));if(f)throw new Error(Kn(9));try{f=!0,i=r(i,E)}finally{f=!1}return(a=o).forEach(D=>{D()}),E}function b(E){if(typeof E!="function")throw new Error(Kn(10));r=E,y({type:Kv.REPLACE})}function w(){const E=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Kn(11));function D(){const M=C;M.next&&M.next(d())}return D(),{unsubscribe:E(D)}},[qk](){return this}}}return y({type:Kv.INIT}),{dispatch:y,subscribe:p,getState:d,replaceReducer:b,[qk]:w}}function Ioe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Kv.INIT})>"u")throw new Error(Kn(12));if(typeof n(void 0,{type:Kv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kn(13))})}function IB(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Ioe(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let f=!1;const h={};for(let d=0;d<r.length;d++){const p=r[d],y=n[p],b=o[p],w=y(b,u);if(typeof w>"u")throw u&&u.type,new Error(Kn(14));h[p]=w,f=f||w!==b}return f=f||r.length!==Object.keys(o).length,f?h:o}}function Wv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Coe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Kn(15))};const o={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},u=t.map(f=>f(o));return a=Wv(...u)(i.dispatch),{...i,dispatch:a}}}function CB(t){return bI(t)&&"type"in t&&typeof t.type=="string"}var PB=Symbol.for("immer-nothing"),$k=Symbol.for("immer-draftable"),_r=Symbol.for("immer-state");function Gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object,zf=Xr.getPrototypeOf,Yv="constructor",vb="prototype",AT="configurable",Xv="enumerable",rv="writable",Im="value",Ds=t=>!!t&&!!t[_r];function ea(t){return t?RB(t)||xb(t)||!!t[$k]||!!t[Yv]?.[$k]||_b(t)||wb(t):!1}var Poe=Xr[vb][Yv].toString(),Hk=new WeakMap;function RB(t){if(!t||!xI(t))return!1;const e=zf(t);if(e===null||e===Xr[vb])return!0;const n=Xr.hasOwnProperty.call(e,Yv)&&e[Yv];if(n===Object)return!0;if(!ef(n))return!1;let r=Hk.get(n);return r===void 0&&(r=Function.toString.call(n),Hk.set(n,r)),r===Poe}function bb(t,e,n=!0){cp(t)===0?(n?Reflect.ownKeys(t):Xr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function cp(t){const e=t[_r];return e?e.type_:xb(t)?1:_b(t)?2:wb(t)?3:0}var Gk=(t,e,n=cp(t))=>n===2?t.has(e):Xr[vb].hasOwnProperty.call(t,e),IT=(t,e,n=cp(t))=>n===2?t.get(e):t[e],Qv=(t,e,n,r=cp(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Roe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var xb=Array.isArray,_b=t=>t instanceof Map,wb=t=>t instanceof Set,xI=t=>typeof t=="object",ef=t=>typeof t=="function",N1=t=>typeof t=="boolean";function Ooe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ds=t=>t.copy_||t.base_,_I=t=>t.modified_?t.copy_:t.base_;function CT(t,e){if(_b(t))return new Map(t);if(wb(t))return new Set(t);if(xb(t))return Array[vb].slice.call(t);const n=RB(t);if(e===!0||e==="class_only"&&!n){const r=Xr.getOwnPropertyDescriptors(t);delete r[_r];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u[rv]===!1&&(u[rv]=!0,u[AT]=!0),(u.get||u.set)&&(r[o]={[AT]:!0,[rv]:!0,[Xv]:u[Xv],[Im]:t[o]})}return Xr.create(zf(t),r)}else{const r=zf(t);if(r!==null&&n)return{...t};const i=Xr.create(r);return Xr.assign(i,t)}}function wI(t,e=!1){return Eb(t)||Ds(t)||!ea(t)||(cp(t)>1&&Xr.defineProperties(t,{set:vy,add:vy,clear:vy,delete:vy}),Xr.freeze(t),e&&bb(t,(n,r)=>{wI(r,!0)},!1)),t}function Noe(){Gi(2)}var vy={[Im]:Noe};function Eb(t){return t===null||!xI(t)?!0:Xr.isFrozen(t)}var Zv="MapSet",PT="Patches",Kk="ArrayMethods",OB={};function Lu(t){const e=OB[t];return e||Gi(0,t),e}var Wk=t=>!!OB[t],Cm,NB=()=>Cm,Doe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Wk(Zv)?Lu(Zv):void 0,arrayMethodsPlugin_:Wk(Kk)?Lu(Kk):void 0});function Yk(t,e){e&&(t.patchPlugin_=Lu(PT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function RT(t){OT(t),t.drafts_.forEach(Moe),t.drafts_=null}function OT(t){t===Cm&&(Cm=t.parent_)}var Xk=t=>Cm=Doe(Cm,t);function Moe(t){const e=t[_r];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Qk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[_r].modified_&&(RT(e),Gi(4)),ea(t)&&(t=Zk(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[_r].base_,t,e)}else t=Zk(e,n);return koe(e,t,!0),RT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PB?t:void 0}function Zk(t,e){if(Eb(e))return e;const n=e[_r];if(!n)return Jv(e,t.handledSet_,t);if(!Tb(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);kB(n,t)}return n.copy_}function koe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wI(e,n)}function DB(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Tb=(t,e)=>t.scope_===e,joe=[];function MB(t,e,n,r){const i=ds(t),a=t.type_;if(r!==void 0&&IT(i,r,a)===e){Qv(i,r,n,a);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;bb(i,(f,h)=>{if(Ds(h)){const d=u.get(h)||[];d.push(f),u.set(h,d)}})}const o=t.draftLocations_.get(e)??joe;for(const u of o)Qv(i,u,n,a)}function Voe(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!Tb(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=_I(a);MB(t,a.draft_??a,o,n),kB(a,i)})}function kB(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}DB(t)}}function Loe(t,e,n){const{scope_:r}=t;if(Ds(n)){const i=n[_r];Tb(i,r)&&i.callbacks_.push(function(){iv(t);const o=_I(i);MB(t,n,o,e)})}else ea(n)&&t.callbacks_.push(function(){const a=ds(t);t.type_===3?a.has(n)&&Jv(n,r.handledSet_,r):IT(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Jv(IT(t.copy_,e,t.type_),r.handledSet_,r)})}function Jv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ds(t)||e.has(t)||!ea(t)||Eb(t)||(e.add(t),bb(t,(r,i)=>{if(Ds(i)){const a=i[_r];if(Tb(a,n)){const o=_I(a);Qv(t,r,o,t.type_),DB(a)}}else ea(i)&&Jv(i,e,n)})),t}function zoe(t,e){const n=xb(t),r={type_:n?1:0,scope_:e?e.scope_:NB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=e0;n&&(i=[r],a=Pm);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,[u,r]}var e0={get(t,e){if(e===_r)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ds(t);if(!Gk(i,e,t.type_))return Uoe(t,i,e);const a=i[e];if(t.finalized_||!ea(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Ooe(e))return a;if(a===D1(t.base_,e)){iv(t);const o=t.type_===1?+e:e,u=DT(t.scope_,a,t,o);return t.copy_[o]=u}return a},has(t,e){return e in ds(t)},ownKeys(t){return Reflect.ownKeys(ds(t))},set(t,e,n){const r=jB(ds(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=D1(ds(t),e),a=i?.[_r];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Roe(n,i)&&(n!==void 0||Gk(t.base_,e,t.type_)))return!0;iv(t),NT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Loe(t,e,n)),!0},deleteProperty(t,e){return iv(t),D1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),NT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ds(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[rv]:!0,[AT]:t.type_!==1||e!=="length",[Xv]:r[Xv],[Im]:n[e]}},defineProperty(){Gi(11)},getPrototypeOf(t){return zf(t.base_)},setPrototypeOf(){Gi(12)}},Pm={};for(let t in e0){let e=e0[t];Pm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Pm.deleteProperty=function(t,e){return Pm.set.call(this,t,e,void 0)};Pm.set=function(t,e,n){return e0.set.call(this,t[0],e,n,t[0])};function D1(t,e){const n=t[_r];return(n?ds(n):t)[e]}function Uoe(t,e,n){const r=jB(e,n);return r?Im in r?r[Im]:r.get?.call(t.draft_):void 0}function jB(t,e){if(!(e in t))return;let n=zf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=zf(n)}}function NT(t){t.modified_||(t.modified_=!0,t.parent_&&NT(t.parent_))}function iv(t){t.copy_||(t.assigned_=new Map,t.copy_=CT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Boe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ef(n)&&!ef(r)){const o=r;r=n;const u=this;return function(h=o,...d){return u.produce(h,p=>r.call(this,p,...d))}}ef(r)||Gi(6),i!==void 0&&!ef(i)&&Gi(7);let a;if(ea(n)){const o=Xk(this),u=DT(o,n,void 0);let f=!0;try{a=r(u),f=!1}finally{f?RT(o):OT(o)}return Yk(o,i),Qk(a,o)}else if(!n||!xI(n)){if(a=r(n),a===void 0&&(a=n),a===PB&&(a=void 0),this.autoFreeze_&&wI(a,!0),i){const o=[],u=[];Lu(PT).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:u}),i(o,u)}return a}else Gi(1,n)},this.produceWithPatches=(n,r)=>{if(ef(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,a;return[this.produce(n,r,(u,f)=>{i=u,a=f}),i,a]},N1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),N1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),N1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ea(e)||Gi(8),Ds(e)&&(e=Zi(e));const n=Xk(this),r=DT(n,e,void 0);return r[_r].isManual_=!0,OT(n),r}finishDraft(e,n){const r=e&&e[_r];(!r||!r.isManual_)&&Gi(9);const{scope_:i}=r;return Yk(i,n),Qk(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Lu(PT).applyPatches_;return Ds(e)?i(e,n):this.produce(e,a=>i(a,n))}};function DT(t,e,n,r){const[i,a]=_b(e)?Lu(Zv).proxyMap_(e,n):wb(e)?Lu(Zv).proxySet_(e,n):zoe(e,n);return(n?.scope_??NB()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Voe(n,a,r):a.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=f;a.modified_&&h&&h.generatePatches_(a,[],f)}),i}function Zi(t){return Ds(t)||Gi(10,t),VB(t)}function VB(t){if(!ea(t)||Eb(t))return t;const e=t[_r];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=CT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=CT(t,!0);return bb(n,(i,a)=>{Qv(n,i,VB(a))},r),e&&(e.finalized_=!1),n}var Foe=new Boe,LB=Foe.produce;function zB(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var qoe=zB(),$oe=zB,Hoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wv:Wv.apply(null,arguments)};function Ci(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Zr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>CB(r)&&r.type===t,n}var UB=class Ud extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ud.prototype)}static get[Symbol.species](){return Ud}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ud(...e[0].concat(this)):new Ud(...e.concat(this))}};function Jk(t){return ea(t)?LB(t,()=>{}):t}function by(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Goe(t){return typeof t=="boolean"}var Koe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new UB;return n&&(Goe(n)?o.push(qoe):o.push($oe(n.extraArgument))),o},BB="RTK_autoBatch",kt=()=>t=>({payload:t,meta:{[BB]:!0}}),ej=t=>e=>{setTimeout(e,t)},FB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ej(10):t.type==="callback"?t.queueNotification:ej(t.timeout),h=()=>{o=!1,a&&(a=!1,u.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),y=r.subscribe(p);return u.add(d),()=>{y(),u.delete(d)}},dispatch(d){try{return i=!d?.meta?.[BB],a=!i,a&&(o||(o=!0,f(h))),r.dispatch(d)}finally{i=!0}}})},Woe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new UB(t);return r&&i.push(FB(typeof r=="object"?r:void 0)),i};function Yoe(t){const e=Koe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(bI(n))u=IB(n);else throw new Error(Zr(1));let f;typeof r=="function"?f=r(e):f=e();let h=Wv;i&&(h=Hoe({trace:!1,...typeof i=="object"&&i}));const d=Coe(...f),p=Woe(d);let y=typeof o=="function"?o(p):p();const b=h(...y);return AB(u,a,b)}function qB(t){const e={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Zr(28));if(u in e)throw new Error(Zr(29));return e[u]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Xoe(t){return typeof t=="function"}function Qoe(t,e){let[n,r,i]=qB(e),a;if(Xoe(t))a=()=>Jk(t());else{const u=Jk(t);a=()=>u}function o(u=a(),f){let h=[n[f.type],...r.filter(({matcher:d})=>d(f)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(Ds(d)){const b=p(d,f);return b===void 0?d:b}else{if(ea(d))return LB(d,y=>p(y,f));{const y=p(d,f);if(y===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return d},u)}return o.getInitialState=a,o}var Zoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Joe=(t=21)=>{let e="",n=t;for(;n--;)e+=Zoe[Math.random()*64|0];return e},ele=Symbol.for("rtk-slice-createasyncthunk");function tle(t,e){return`${t}/${e}`}function nle({creators:t}={}){const e=t?.asyncThunk?.[ele];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Zr(11));const o=(typeof r.reducers=="function"?r.reducers(ile()):r.reducers)||{},u=Object.keys(o),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(N,M){const V=typeof N=="string"?N:N.type;if(!V)throw new Error(Zr(12));if(V in f.sliceCaseReducersByType)throw new Error(Zr(13));return f.sliceCaseReducersByType[V]=M,h},addMatcher(N,M){return f.sliceMatchers.push({matcher:N,reducer:M}),h},exposeAction(N,M){return f.actionCreators[N]=M,h},exposeCaseReducer(N,M){return f.sliceCaseReducersByName[N]=M,h}};u.forEach(N=>{const M=o[N],V={reducerName:N,type:tle(i,N),createNotation:typeof r.reducers=="function"};sle(M)?lle(V,M,h,e):ale(V,M,h)});function d(){const[N={},M=[],V=void 0]=typeof r.extraReducers=="function"?qB(r.extraReducers):[r.extraReducers],L={...N,...f.sliceCaseReducersByType};return Qoe(r.initialState,R=>{for(let O in L)R.addCase(O,L[O]);for(let O of f.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of M)R.addMatcher(O.matcher,O.reducer);V&&R.addDefaultCase(V)})}const p=N=>N,y=new Map,b=new WeakMap;let w;function S(N,M){return w||(w=d()),w(N,M)}function E(){return w||(w=d()),w.getInitialState()}function C(N,M=!1){function V(R){let O=R[N];return typeof O>"u"&&M&&(O=by(b,V,E)),O}function L(R=p){const O=by(y,M,()=>new WeakMap);return by(O,R,()=>{const k={};for(const[F,B]of Object.entries(r.selectors??{}))k[F]=rle(B,R,()=>by(b,R,E),M);return k})}return{reducerPath:N,getSelectors:L,get selectors(){return L(V)},selectSlice:V}}const D={name:i,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...C(a),injectInto(N,{reducerPath:M,...V}={}){const L=M??a;return N.inject({reducerPath:L,reducer:S},V),{...D,...C(L,!0)}}};return D}}function rle(t,e,n,r){function i(a,...o){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...o)}return i.unwrapped=t,i}var Dr=nle();function ile(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ale({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!ole(r))throw new Error(Zr(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Ci(t,o):Ci(t))}function sle(t){return t._reducerDefinitionType==="asyncThunk"}function ole(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lle({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Zr(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:f,settled:h,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:o||xy,pending:u||xy,rejected:f||xy,settled:h||xy})}function xy(){}var ule="task",$B="listener",HB="completed",EI="cancelled",cle=`task-${EI}`,fle=`task-${HB}`,MT=`${$B}-${EI}`,hle=`${$B}-${HB}`,Sb=class{constructor(t){this.code=t,this.message=`${ule} ${EI} (reason: ${t})`}name="TaskAbortError";message},TI=(t,e)=>{if(typeof t!="function")throw new TypeError(Zr(32))},t0=()=>{},GB=(t,e=t0)=>(t.catch(e),t),KB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),_u=t=>{if(t.aborted)throw new Sb(t.reason)};function WB(t,e){let n=t0;return new Promise((r,i)=>{const a=()=>i(new Sb(t.reason));if(t.aborted){a();return}n=KB(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=t0})}var dle=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Sb?"cancelled":"rejected",error:n}}finally{e?.()}},n0=t=>e=>GB(WB(t,e).then(n=>(_u(t),n))),YB=t=>{const e=n0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:bf}=Object,tj={},Ab="listenerMiddleware",mle=(t,e)=>{const n=r=>KB(t,()=>r.abort(t.reason));return(r,i)=>{TI(r);const a=new AbortController;n(a);const o=dle(async()=>{_u(t),_u(a.signal);const u=await r({pause:n0(a.signal),delay:YB(a.signal),signal:a.signal});return _u(a.signal),u},()=>a.abort(fle));return i?.autoJoin&&e.push(o.catch(t0)),{result:n0(t)(o),cancel(){a.abort(cle)}}}},ple=(t,e)=>{const n=async(r,i)=>{_u(e);let a=()=>{};const u=[new Promise((f,h)=>{let d=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),f([p,y.getState(),y.getOriginalState()])}});a=()=>{d(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await WB(e,Promise.race(u));return _u(e),f}finally{a()}};return(r,i)=>GB(n(r,i))},XB=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ci(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zr(21));return TI(a),{predicate:i,type:e,effect:a}},QB=bf(t=>{const{type:e,predicate:n,effect:r}=XB(t);return{id:Joe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>QB}),nj=(t,e)=>{const{type:n,effect:r,predicate:i}=XB(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},kT=t=>{t.pending.forEach(e=>{e.abort(MT)})},gle=(t,e)=>()=>{for(const n of e.keys())kT(n);t.clear()},rj=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},ZB=bf(Ci(`${Ab}/add`),{withTypes:()=>ZB}),yle=Ci(`${Ab}/removeAll`),JB=bf(Ci(`${Ab}/remove`),{withTypes:()=>JB}),vle=(...t)=>{console.error(`${Ab}/error`,...t)},fp=(t={})=>{const e=new Map,n=new Map,r=b=>{const w=n.get(b)??0;n.set(b,w+1)},i=b=>{const w=n.get(b)??1;w===1?n.delete(b):n.set(b,w-1)},{extra:a,onError:o=vle}=t;TI(o);const u=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),w=>{b.unsubscribe(),w?.cancelActive&&kT(b)}),f=b=>{const w=nj(e,b)??QB(b);return u(w)};bf(f,{withTypes:()=>f});const h=b=>{const w=nj(e,b);return w&&(w.unsubscribe(),b.cancelActive&&kT(w)),!!w};bf(h,{withTypes:()=>h});const d=async(b,w,S,E)=>{const C=new AbortController,D=ple(f,C.signal),N=[];try{b.pending.add(C),r(b),await Promise.resolve(b.effect(w,bf({},S,{getOriginalState:E,condition:(M,V)=>D(M,V).then(Boolean),take:D,delay:YB(C.signal),pause:n0(C.signal),extra:a,signal:C.signal,fork:mle(C.signal,N),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,V,L)=>{M!==C&&(M.abort(MT),L.delete(M))})},cancel:()=>{C.abort(MT),b.pending.delete(C)},throwIfCancelled:()=>{_u(C.signal)}})))}catch(M){M instanceof Sb||rj(o,M,{raisedBy:"effect"})}finally{await Promise.all(N),C.abort(hle),i(b),b.pending.delete(C)}},p=gle(e,n);return{middleware:b=>w=>S=>{if(!CB(S))return w(S);if(ZB.match(S))return f(S.payload);if(yle.match(S)){p();return}if(JB.match(S))return h(S.payload);let E=b.getState();const C=()=>{if(E===tj)throw new Error(Zr(23));return E};let D;try{if(D=w(S),e.size>0){const N=b.getState(),M=Array.from(e.values());for(const V of M){let L=!1;try{L=V.predicate(S,N,E)}catch(R){L=!1,rj(o,R,{raisedBy:"predicate"})}L&&d(V,S,b,C)}}}finally{E=tj}return D},startListening:f,stopListening:h,clearListeners:p}};function Zr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ble={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},e9=Dr({name:"chartLayout",initialState:ble,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:xle,setLayout:_le,setChartSize:wle,setScale:Ele}=e9.actions,Tle=e9.reducer;function t9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function et(t){return Number.isFinite(t)}function qa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Ile(t,"string");return typeof e=="symbol"?e:e+""}function Ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function er(t,e,n){return fr(t)||fr(e)?n:Fa(e)?gb(t,e,n):typeof e=="function"?e(t):n}var Cle=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=e;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Ce(t[a]))return of(of({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Ce(t[o]))return of(of({},t),{},{[o]:t[o]+(i||0)})}return t},Ka=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",n9=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,o=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(e),a||o.push(n),o},r9=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:d,ticks:p,niceTicks:y,axisType:b}=t;if(!o)return null;var w=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(S=b==="angleAxis"&&a&&a.length>=2?_i(a[0]-a[1])*2*S:S,p||y){var E=(p||y||[]).map((C,D)=>{var N=r?r.indexOf(C):C,M=o.map(N);return et(M)?{coordinate:M+S,value:C,offset:S,index:D}:null}).filter(Or);return E}return f&&h?h.map((C,D)=>{var N=o.map(C);return et(N)?{coordinate:N+S,value:C,index:D,offset:S}:null}).filter(Or):o.ticks&&d!=null?o.ticks(d).map((C,D)=>{var N=o.map(C);return et(N)?{coordinate:N+S,value:C,index:D,offset:S}:null}).filter(Or):o.domain().map((C,D)=>{var N=o.map(C);return et(N)?{coordinate:N+S,value:r?r[C]:C,index:D,offset:S}:null}).filter(Or)},Ple=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,u=0;u<n;++u){var f=t[u],h=f?.[i];if(h!=null){var d=h[1],p=h[0],y=Ba(d)?p:d;y>=0?(h[0]=a,a+=y,h[1]=a):(h[0]=o,o+=y,h[1]=o)}}}},Rle=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var u=t[o],f=u?.[i];if(f!=null){var h=Ba(f[1])?f[0]:f[1];h>=0?(f[0]=a,a+=h,f[1]=a):(f[0]=0,f[1]=0)}}}},Ole={sign:Ple,expand:pse,none:ju,silhouette:gse,wiggle:yse,positive:Rle},Nle=(t,e,n)=>{var r,i=(r=Ole[n])!==null&&r!==void 0?r:ju,a=mse().keys(e).value((u,f)=>Number(er(u,f,0))).order(ST).offset(i),o=a(t);return o.forEach((u,f)=>{u.forEach((h,d)=>{var p=er(t[d],e[f],0);Array.isArray(p)&&p.length===2&&Ce(p[0])&&Ce(p[1])&&(h[0]=p[0],h[1]=p[1])})}),o};function Dle(t){return t==null?void 0:String(t)}function aj(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!fr(i[e.dataKey])){var u=hB(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var f=er(i,fr(o)?e.dataKey:o),h=e.scale.map(f);return Ce(h)?h:null}var Mle=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},kle=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],jle=(t,e,n)=>{if(t!=null)return kle(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:o}=a,u=o.reduce((f,h)=>{var d=t9(h,e,n),p=Mle(d);return!et(p[0])||!et(p[1])?f:[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},sj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r0=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=yb(e,d=>d.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var f=i[o],h=i[o-1];a=Math.min((f?.coordinate||0)-(h?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function lj(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return of(of({},e),{},{dataKey:n,payload:r,value:i,name:a})}function i9(t,e){if(t)return String(t);if(typeof e=="string")return e}var Vle=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Lle=(t,e)=>e==="centric"?t.angle:t.radius,$s=t=>t.layout.width,Hs=t=>t.layout.height,zle=t=>t.layout.scale,a9=t=>t.layout.margin,Ib=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Cb=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ule="data-recharts-item-index",Ble="data-recharts-item-id",hp=60;function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){Fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e,n){return(e=qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=$le(t,"string");return typeof e=="symbol"?e:e+""}function $le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hle=t=>t.brush.height;function Gle(t){var e=Cb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hp;return n+i}return n},0)}function Kle(t){var e=Cb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hp;return n+i}return n},0)}function Wle(t){var e=Ib(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Yle(t){var e=Ib(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var tr=re([$s,Hs,a9,Hle,Gle,Kle,Wle,Yle,SB,woe],(t,e,n,r,i,a,o,u,f,h)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+u},y=_y(_y({},p),d),b=y.bottom;y.bottom+=r,y=Cle(y,f,h);var w=t-y.left-y.right,S=e-y.top-y.bottom;return _y(_y({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})}),Xle=re(tr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),s9=re($s,Hs,(t,e)=>({x:0,y:0,width:t,height:e})),Qle=T.createContext(null),Mr=()=>T.useContext(Qle)!=null,Pb=t=>t.brush,Rb=re([Pb,tr,a9],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ce(t.width)?t.width:e.width})),M1={},k1={},j1={},cj;function Zle(){return cj||(cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,u=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),d=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},p=()=>{h&&d(),S()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{w(),o=void 0,u=null},E=()=>{d()},C=function(...D){if(i?.aborted)return;o=this,u=D;const N=y==null;b(),f&&N&&d()};return C.schedule=b,C.cancel=S,C.flush=E,i?.addEventListener("abort",S,{once:!0}),C}t.debounce=e})(j1)),j1}var fj;function Jle(){return fj||(fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zle();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:f}=a,h=Array(2);o&&(h[0]="leading"),u&&(h[1]="trailing");let d,p=null;const y=e.debounce(function(...S){d=r.apply(this,S),p=null},i,{edges:h}),b=function(...S){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(d=r.apply(this,S),p=Date.now(),y.cancel(),y.schedule(),d):(y.apply(this,S),d)},w=()=>(y.flush(),d);return b.cancel=y.cancel,b.flush=w,b}t.debounce=n})(k1)),k1}var hj;function eue(){return hj||(hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jle();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:u})}t.throttle=n})(M1)),M1}var V1,dj;function tue(){return dj||(dj=1,V1=eue().throttle),V1}var nue=tue();const rue=ll(nue);var i0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},Oa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},o9=(t,e,n)=>{var{width:r=Oa.width,height:i=Oa.height,aspect:a,maxHeight:o}=n,u=Vu(r)?t:Number(r),f=Vu(i)?e:Number(i);return a&&a>0&&(u?f=u/a:f&&(u=f*a),o&&f!=null&&f>o&&(f=o)),{calculatedWidth:u,calculatedHeight:f}},iue={width:0,height:0,overflow:"visible"},aue={width:0,overflowX:"visible"},sue={height:0,overflowY:"visible"},oue={},lue=t=>{var{width:e,height:n}=t,r=Vu(e),i=Vu(n);return r&&i?iue:r?aue:i?sue:oue};function uue(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=Oa.width,a=Oa.height):i===void 0?i=r&&r>0?void 0:Oa.width:a===void 0&&(a=r&&r>0?void 0:Oa.height),{width:i,height:a}}function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jT.apply(null,arguments)}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return(e=fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=hue(t,"string");return typeof e=="symbol"?e:e+""}function hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l9=T.createContext(Oa.initialDimension);function due(t){return qa(t.width)&&qa(t.height)}function u9(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return due(i)?T.createElement(l9.Provider,{value:i},e):null}var SI=()=>T.useContext(l9),mue=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Oa.initialDimension,width:i,height:a,minWidth:o=Oa.minWidth,minHeight:u,maxHeight:f,children:h,debounce:d=Oa.debounce,id:p,className:y,onResize:b,style:w={}}=t,S=T.useRef(null),E=T.useRef();E.current=b,T.useImperativeHandle(e,()=>S.current);var[C,D]=T.useState({containerWidth:r.width,containerHeight:r.height}),N=T.useCallback((O,k)=>{D(F=>{var B=Math.round(O),U=Math.round(k);return F.containerWidth===B&&F.containerHeight===U?F:{containerWidth:B,containerHeight:U}})},[]);T.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return rh;var O=U=>{var q,K=U[0];if(K!=null){var{width:he,height:W}=K.contentRect;N(he,W),(q=E.current)===null||q===void 0||q.call(E,he,W)}};d>0&&(O=rue(O,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(O),{width:F,height:B}=S.current.getBoundingClientRect();return N(F,B),k.observe(S.current),()=>{k.disconnect()}},[N,d]);var{containerWidth:M,containerHeight:V}=C;i0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:R}=o9(M,V,{width:i,height:a,aspect:n,maxHeight:f});return i0(L!=null&&L>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,R,i,a,o,u,n),T.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",y),style:pj(pj({},w),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:f}),ref:S},T.createElement("div",{style:lue({width:i,height:a})},T.createElement(u9,{width:L,height:R},h)))}),gj=T.forwardRef((t,e)=>{var n=SI();if(qa(n.width)&&qa(n.height))return t.children;var{width:r,height:i}=uue({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=o9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(a)&&Ce(o)?T.createElement(u9,{width:a,height:o},t.children):T.createElement(mue,jT({},t,{width:r,height:i,ref:e}))});function AI(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ob=()=>{var t,e=Mr(),n=De(Xle),r=De(Rb),i=(t=De(Pb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},c9=()=>{var t;return(t=De(tr))!==null&&t!==void 0?t:pue},f9=()=>De($s),h9=()=>De(Hs),Ut=t=>t.layout.layoutType,ih=()=>De(Ut),II=()=>{var t=ih();if(t==="horizontal"||t==="vertical")return t},d9=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},gue=()=>{var t=ih();return t!==void 0},dp=t=>{var e=jn(),n=Mr(),{width:r,height:i}=t,a=SI(),o=r,u=i;return a&&(o=a.width>0?a.width:r,u=a.height>0?a.height:i),T.useEffect(()=>{!n&&qa(o)&&qa(u)&&e(wle({width:o,height:u}))},[e,n,o,u]),null},m9=Symbol.for("immer-nothing"),yj=Symbol.for("immer-draftable"),ei=Symbol.for("immer-state");function Ki(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Rm=Object.getPrototypeOf;function Uf(t){return!!t&&!!t[ei]}function zu(t){return t?p9(t)||Array.isArray(t)||!!t[yj]||!!t.constructor?.[yj]||mp(t)||Db(t):!1}var yue=Object.prototype.constructor.toString(),vj=new WeakMap;function p9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=vj.get(n);return r===void 0&&(r=Function.toString.call(n),vj.set(n,r)),r===yue}function a0(t,e,n=!0){Nb(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Nb(t){const e=t[ei];return e?e.type_:Array.isArray(t)?1:mp(t)?2:Db(t)?3:0}function VT(t,e){return Nb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function g9(t,e,n){const r=Nb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function vue(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function mp(t){return t instanceof Map}function Db(t){return t instanceof Set}function eu(t){return t.copy_||t.base_}function LT(t,e){if(mp(t))return new Map(t);if(Db(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=p9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ei];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Rm(t),r)}else{const r=Rm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function CI(t,e=!1){return Mb(t)||Uf(t)||!zu(t)||(Nb(t)>1&&Object.defineProperties(t,{set:wy,add:wy,clear:wy,delete:wy}),Object.freeze(t),e&&Object.values(t).forEach(n=>CI(n,!0))),t}function bue(){Ki(2)}var wy={value:bue};function Mb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var xue={};function Uu(t){const e=xue[t];return e||Ki(0,t),e}var Om;function y9(){return Om}function _ue(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bj(t,e){e&&(Uu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function zT(t){UT(t),t.drafts_.forEach(wue),t.drafts_=null}function UT(t){t===Om&&(Om=t.parent_)}function xj(t){return Om=_ue(Om,t)}function wue(t){const e=t[ei];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function _j(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ei].modified_&&(zT(e),Ki(4)),zu(t)&&(t=s0(e,t),e.parent_||o0(e,t)),e.patches_&&Uu("Patches").generateReplacementPatches_(n[ei].base_,t,e.patches_,e.inversePatches_)):t=s0(e,n,[]),zT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==m9?t:void 0}function s0(t,e,n){if(Mb(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ei];if(!i)return a0(e,(a,o)=>wj(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return o0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,u=!1;i.type_===3&&(o=new Set(a),a.clear(),u=!0),a0(o,(f,h)=>wj(t,i,a,f,h,n,u),r),o0(t,a,!1),n&&t.patches_&&Uu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function wj(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const u=Mb(i);if(!(u&&!o)){if(Uf(i)){const f=a&&e&&e.type_!==3&&!VT(e.assigned_,r)?a.concat(r):void 0,h=s0(t,i,f);if(g9(n,r,h),Uf(h))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(zu(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;s0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(mp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&o0(t,i)}}}function o0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CI(e,n)}function Eue(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:y9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=PI;n&&(i=[r],a=Nm);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var PI={get(t,e){if(e===ei)return t;const n=eu(t);if(!VT(n,e))return Tue(t,n,e);const r=n[e];return t.finalized_||!zu(r)?r:r===L1(t.base_,e)?(z1(t),t.copy_[e]=FT(r,t)):r},has(t,e){return e in eu(t)},ownKeys(t){return Reflect.ownKeys(eu(t))},set(t,e,n){const r=v9(eu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=L1(eu(t),e),a=i?.[ei];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(vue(n,i)&&(n!==void 0||VT(t.base_,e)))return!0;z1(t),BT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return L1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,z1(t),BT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=eu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ki(11)},getPrototypeOf(t){return Rm(t.base_)},setPrototypeOf(){Ki(12)}},Nm={};a0(PI,(t,e)=>{Nm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nm.deleteProperty=function(t,e){return Nm.set.call(this,t,e,void 0)};Nm.set=function(t,e,n){return PI.set.call(this,t[0],e,n,t[0])};function L1(t,e){const n=t[ei];return(n?eu(n):t)[e]}function Tue(t,e,n){const r=v9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function v9(t,e){if(!(e in t))return;let n=Rm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Rm(n)}}function BT(t){t.modified_||(t.modified_=!0,t.parent_&&BT(t.parent_))}function z1(t){t.copy_||(t.copy_=LT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Sue=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(f=a,...h){return o.produce(f,d=>n.call(this,d,...h))}}typeof n!="function"&&Ki(6),r!==void 0&&typeof r!="function"&&Ki(7);let i;if(zu(e)){const a=xj(this),o=FT(e,void 0);let u=!0;try{i=n(o),u=!1}finally{u?zT(a):UT(a)}return bj(a,r),_j(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===m9&&(i=void 0),this.autoFreeze_&&CI(i,!0),r){const a=[],o=[];Uu("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Ki(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,f=>e(f,...u));let r,i;return[this.produce(e,n,(o,u)=>{r=o,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zu(t)||Ki(8),Uf(t)&&(t=Aue(t));const e=xj(this),n=FT(t,void 0);return n[ei].isManual_=!0,UT(e),n}finishDraft(t,e){const n=t&&t[ei];(!n||!n.isManual_)&&Ki(9);const{scope_:r}=n;return bj(r,e),_j(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Uu("Patches").applyPatches_;return Uf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function FT(t,e){const n=mp(t)?Uu("MapSet").proxyMap_(t,e):Db(t)?Uu("MapSet").proxySet_(t,e):Eue(t,e);return(e?e.scope_:y9()).drafts_.push(n),n}function Aue(t){return Uf(t)||Ki(10,t),b9(t)}function b9(t){if(!zu(t)||Mb(t))return t;const e=t[ei];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=LT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=LT(t,!0);return a0(n,(i,a)=>{g9(n,i,b9(a))},r),e&&(e.finalized_=!1),n}var Iue=new Sue;Iue.produce;var Cue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},x9=Dr({name:"legend",initialState:Cue,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:kt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:kt()},removeLegendPayload:{reducer(t,e){var n=Zi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:kt()}}}),{setLegendSize:A_e,setLegendSettings:I_e,addLegendPayload:Pue,replaceLegendPayload:Rue,removeLegendPayload:Oue}=x9.actions,Nue=x9.reducer;function qT(){return qT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qT.apply(null,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e,n){return(e=Mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mue(t){var e=kue(t,"string");return typeof e=="symbol"?e:e+""}function kue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jue(t){return Array.isArray(t)&&Fa(t[0])&&Fa(t[1])?t.join(" ~ "):t}var $c={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Vue=t=>{var{separator:e=$c.separator,contentStyle:n,itemStyle:r,labelStyle:i=$c.labelStyle,payload:a,formatter:o,itemSorter:u,wrapperClassName:f,labelClassName:h,label:d,labelFormatter:p,accessibilityLayer:y=$c.accessibilityLayer}=t,b=()=>{if(a&&a.length){var V={padding:0,margin:0},L=(u?yb(a,u):a).map((R,O)=>{if(R.type==="none")return null;var k=R.formatter||o||jue,{value:F,name:B}=R,U=F,q=B;if(k){var K=k(F,B,R,O,a);if(Array.isArray(K))[U,q]=K;else if(K!=null)U=K;else return null}var he=Td(Td({},$c.itemStyle),{},{color:R.color||$c.itemStyle.color},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:he},Fa(q)?T.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Fa(q)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},U),T.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:V},L)}return null},w=Td(Td({},$c.contentStyle),n),S=Td({margin:0},i),E=!fr(d),C=E?d:"",D=It("recharts-default-tooltip",f),N=It("recharts-tooltip-label",h);E&&p&&a!==void 0&&a!==null&&(C=p(d,a));var M=y?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",qT({className:D,style:w},M),T.createElement("p",{className:N,style:S},T.isValidElement(C)?C:"".concat(C)),b())},Sd="recharts-tooltip-wrapper",Lue={visibility:"hidden"};function zue(t){var{coordinate:e,translateX:n,translateY:r}=t;return It(Sd,{["".concat(Sd,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(Sd,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(Sd,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(Sd,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function Tj(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(a&&Ce(a[r]))return a[r];var d=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?d:p;var y=f[r];if(y==null)return 0;if(o[r]){var b=d,w=y;return b<w?Math.max(p,y):Math.max(d,y)}if(h==null)return 0;var S=p+u,E=y+h;return S>E?Math.max(d,y):Math.max(p,y)}function Uue(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Bue(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:u,useTranslate3d:f,viewBox:h}=t,d,p,y;return u.height>0&&u.width>0&&n?(p=Tj({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),y=Tj({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),d=Uue({translateX:p,translateY:y,useTranslate3d:f})):d=Lue,{cssProperties:d,cssClasses:zue({translateX:p,translateY:y,coordinate:n})}}function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){$T(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $T(t,e,n){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=que(t,"string");return typeof e=="symbol"?e:e+""}function que(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $ue extends T.PureComponent{constructor(){super(...arguments),$T(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$T(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:f,offset:h,position:d,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:S,innerRef:E,hasPortalFromProps:C}=this.props,D=typeof h=="number"?h:h.x,N=typeof h=="number"?h:h.y,{cssClasses:M,cssProperties:V}=Bue({allowEscapeViewBox:n,coordinate:o,offsetLeft:D,offsetTop:N,position:d,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:b}),L=C?{}:Ey(Ey({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},V),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),R=Ey(Ey({},L),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:R,ref:E},a)}}var _9=()=>{var t;return(t=De(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HT.apply(null,arguments)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ij(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){Hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hue(t,e,n){return(e=Gue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gue(t){var e=Kue(t,"string");return typeof e=="symbol"?e:e+""}function Kue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cj={curveBasisClosed:rse,curveBasisOpen:ise,curveBasis:nse,curveBumpX:ese,curveBumpY:tse,curveLinearClosed:ase,curveLinear:mb,curveMonotoneX:sse,curveMonotoneY:ose,curveNatural:lse,curveStep:use,curveStepAfter:fse,curveStepBefore:cse},l0=t=>et(t.x)&&et(t.y),Pj=t=>t.base!=null&&l0(t.base)&&l0(t),Ad=t=>t.x,Id=t=>t.y,Wue=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(mI(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=Cj["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return Cj[n]||mb},Rj={connectNulls:!1,type:"linear"},Yue=t=>{var{type:e=Rj.type,points:n=[],baseLine:r,layout:i,connectNulls:a=Rj.connectNulls}=t,o=Wue(e,i),u=a?n.filter(l0):n;if(Array.isArray(r)){var f,h=n.map((w,S)=>Ij(Ij({},w),{},{base:r[S]}));i==="vertical"?f=py().y(Id).x1(Ad).x0(w=>w.base.x):f=py().x(Ad).y1(Id).y0(w=>w.base.y);var d=f.defined(Pj).curve(o),p=a?h.filter(Pj):h;return d(p)}var y;i==="vertical"&&Ce(r)?y=py().y(Id).x1(Ad).x0(r):Ce(r)?y=py().x(Ad).y1(Id).y0(r):y=tB().x(Ad).y(Id);var b=y.defined(l0).curve(o);return b(u)},av=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=ih();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},u=n&&n.length?Yue(o):r;return T.createElement("path",HT({},Ji(t),pI(t),{className:It("recharts-curve",e),d:u===null?void 0:u,ref:i}))},Xue=["x","y","top","left","width","height","className"];function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(null,arguments)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Que(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return(e=Jue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=ece(t,"string");return typeof e=="symbol"?e:e+""}function ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tce(t,e){if(t==null)return{};var n,r,i=nce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rce=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),ice=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=t,f=tce(t,Xue),h=Que({x:e,y:n,top:r,left:i,width:a,height:o},f);return!Ce(e)||!Ce(n)||!Ce(a)||!Ce(o)||!Ce(r)||!Ce(i)?null:T.createElement("path",GT({},Ii(h),{className:It("recharts-cross",u),d:rce(e,n,a,o,r,i)}))};function ace(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return(e=oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uce=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),cce=(t,e,n)=>t.map(r=>"".concat(uce(r)," ").concat(e,"ms ").concat(n)).join(","),fce=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Dm=(t,e)=>Object.keys(e).reduce((n,r)=>Dj(Dj({},n),{},{[r]:t(r,e[r])}),{});function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return(e=dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u0=(t,e,n)=>t+(e-t)*n,KT=t=>{var{from:e,to:n}=t;return e!==n},w9=(t,e,n)=>{var r=Dm((i,a)=>{if(KT(a)){var[o,u]=t(a.from,a.to,a.velocity);return wn(wn({},a),{},{from:o,velocity:u})}return a},e);return n<1?Dm((i,a)=>KT(a)&&r[i]!=null?wn(wn({},a),{},{velocity:u0(a.velocity,r[i].velocity,n),from:u0(a.from,r[i].from,n)}):a,e):w9(t,r,n-1)};function pce(t,e,n,r,i,a){var o,u=r.reduce((y,b)=>wn(wn({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Dm((y,b)=>b.from,u),h=()=>!Object.values(u).filter(KT).length,d=null,p=y=>{o||(o=y);var b=y-o,w=b/n.dt;u=w9(n,u,w),i(wn(wn(wn({},t),e),f())),o=y,h()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{var y;(y=d)===null||y===void 0||y()})}function gce(t,e,n,r,i,a,o){var u=null,f=i.reduce((p,y)=>{var b=t[y],w=e[y];return b==null||w==null?p:wn(wn({},p),{},{[y]:[b,w]})},{}),h,d=p=>{h||(h=p);var y=(p-h)/r,b=Dm((S,E)=>u0(...E,n(y)),f);if(a(wn(wn(wn({},t),e),b)),y<1)u=o.setTimeout(d);else{var w=Dm((S,E)=>u0(...E,n(1)),f);a(wn(wn(wn({},t),e),w))}};return()=>(u=o.setTimeout(d),()=>{var p;(p=u)===null||p===void 0||p()})}const yce=(t,e,n,r,i,a)=>{var o=fce(t,e);return n==null?()=>(i(wn(wn({},t),e)),()=>{}):n.isStepper===!0?pce(t,e,n,o,i,a):gce(t,e,n,r,o,i,a)};var c0=1e-4,E9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],T9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),kj=(t,e)=>n=>{var r=E9(t,e);return T9(r,n)},vce=(t,e)=>n=>{var r=E9(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return T9(i,n)},bce=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},xce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=bce(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},_ce=(t,e,n,r)=>{var i=kj(t,n),a=kj(e,r),o=vce(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var d=h>1?1:h,p=d,y=0;y<8;++y){var b=i(p)-d,w=o(p);if(Math.abs(b-d)<c0||w<c0)return a(p);p=u(p-b/w)}return a(p)};return f.isStepper=!1,f},jj=function(){return _ce(...xce(...arguments))},wce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,u,f)=>{var h=-(o-u)*n,d=f*r,p=f+(h-d)*i/1e3,y=f*i/1e3+o;return Math.abs(y-u)<c0&&Math.abs(p)<c0?[u,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},Ece=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jj(t);case"spring":return wce();default:if(t.split("(")[0]==="cubic-bezier")return jj(t)}return typeof t=="function"?t:null};function Tce(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Sce{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Ace(){return Tce(new Sce)}var Ice=T.createContext(Ace);function Cce(t,e){var n=T.useContext(Ice);return T.useMemo(()=>e??n(t),[t,e,n])}var Pce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pp={isSsr:Pce()},Rce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vj={t:0},U1={t:1};function S9(t){var e=ni(t,Rce),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f,children:h}=e,d=n==="auto"?!pp.isSsr:n,p=Cce(e.animationId,e.animationManager),[y,b]=T.useState(d?Vj:U1),w=T.useRef(null);return T.useEffect(()=>{d||b(U1)},[d]),T.useEffect(()=>{if(!d||!r)return rh;var S=yce(Vj,U1,Ece(a),i,b,p.getTimeoutController()),E=()=>{w.current=S()};return p.start([f,o,E,i,u]),()=>{p.stop(),w.current&&w.current(),u()}},[d,r,i,a,o,f,u,p]),h(y.t)}function A9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(Am(e)),r=T.useRef(t);return r.current!==t&&(n.current=Am(e),r.current=t),n.current}var Oce=["radius"],Nce=["radius"],Lj,zj,Uj,Bj,Fj,qj,$j,Hj,Gj,Kj;function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=Mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mce(t){var e=kce(t,"string");return typeof e=="symbol"?e:e+""}function kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(null,arguments)}function Xj(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Qj=(t,e,n,r,i)=>{var a=Ho(n),o=Ho(r),u=Math.min(Math.abs(a)/2,Math.abs(o)/2),f=o>=0?1:-1,h=a>=0?1:-1,d=o>=0&&a>=0||o<0&&a<0?1:0,p;if(u>0&&Array.isArray(i)){for(var y=[0,0,0,0],b=0,w=4;b<w;b++){var S,E=(S=i[b])!==null&&S!==void 0?S:0;y[b]=E>u?u:E}p=Yn(Lj||(Lj=wa(["M",",",""])),t,e+f*y[0]),y[0]>0&&(p+=Yn(zj||(zj=wa(["A ",",",",0,0,",",",",",""])),y[0],y[0],d,t+h*y[0],e)),p+=Yn(Uj||(Uj=wa(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(p+=Yn(Bj||(Bj=wa(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],d,t+n,e+f*y[1])),p+=Yn(Fj||(Fj=wa(["L ",",",""])),t+n,e+r-f*y[2]),y[2]>0&&(p+=Yn(qj||(qj=wa(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],d,t+n-h*y[2],e+r)),p+=Yn($j||($j=wa(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(p+=Yn(Hj||(Hj=wa(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],d,t,e+r-f*y[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);p=Yn(Gj||(Gj=wa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*C,C,C,d,t+h*C,e,t+n-h*C,e,C,C,d,t+n,e+f*C,t+n,e+r-f*C,C,C,d,t+n-h*C,e+r,t+h*C,e+r,C,C,d,t,e+r-f*C)}else p=Yn(Kj||(Kj=wa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},Zj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vce=t=>{var e=ni(t,Zj),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:a,y:o,width:u,height:f,radius:h,className:d}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:S}=e,E=T.useRef(u),C=T.useRef(f),D=T.useRef(a),N=T.useRef(o),M=T.useMemo(()=>({x:a,y:o,width:u,height:f,radius:h}),[a,o,u,f,h]),V=A9(M,"rectangle-");if(a!==+a||o!==+o||u!==+u||f!==+f||u===0||f===0)return null;var L=It("recharts-rectangle",d);if(!S){var R=Ii(e),{radius:O}=R,k=Xj(R,Oce);return T.createElement("path",f0({},k,{x:Ho(a),y:Ho(o),width:Ho(u),height:Ho(f),radius:typeof h=="number"?h:void 0,className:L,d:Qj(a,o,u,f,h)}))}var F=E.current,B=C.current,U=D.current,q=N.current,K="0px ".concat(r===-1?1:r,"px"),he="".concat(r,"px 0px"),W=cce(["strokeDasharray"],y,typeof p=="string"?p:Zj.animationEasing);return T.createElement(S9,{animationId:V,key:V,canBegin:r>0,duration:y,easing:p,isActive:S,begin:b},ie=>{var de=Ca(F,u,ie),_e=Ca(B,f,ie),Ae=Ca(U,a,ie),H=Ca(q,o,ie);n.current&&(E.current=de,C.current=_e,D.current=Ae,N.current=H);var ae;w?ie>0?ae={transition:W,strokeDasharray:he}:ae={strokeDasharray:K}:ae={strokeDasharray:he};var pe=Ii(e),{radius:ge}=pe,Re=Xj(pe,Nce);return T.createElement("path",f0({},Re,{radius:typeof h=="number"?h:void 0,className:L,d:Qj(Ae,H,de,_e,h),ref:n,style:Yj(Yj({},ae),e.style)}))})};function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){Lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lce(t,e,n){return(e=zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Uce(t,"string");return typeof e=="symbol"?e:e+""}function Uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h0=Math.PI/180,Bce=t=>t*180/Math.PI,Jn=(t,e,n,r)=>({x:t+Math.cos(-h0*r)*n,y:e+Math.sin(-h0*r)*n}),Fce=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},qce=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},$ce=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=qce({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:o,angle:Bce(f),angleInRadian:f}},Hce=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Gce=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Kce=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=$ce({x:n,y:r},e),{innerRadius:o,outerRadius:u}=e;if(i<o||i>u||i===0)return null;var{startAngle:f,endAngle:h}=Hce(e),d=a,p;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;p=d>=h&&d<=f}return p?eV(eV({},e),{},{radius:i,angle:Gce(d,e)}):null};function I9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Jn(e,n,r,i),u=Jn(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var tV,nV,rV,iV,aV,sV,oV;function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(null,arguments)}function fu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Wce=(t,e)=>{var n=_i(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ty=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:f}=t,h=u*(o?1:-1)+r,d=Math.asin(u/h)/h0,p=f?i:i+a*d,y=Jn(e,n,h,p),b=Jn(e,n,r,p),w=f?i-a*d:i,S=Jn(e,n,h*Math.cos(d*h0),w);return{center:y,circleTangency:b,lineTangency:S,theta:d}},C9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,u=Wce(a,o),f=a+u,h=Jn(e,n,i,a),d=Jn(e,n,i,f),p=Yn(tV||(tV=fu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(a>f),d.x,d.y);if(r>0){var y=Jn(e,n,r,a),b=Jn(e,n,r,f);p+=Yn(nV||(nV=fu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(a<=f),y.x,y.y)}else p+=Yn(rV||(rV=fu(["L ",","," Z"])),e,n);return p},Yce=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h}=t,d=_i(h-f),{circleTangency:p,lineTangency:y,theta:b}=Ty({cx:e,cy:n,radius:i,angle:f,sign:d,cornerRadius:a,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:E}=Ty({cx:e,cy:n,radius:i,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(f-h):Math.abs(f-h)-b-E;if(C<0)return o?Yn(iV||(iV=fu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):C9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var D=Yn(aV||(aV=fu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(d<0),p.x,p.y,i,i,+(C>180),+(d<0),w.x,w.y,a,a,+(d<0),S.x,S.y);if(r>0){var{circleTangency:N,lineTangency:M,theta:V}=Ty({cx:e,cy:n,radius:r,angle:f,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:L,lineTangency:R,theta:O}=Ty({cx:e,cy:n,radius:r,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),k=u?Math.abs(f-h):Math.abs(f-h)-V-O;if(k<0&&a===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+=Yn(sV||(sV=fu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,a,a,+(d<0),L.x,L.y,r,r,+(k>180),+(d>0),N.x,N.y,a,a,+(d<0),M.x,M.y)}else D+=Yn(oV||(oV=fu(["L",",","Z"])),e,n);return D},Xce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qce=t=>{var e=ni(t,Xce),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d,className:p}=e;if(a<i||h===d)return null;var y=It("recharts-sector",p),b=a-i,w=ol(o,b,0,!0),S;return w>0&&Math.abs(h-d)<360?S=Yce({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d}):S=C9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:d}),T.createElement("path",WT({},Ii(e),{className:y,d:S}))};function Zce(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(dB(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:u}=e,f=Jn(r,i,a,u),h=Jn(r,i,o,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return I9(e)}}var B1={},F1={},q1={},lV;function Jce(){return lV||(lV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EB();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(q1)),q1}var uV;function efe(){return uV||(uV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jce();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(F1)),F1}var cV;function tfe(){return cV||(cV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TB(),n=efe();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=o;return f}t.range=r})(B1)),B1}var $1,fV;function nfe(){return fV||(fV=1,$1=tfe().range),$1}var rfe=nfe();const P9=ll(rfe);function Zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ife(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RI(t){let e,n,r;t.length!==2?(e=Zo,n=(u,f)=>Zo(t(u),f),r=(u,f)=>t(u)-f):(e=t===Zo||t===ife?t:afe,n=t,r=t);function i(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<0?h=p+1:d=p}while(h<d)}return h}function a(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<=0?h=p+1:d=p}while(h<d)}return h}function o(u,f,h=0,d=u.length){const p=i(u,f,h,d-1);return p>h&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:o,right:a}}function afe(){return 0}function R9(t){return t===null?NaN:+t}function*sfe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ofe=RI(Zo),gp=ofe.right;RI(R9).center;class hV extends Map{constructor(e,n=cfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dV(this,e))}has(e){return super.has(dV(this,e))}set(e,n){return super.set(lfe(this,e),n)}delete(e){return super.delete(ufe(this,e))}}function dV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ufe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function cfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ffe(t=Zo){if(t===Zo)return O9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function O9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hfe=Math.sqrt(50),dfe=Math.sqrt(10),mfe=Math.sqrt(2);function d0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=hfe?10:a>=dfe?5:a>=mfe?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/o,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*o,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?d0(t,e,n*2):[u,f,h]}function YT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?d0(e,t,n):d0(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(o<0)for(let h=0;h<u;++h)f[h]=(a-h)/-o;else for(let h=0;h<u;++h)f[h]=(a-h)*o;else if(o<0)for(let h=0;h<u;++h)f[h]=(i+h)/-o;else for(let h=0;h<u;++h)f[h]=(i+h)*o;return f}function XT(t,e,n){return e=+e,t=+t,n=+n,d0(t,e,n)[2]}function QT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?XT(e,t,n):XT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function mV(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pV(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function N9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?O9:ffe(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,d=Math.log(f),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(f-p)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*p/f+y)),w=Math.min(r,Math.floor(e+(f-h)*p/f+y));N9(t,e,b,w,i)}const a=t[e];let o=n,u=r;for(Cd(t,n,e),i(t[r],a)>0&&Cd(t,n,r);o<u;){for(Cd(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Cd(t,n,u):(++u,Cd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Cd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pfe(t,e,n){if(t=Float64Array.from(sfe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pV(t);if(e>=1)return mV(t);var r,i=(r-1)*e,a=Math.floor(i),o=mV(N9(t,a).subarray(0,a+1)),u=pV(t.subarray(a+1));return o+(u-o)*(i-a)}}function gfe(t,e,n=R9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function yfe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ri(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ZT=Symbol("implicit");function OI(){var t=new hV,e=[],n=[],r=ZT;function i(a){let o=t.get(a);if(o===void 0){if(r!==ZT)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new hV;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return OI(e,n).unknown(r)},Ri.apply(i,arguments),i}function NI(){var t=OI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,f=0,h=0,d=.5;delete t.unknown;function p(){var y=e().length,b=i<r,w=b?i:r,S=b?r:i;a=(S-w)/Math.max(1,y-f+h*2),u&&(a=Math.floor(a)),w+=(S-w-a*(y-f))*d,o=a*(1-f),u&&(w=Math.round(w),o=Math.round(o));var E=yfe(y).map(function(C){return w+a*C});return n(b?E.reverse():E)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return NI(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(d)},Ri.apply(p(),arguments)}function D9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return D9(e())},t}function vfe(){return D9(NI.apply(null,arguments).paddingInner(1))}function DI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function M9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yp(){}var Mm=.7,m0=1/Mm,xf="\\s*([+-]?\\d+)\\s*",km="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bfe=/^#([0-9a-f]{3,8})$/,xfe=new RegExp(`^rgb\\(${xf},${xf},${xf}\\)$`),_fe=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),wfe=new RegExp(`^rgba\\(${xf},${xf},${xf},${km}\\)$`),Efe=new RegExp(`^rgba\\(${Va},${Va},${Va},${km}\\)$`),Tfe=new RegExp(`^hsl\\(${km},${Va},${Va}\\)$`),Sfe=new RegExp(`^hsla\\(${km},${Va},${Va},${km}\\)$`),gV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DI(yp,jm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yV,formatHex:yV,formatHex8:Afe,formatHsl:Ife,formatRgb:vV,toString:vV});function yV(){return this.rgb().formatHex()}function Afe(){return this.rgb().formatHex8()}function Ife(){return k9(this).formatHsl()}function vV(){return this.rgb().formatRgb()}function jm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bV(e):n===3?new Nr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Sy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Sy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xfe.exec(t))?new Nr(e[1],e[2],e[3],1):(e=_fe.exec(t))?new Nr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wfe.exec(t))?Sy(e[1],e[2],e[3],e[4]):(e=Efe.exec(t))?Sy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tfe.exec(t))?wV(e[1],e[2]/100,e[3]/100,1):(e=Sfe.exec(t))?wV(e[1],e[2]/100,e[3]/100,e[4]):gV.hasOwnProperty(t)?bV(gV[t]):t==="transparent"?new Nr(NaN,NaN,NaN,0):null}function bV(t){return new Nr(t>>16&255,t>>8&255,t&255,1)}function Sy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nr(t,e,n,r)}function Cfe(t){return t instanceof yp||(t=jm(t)),t?(t=t.rgb(),new Nr(t.r,t.g,t.b,t.opacity)):new Nr}function JT(t,e,n,r){return arguments.length===1?Cfe(t):new Nr(t,e,n,r??1)}function Nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}DI(Nr,JT,M9(yp,{brighter(t){return t=t==null?m0:Math.pow(m0,t),new Nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mm:Math.pow(Mm,t),new Nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nr(wu(this.r),wu(this.g),wu(this.b),p0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xV,formatHex:xV,formatHex8:Pfe,formatRgb:_V,toString:_V}));function xV(){return`#${hu(this.r)}${hu(this.g)}${hu(this.b)}`}function Pfe(){return`#${hu(this.r)}${hu(this.g)}${hu(this.b)}${hu((isNaN(this.opacity)?1:this.opacity)*255)}`}function _V(){const t=p0(this.opacity);return`${t===1?"rgb(":"rgba("}${wu(this.r)}, ${wu(this.g)}, ${wu(this.b)}${t===1?")":`, ${t})`}`}function p0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hu(t){return t=wu(t),(t<16?"0":"")+t.toString(16)}function wV(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wi(t,e,n,r)}function k9(t){if(t instanceof Wi)return new Wi(t.h,t.s,t.l,t.opacity);if(t instanceof yp||(t=jm(t)),!t)return new Wi;if(t instanceof Wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,f=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?a+i:2-a-i,o*=60):u=f>0&&f<1?0:o,new Wi(o,u,f,t.opacity)}function Rfe(t,e,n,r){return arguments.length===1?k9(t):new Wi(t,e,n,r??1)}function Wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}DI(Wi,Rfe,M9(yp,{brighter(t){return t=t==null?m0:Math.pow(m0,t),new Wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mm:Math.pow(Mm,t),new Wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nr(H1(t>=240?t-240:t+120,i,r),H1(t,i,r),H1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wi(EV(this.h),Ay(this.s),Ay(this.l),p0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=p0(this.opacity);return`${t===1?"hsl(":"hsla("}${EV(this.h)}, ${Ay(this.s)*100}%, ${Ay(this.l)*100}%${t===1?")":`, ${t})`}`}}));function EV(t){return t=(t||0)%360,t<0?t+360:t}function Ay(t){return Math.max(0,Math.min(1,t||0))}function H1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const MI=t=>()=>t;function Ofe(t,e){return function(n){return t+n*e}}function Nfe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Dfe(t){return(t=+t)==1?j9:function(e,n){return n-e?Nfe(e,n,t):MI(isNaN(e)?n:e)}}function j9(t,e){var n=e-t;return n?Ofe(t,n):MI(isNaN(t)?e:t)}const TV=(function t(e){var n=Dfe(e);function r(i,a){var o=n((i=JT(i)).r,(a=JT(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=j9(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=u(d),i.b=f(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function Mfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function kfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ah(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function Vfe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function g0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Lfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ah(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var eS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G1=new RegExp(eS.source,"g");function zfe(t){return function(){return t}}function Ufe(t){return function(e){return t(e)+""}}function Bfe(t,e){var n=eS.lastIndex=G1.lastIndex=0,r,i,a,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=eS.exec(t))&&(i=G1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,f.push({i:o,x:g0(r,i)})),n=G1.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?Ufe(f[0].x):zfe(e):(e=f.length,function(h){for(var d=0,p;d<e;++d)u[(p=f[d]).i]=p.x(h);return u.join("")})}function ah(t,e){var n=typeof e,r;return e==null||n==="boolean"?MI(e):(n==="number"?g0:n==="string"?(r=jm(e))?(e=r,TV):Bfe:e instanceof jm?TV:e instanceof Date?Vfe:kfe(e)?Mfe:Array.isArray(e)?jfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lfe:g0)(t,e)}function kI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ffe(t,e){e===void 0&&(e=t,t=ah);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function qfe(t){return function(){return t}}function y0(t){return+t}var SV=[0,1];function vr(t){return t}function tS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qfe(isNaN(e)?NaN:.5)}function $fe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hfe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=tS(i,r),a=n(o,a)):(r=tS(r,i),a=n(a,o)),function(u){return a(r(u))}}function Gfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=tS(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var f=gp(t,u,1,r)-1;return a[f](i[f](u))}}function vp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kb(){var t=SV,e=SV,n=ah,r,i,a,o=vr,u,f,h;function d(){var y=Math.min(t.length,e.length);return o!==vr&&(o=$fe(t[0],t[y-1])),u=y>2?Gfe:Hfe,f=h=null,p}function p(y){return y==null||isNaN(y=+y)?a:(f||(f=u(t.map(r),e,n)))(r(o(y)))}return p.invert=function(y){return o(i((h||(h=u(e,t.map(r),g0)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,y0),d()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=kI,d()},p.clamp=function(y){return arguments.length?(o=y?!0:vr,d()):o!==vr},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,d()}}function jI(){return kb()(vr,vr)}function Kfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function v0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bf(t){return t=v0(Math.abs(t)),t?t[1]:NaN}function Wfe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Yfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Xfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vm(t){if(!(e=Xfe.exec(t)))throw new Error("invalid format: "+t);var e;return new VI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vm.prototype=VI.prototype;function VI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}VI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qfe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var b0;function Zfe(t,e){var n=v0(t,e);if(!n)return b0=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(b0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+v0(t,Math.max(0,e+a-1))[0]}function AV(t,e){var n=v0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IV={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Kfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AV(t*100,e),r:AV,s:Zfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function CV(t){return t}var PV=Array.prototype.map,RV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jfe(t){var e=t.grouping===void 0||t.thousands===void 0?CV:Wfe(PV.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?CV:Yfe(PV.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(p,y){p=Vm(p);var b=p.fill,w=p.align,S=p.sign,E=p.symbol,C=p.zero,D=p.width,N=p.comma,M=p.precision,V=p.trim,L=p.type;L==="n"?(N=!0,L="g"):IV[L]||(M===void 0&&(M=12),V=!0,L="g"),(C||b==="0"&&w==="=")&&(C=!0,b="0",w="=");var R=(y&&y.prefix!==void 0?y.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():""),O=(E==="$"?r:/[%p]/.test(L)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),k=IV[L],F=/[defgprs%]/.test(L);M=M===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function B(U){var q=R,K=O,he,W,ie;if(L==="c")K=k(U)+K,U="";else{U=+U;var de=U<0||1/U<0;if(U=isNaN(U)?f:k(Math.abs(U),M),V&&(U=Qfe(U)),de&&+U==0&&S!=="+"&&(de=!1),q=(de?S==="("?S:u:S==="-"||S==="("?"":S)+q,K=(L==="s"&&!isNaN(U)&&b0!==void 0?RV[8+b0/3]:"")+K+(de&&S==="("?")":""),F){for(he=-1,W=U.length;++he<W;)if(ie=U.charCodeAt(he),48>ie||ie>57){K=(ie===46?i+U.slice(he+1):U.slice(he))+K,U=U.slice(0,he);break}}}N&&!C&&(U=e(U,1/0));var _e=q.length+U.length+K.length,Ae=_e<D?new Array(D-_e+1).join(b):"";switch(N&&C&&(U=e(Ae+U,Ae.length?D-K.length:1/0),Ae=""),w){case"<":U=q+U+K+Ae;break;case"=":U=q+Ae+U+K;break;case"^":U=Ae.slice(0,_e=Ae.length>>1)+q+U+K+Ae.slice(_e);break;default:U=Ae+q+U+K;break}return a(U)}return B.toString=function(){return p+""},B}function d(p,y){var b=Math.max(-8,Math.min(8,Math.floor(Bf(y)/3)))*3,w=Math.pow(10,-b),S=h((p=Vm(p),p.type="f",p),{suffix:RV[8+b/3]});return function(E){return S(w*E)}}return{format:h,formatPrefix:d}}var Iy,LI,V9;ehe({thousands:",",grouping:[3],currency:["$",""]});function ehe(t){return Iy=Jfe(t),LI=Iy.format,V9=Iy.formatPrefix,Iy}function the(t){return Math.max(0,-Bf(Math.abs(t)))}function nhe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bf(e)/3)))*3-Bf(Math.abs(t)))}function rhe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bf(e)-Bf(t))+1}function L9(t,e,n,r){var i=QT(t,e,n),a;switch(r=Vm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=nhe(i,o))&&(r.precision=a),V9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=rhe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=the(i))&&(r.precision=a-(r.type==="%")*2);break}}return LI(r)}function pl(t){var e=t.domain;return t.ticks=function(n){var r=e();return YT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return L9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],f,h,d=10;for(u<o&&(h=o,o=u,u=h,h=i,i=a,a=h);d-- >0;){if(h=XT(o,u,n),h===f)return r[i]=o,r[a]=u,e(r);if(h>0)o=Math.floor(o/h)*h,u=Math.ceil(u/h)*h;else if(h<0)o=Math.ceil(o*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function z9(){var t=jI();return t.copy=function(){return vp(t,z9())},Ri.apply(t,arguments),pl(t)}function U9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,y0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return U9(t).unknown(e)},t=arguments.length?Array.from(t,y0):[0,1],pl(n)}function B9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function OV(t){return Math.log(t)}function NV(t){return Math.exp(t)}function ihe(t){return-Math.log(-t)}function ahe(t){return-Math.exp(-t)}function she(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ohe(t){return t===10?she:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lhe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DV(t){return(e,n)=>-t(-e,n)}function zI(t){const e=t(OV,NV),n=e.domain;let r=10,i,a;function o(){return i=lhe(r),a=ohe(r),n()[0]<0?(i=DV(i),a=DV(a),t(ihe,ahe)):t(OV,NV),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let h=f[0],d=f[f.length-1];const p=d<h;p&&([h,d]=[d,h]);let y=i(h),b=i(d),w,S;const E=u==null?10:+u;let C=[];if(!(r%1)&&b-y<E){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<r;++w)if(S=y<0?w/a(-y):w*a(y),!(S<h)){if(S>d)break;C.push(S)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(S=y>0?w/a(-y):w*a(y),!(S<h)){if(S>d)break;C.push(S)}C.length*2<E&&(C=YT(h,d,E))}else C=YT(y,b,Math.min(b-y,E)).map(a);return p?C.reverse():C},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Vm(f)).precision==null&&(f.trim=!0),f=LI(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=h?f(d):""}},e.nice=()=>n(B9(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function F9(){const t=zI(kb()).domain([1,10]);return t.copy=()=>vp(t,F9()).base(t.base()),Ri.apply(t,arguments),t}function MV(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kV(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function UI(t){var e=1,n=t(MV(e),kV(e));return n.constant=function(r){return arguments.length?t(MV(e=+r),kV(e)):e},pl(n)}function q9(){var t=UI(kb());return t.copy=function(){return vp(t,q9()).constant(t.constant())},Ri.apply(t,arguments)}function jV(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uhe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function che(t){return t<0?-t*t:t*t}function BI(t){var e=t(vr,vr),n=1;function r(){return n===1?t(vr,vr):n===.5?t(uhe,che):t(jV(n),jV(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pl(e)}function FI(){var t=BI(kb());return t.copy=function(){return vp(t,FI()).exponent(t.exponent())},Ri.apply(t,arguments),t}function fhe(){return FI.apply(null,arguments).exponent(.5)}function VV(t){return Math.sign(t)*t*t}function hhe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $9(){var t=jI(),e=[0,1],n=!1,r;function i(a){var o=hhe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(VV(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,y0)).map(VV)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $9(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ri.apply(i,arguments),pl(i)}function H9(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=gfe(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[gp(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Zo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return H9().domain(t).range(e).unknown(r)},Ri.apply(a,arguments)}function G9(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(f){return f!=null&&f<=f?i[gp(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},o.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return G9().domain([t,e]).range(i).unknown(a)},Ri.apply(pl(o),arguments)}function K9(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[gp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return K9().domain(t).range(e).unknown(n)},Ri.apply(i,arguments)}const K1=new Date,W1=new Date;function Sn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return f;let h;do f.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<o);return f},i.filter=a=>Sn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(K1.setTime(+a),W1.setTime(+o),t(K1),t(W1),Math.floor(n(K1,W1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const x0=Sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);x0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):x0);x0.range;const bs=1e3,wi=bs*60,xs=wi*60,Ms=xs*24,qI=Ms*7,LV=Ms*30,Y1=Ms*365,du=Sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getUTCSeconds());du.range;const $I=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getMinutes());$I.range;const HI=Sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCMinutes());HI.range;const GI=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs-t.getMinutes()*wi)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getHours());GI.range;const KI=Sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCHours());KI.range;const bp=Sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wi)/Ms,t=>t.getDate()-1);bp.range;const jb=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>t.getUTCDate()-1);jb.range;const W9=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>Math.floor(t/Ms));W9.range;function Ku(t){return Sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wi)/qI)}const Vb=Ku(0),_0=Ku(1),dhe=Ku(2),mhe=Ku(3),Ff=Ku(4),phe=Ku(5),ghe=Ku(6);Vb.range;_0.range;dhe.range;mhe.range;Ff.range;phe.range;ghe.range;function Wu(t){return Sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qI)}const Lb=Wu(0),w0=Wu(1),yhe=Wu(2),vhe=Wu(3),qf=Wu(4),bhe=Wu(5),xhe=Wu(6);Lb.range;w0.range;yhe.range;vhe.range;qf.range;bhe.range;xhe.range;const WI=Sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WI.range;const YI=Sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YI.range;const ks=Sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ks.range;const js=Sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());js.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});js.range;function Y9(t,e,n,r,i,a){const o=[[du,1,bs],[du,5,5*bs],[du,15,15*bs],[du,30,30*bs],[a,1,wi],[a,5,5*wi],[a,15,15*wi],[a,30,30*wi],[i,1,xs],[i,3,3*xs],[i,6,6*xs],[i,12,12*xs],[r,1,Ms],[r,2,2*Ms],[n,1,qI],[e,1,LV],[e,3,3*LV],[t,1,Y1]];function u(h,d,p){const y=d<h;y&&([h,d]=[d,h]);const b=p&&typeof p.range=="function"?p:f(h,d,p),w=b?b.range(h,+d+1):[];return y?w.reverse():w}function f(h,d,p){const y=Math.abs(d-h)/p,b=RI(([,,E])=>E).right(o,y);if(b===o.length)return t.every(QT(h/Y1,d/Y1,p));if(b===0)return x0.every(Math.max(QT(h,d,p),1));const[w,S]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return w.every(S)}return[u,f]}const[_he,whe]=Y9(js,YI,Lb,W9,KI,HI),[Ehe,The]=Y9(ks,WI,Vb,bp,GI,$I);function X1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Q1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function She(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,h=Rd(i),d=Od(i),p=Rd(a),y=Od(a),b=Rd(o),w=Od(o),S=Rd(u),E=Od(u),C=Rd(f),D=Od(f),N={a:ie,A:de,b:_e,B:Ae,c:null,d:$V,e:$V,f:Whe,g:ide,G:sde,H:Hhe,I:Ghe,j:Khe,L:X9,m:Yhe,M:Xhe,p:H,q:ae,Q:KV,s:WV,S:Qhe,u:Zhe,U:Jhe,V:ede,w:tde,W:nde,x:null,X:null,y:rde,Y:ade,Z:ode,"%":GV},M={a:pe,A:ge,b:Re,B:je,c:null,d:HV,e:HV,f:fde,g:_de,G:Ede,H:lde,I:ude,j:cde,L:Z9,m:hde,M:dde,p:Me,q:Ct,Q:KV,s:WV,S:mde,u:pde,U:gde,V:yde,w:vde,W:bde,x:null,X:null,y:xde,Y:wde,Z:Tde,"%":GV},V={a:F,A:B,b:U,B:q,c:K,d:FV,e:FV,f:Bhe,g:BV,G:UV,H:qV,I:qV,j:Vhe,L:Uhe,m:jhe,M:Lhe,p:k,q:khe,Q:qhe,s:$he,S:zhe,u:Rhe,U:Ohe,V:Nhe,w:Phe,W:Dhe,x:he,X:W,y:BV,Y:UV,Z:Mhe,"%":Fhe};N.x=L(n,N),N.X=L(r,N),N.c=L(e,N),M.x=L(n,M),M.X=L(r,M),M.c=L(e,M);function L(se,Ve){return function(Fe){var fe=[],Bt=-1,Ge=0,Jt=se.length,St,bn,ri;for(Fe instanceof Date||(Fe=new Date(+Fe));++Bt<Jt;)se.charCodeAt(Bt)===37&&(fe.push(se.slice(Ge,Bt)),(bn=zV[St=se.charAt(++Bt)])!=null?St=se.charAt(++Bt):bn=St==="e"?" ":"0",(ri=Ve[St])&&(St=ri(Fe,bn)),fe.push(St),Ge=Bt+1);return fe.push(se.slice(Ge,Bt)),fe.join("")}}function R(se,Ve){return function(Fe){var fe=Pd(1900,void 0,1),Bt=O(fe,se,Fe+="",0),Ge,Jt;if(Bt!=Fe.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ve&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ge=Q1(Pd(fe.y,0,1)),Jt=Ge.getUTCDay(),Ge=Jt>4||Jt===0?w0.ceil(Ge):w0(Ge),Ge=jb.offset(Ge,(fe.V-1)*7),fe.y=Ge.getUTCFullYear(),fe.m=Ge.getUTCMonth(),fe.d=Ge.getUTCDate()+(fe.w+6)%7):(Ge=X1(Pd(fe.y,0,1)),Jt=Ge.getDay(),Ge=Jt>4||Jt===0?_0.ceil(Ge):_0(Ge),Ge=bp.offset(Ge,(fe.V-1)*7),fe.y=Ge.getFullYear(),fe.m=Ge.getMonth(),fe.d=Ge.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Jt="Z"in fe?Q1(Pd(fe.y,0,1)).getUTCDay():X1(Pd(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Jt+5)%7:fe.w+fe.U*7-(Jt+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,Q1(fe)):X1(fe)}}function O(se,Ve,Fe,fe){for(var Bt=0,Ge=Ve.length,Jt=Fe.length,St,bn;Bt<Ge;){if(fe>=Jt)return-1;if(St=Ve.charCodeAt(Bt++),St===37){if(St=Ve.charAt(Bt++),bn=V[St in zV?Ve.charAt(Bt++):St],!bn||(fe=bn(se,Fe,fe))<0)return-1}else if(St!=Fe.charCodeAt(fe++))return-1}return fe}function k(se,Ve,Fe){var fe=h.exec(Ve.slice(Fe));return fe?(se.p=d.get(fe[0].toLowerCase()),Fe+fe[0].length):-1}function F(se,Ve,Fe){var fe=b.exec(Ve.slice(Fe));return fe?(se.w=w.get(fe[0].toLowerCase()),Fe+fe[0].length):-1}function B(se,Ve,Fe){var fe=p.exec(Ve.slice(Fe));return fe?(se.w=y.get(fe[0].toLowerCase()),Fe+fe[0].length):-1}function U(se,Ve,Fe){var fe=C.exec(Ve.slice(Fe));return fe?(se.m=D.get(fe[0].toLowerCase()),Fe+fe[0].length):-1}function q(se,Ve,Fe){var fe=S.exec(Ve.slice(Fe));return fe?(se.m=E.get(fe[0].toLowerCase()),Fe+fe[0].length):-1}function K(se,Ve,Fe){return O(se,e,Ve,Fe)}function he(se,Ve,Fe){return O(se,n,Ve,Fe)}function W(se,Ve,Fe){return O(se,r,Ve,Fe)}function ie(se){return o[se.getDay()]}function de(se){return a[se.getDay()]}function _e(se){return f[se.getMonth()]}function Ae(se){return u[se.getMonth()]}function H(se){return i[+(se.getHours()>=12)]}function ae(se){return 1+~~(se.getMonth()/3)}function pe(se){return o[se.getUTCDay()]}function ge(se){return a[se.getUTCDay()]}function Re(se){return f[se.getUTCMonth()]}function je(se){return u[se.getUTCMonth()]}function Me(se){return i[+(se.getUTCHours()>=12)]}function Ct(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Ve=L(se+="",N);return Ve.toString=function(){return se},Ve},parse:function(se){var Ve=R(se+="",!1);return Ve.toString=function(){return se},Ve},utcFormat:function(se){var Ve=L(se+="",M);return Ve.toString=function(){return se},Ve},utcParse:function(se){var Ve=R(se+="",!0);return Ve.toString=function(){return se},Ve}}}var zV={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,Ahe=/^%/,Ihe=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Che(t){return t.replace(Ihe,"\\$&")}function Rd(t){return new RegExp("^(?:"+t.map(Che).join("|")+")","i")}function Od(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Phe(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Rhe(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ohe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Nhe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Dhe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UV(t,e,n){var r=Vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function BV(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mhe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function khe(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jhe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function FV(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vhe(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qV(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Lhe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function zhe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Uhe(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Bhe(t,e,n){var r=Vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fhe(t,e,n){var r=Ahe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qhe(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $he(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function $V(t,e){return ot(t.getDate(),e,2)}function Hhe(t,e){return ot(t.getHours(),e,2)}function Ghe(t,e){return ot(t.getHours()%12||12,e,2)}function Khe(t,e){return ot(1+bp.count(ks(t),t),e,3)}function X9(t,e){return ot(t.getMilliseconds(),e,3)}function Whe(t,e){return X9(t,e)+"000"}function Yhe(t,e){return ot(t.getMonth()+1,e,2)}function Xhe(t,e){return ot(t.getMinutes(),e,2)}function Qhe(t,e){return ot(t.getSeconds(),e,2)}function Zhe(t){var e=t.getDay();return e===0?7:e}function Jhe(t,e){return ot(Vb.count(ks(t)-1,t),e,2)}function Q9(t){var e=t.getDay();return e>=4||e===0?Ff(t):Ff.ceil(t)}function ede(t,e){return t=Q9(t),ot(Ff.count(ks(t),t)+(ks(t).getDay()===4),e,2)}function tde(t){return t.getDay()}function nde(t,e){return ot(_0.count(ks(t)-1,t),e,2)}function rde(t,e){return ot(t.getFullYear()%100,e,2)}function ide(t,e){return t=Q9(t),ot(t.getFullYear()%100,e,2)}function ade(t,e){return ot(t.getFullYear()%1e4,e,4)}function sde(t,e){var n=t.getDay();return t=n>=4||n===0?Ff(t):Ff.ceil(t),ot(t.getFullYear()%1e4,e,4)}function ode(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function HV(t,e){return ot(t.getUTCDate(),e,2)}function lde(t,e){return ot(t.getUTCHours(),e,2)}function ude(t,e){return ot(t.getUTCHours()%12||12,e,2)}function cde(t,e){return ot(1+jb.count(js(t),t),e,3)}function Z9(t,e){return ot(t.getUTCMilliseconds(),e,3)}function fde(t,e){return Z9(t,e)+"000"}function hde(t,e){return ot(t.getUTCMonth()+1,e,2)}function dde(t,e){return ot(t.getUTCMinutes(),e,2)}function mde(t,e){return ot(t.getUTCSeconds(),e,2)}function pde(t){var e=t.getUTCDay();return e===0?7:e}function gde(t,e){return ot(Lb.count(js(t)-1,t),e,2)}function J9(t){var e=t.getUTCDay();return e>=4||e===0?qf(t):qf.ceil(t)}function yde(t,e){return t=J9(t),ot(qf.count(js(t),t)+(js(t).getUTCDay()===4),e,2)}function vde(t){return t.getUTCDay()}function bde(t,e){return ot(w0.count(js(t)-1,t),e,2)}function xde(t,e){return ot(t.getUTCFullYear()%100,e,2)}function _de(t,e){return t=J9(t),ot(t.getUTCFullYear()%100,e,2)}function wde(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function Ede(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qf(t):qf.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function Tde(){return"+0000"}function GV(){return"%"}function KV(t){return+t}function WV(t){return Math.floor(+t/1e3)}var Hc,eF,tF;Sde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Sde(t){return Hc=She(t),eF=Hc.format,Hc.parse,tF=Hc.utcFormat,Hc.utcParse,Hc}function Ade(t){return new Date(t)}function Ide(t){return t instanceof Date?+t:+new Date(+t)}function XI(t,e,n,r,i,a,o,u,f,h){var d=jI(),p=d.invert,y=d.domain,b=h(".%L"),w=h(":%S"),S=h("%I:%M"),E=h("%I %p"),C=h("%a %d"),D=h("%b %d"),N=h("%B"),M=h("%Y");function V(L){return(f(L)<L?b:u(L)<L?w:o(L)<L?S:a(L)<L?E:r(L)<L?i(L)<L?C:D:n(L)<L?N:M)(L)}return d.invert=function(L){return new Date(p(L))},d.domain=function(L){return arguments.length?y(Array.from(L,Ide)):y().map(Ade)},d.ticks=function(L){var R=y();return t(R[0],R[R.length-1],L??10)},d.tickFormat=function(L,R){return R==null?V:h(R)},d.nice=function(L){var R=y();return(!L||typeof L.range!="function")&&(L=e(R[0],R[R.length-1],L??10)),L?y(B9(R,L)):d},d.copy=function(){return vp(d,XI(t,e,n,r,i,a,o,u,f,h))},d}function Cde(){return Ri.apply(XI(Ehe,The,ks,WI,Vb,bp,GI,$I,du,eF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pde(){return Ri.apply(XI(_he,whe,js,YI,Lb,jb,KI,HI,du,tF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zb(){var t=0,e=1,n,r,i,a,o=vr,u=!1,f;function h(p){return p==null||isNaN(p=+p)?f:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(o=p,h):o};function d(p){return function(y){var b,w;return arguments.length?([b,w]=y,o=p(b,w),h):[o(0),o(1)]}}return h.range=d(ah),h.rangeRound=d(kI),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nF(){var t=pl(zb()(vr));return t.copy=function(){return gl(t,nF())},Gs.apply(t,arguments)}function rF(){var t=zI(zb()).domain([1,10]);return t.copy=function(){return gl(t,rF()).base(t.base())},Gs.apply(t,arguments)}function iF(){var t=UI(zb());return t.copy=function(){return gl(t,iF()).constant(t.constant())},Gs.apply(t,arguments)}function QI(){var t=BI(zb());return t.copy=function(){return gl(t,QI()).exponent(t.exponent())},Gs.apply(t,arguments)}function Rde(){return QI.apply(null,arguments).exponent(.5)}function aF(){var t=[],e=vr;function n(r){if(r!=null&&!isNaN(r=+r))return e((gp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>pfe(t,a/r))},n.copy=function(){return aF(e).domain(t)},Gs.apply(n,arguments)}function Ub(){var t=0,e=.5,n=1,r=1,i,a,o,u,f,h=vr,d,p=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+d(S))-a)*(r*S<r*a?u:f),h(p?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([t,e,n]=S,i=d(t=+t),a=d(e=+e),o=d(n=+n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(S){return arguments.length?(p=!!S,b):p},b.interpolator=function(S){return arguments.length?(h=S,b):h};function w(S){return function(E){var C,D,N;return arguments.length?([C,D,N]=E,h=Ffe(S,[C,D,N]),b):[h(0),h(.5),h(1)]}}return b.range=w(ah),b.rangeRound=w(kI),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return d=S,i=S(t),a=S(e),o=S(n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function sF(){var t=pl(Ub()(vr));return t.copy=function(){return gl(t,sF())},Gs.apply(t,arguments)}function oF(){var t=zI(Ub()).domain([.1,1,10]);return t.copy=function(){return gl(t,oF()).base(t.base())},Gs.apply(t,arguments)}function lF(){var t=UI(Ub());return t.copy=function(){return gl(t,lF()).constant(t.constant())},Gs.apply(t,arguments)}function ZI(){var t=BI(Ub());return t.copy=function(){return gl(t,ZI()).exponent(t.exponent())},Gs.apply(t,arguments)}function Ode(){return ZI.apply(null,arguments).exponent(.5)}const Bd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:NI,scaleDiverging:sF,scaleDivergingLog:oF,scaleDivergingPow:ZI,scaleDivergingSqrt:Ode,scaleDivergingSymlog:lF,scaleIdentity:U9,scaleImplicit:ZT,scaleLinear:z9,scaleLog:F9,scaleOrdinal:OI,scalePoint:vfe,scalePow:FI,scaleQuantile:H9,scaleQuantize:G9,scaleRadial:$9,scaleSequential:nF,scaleSequentialLog:rF,scaleSequentialPow:QI,scaleSequentialQuantile:aF,scaleSequentialSqrt:Rde,scaleSequentialSymlog:iF,scaleSqrt:fhe,scaleSymlog:q9,scaleThreshold:K9,scaleTime:Cde,scaleUtc:Pde,tickFormat:L9},Symbol.toStringTag,{value:"Module"}));var Ks=t=>t.chartData,uF=re([Ks],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),cF=(t,e,n,r)=>r?uF(t):Ks(t),Nde=(t,e,n)=>n?uF(t):Ks(t);function Vs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(et(e)&&et(n))return!0}return!1}function YV(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function fF(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(et(n))i=n;else if(typeof n=="function")return;if(et(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Vs(o))return o}}function Dde(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Vs(r))return YV(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,u;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Ce(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&sj.test(i)){var f=sj.exec(i);if(f==null||f[1]==null||e==null)o=void 0;else{var h=+f[1];o=e[0]-h}}else o=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Ce(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&oj.test(a)){var d=oj.exec(a);if(d==null||d[1]==null||e==null)u=void 0;else{var p=+d[1];u=e[1]+p}}else u=e?.[1];var y=[o,u];if(Vs(y))return e==null?y:YV(y,e,n)}}}var sh=1e9,Mde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eC,Vt=!0,Pi="[DecimalError] ",Eu=Pi+"Invalid argument: ",JI=Pi+"Exponent out of range: ",oh=Math.floor,tu=Math.pow,kde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wr,kn=1e7,Nt=7,hF=9007199254740991,E0=oh(hF/Nt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return Ts(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return Tt(Ts(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return gn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wr))throw Error(Pi+"NaN");if(n.s<1)throw Error(Pi+(n.s?"NaN":"-Infinity"));return n.eq(Wr)?new r(0):(Vt=!1,e=Ts(Lm(n,a),Lm(t,a),a),Vt=!0,Tt(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pF(e,t):dF(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Pi+"NaN");return n.s?(Vt=!1,e=Ts(n,t,0,1).times(t),Vt=!0,n.minus(e)):Tt(new r(n),i)};we.naturalExponential=we.exp=function(){return mF(this)};we.naturalLogarithm=we.ln=function(){return Lm(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dF(e,t):pF(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Eu+t);if(e=gn(i)+1,r=i.d.length-1,n=r*Nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,a,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Pi+"NaN")}for(t=gn(u),Vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Na(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=oh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=o=n+3;;)if(a=r,r=a.plus(Ts(u,a,o+2)).times(.5),Na(a.d).slice(0,o)===(e=Na(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Tt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return Vt=!0,Tt(r,n)};we.times=we.mul=function(t){var e,n,r,i,a,o,u,f,h,d=this,p=d.constructor,y=d.d,b=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,f=y.length,h=b.length,f<h&&(a=y,y=b,b=a,o=f,f=h,h=o),a=[],o=f+h,r=o;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*y[i-r-1]+e,a[i--]=u%kn|0,e=u/kn|0;a[i]=(a[i]+e)%kn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Vt?Tt(t,p.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($a(t,0,sh),e===void 0?e=r.rounding:$a(e,0,8),Tt(n,t+gn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Bu(r,!0):($a(t,0,sh),e===void 0?e=i.rounding:$a(e,0,8),r=Tt(new i(r),t+1,e),n=Bu(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Bu(i):($a(t,0,sh),e===void 0?e=a.rounding:$a(e,0,8),r=Tt(new a(i),t+gn(i)+1,e),n=Bu(r.abs(),!1,t+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),gn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,a,o,u=this,f=u.constructor,h=12,d=+(t=new f(t));if(!t.s)return new f(Wr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Pi+"Infinity");return u}if(u.eq(Wr))return u;if(r=f.precision,t.eq(Wr))return Tt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=d<0?-d:d)<=hF){for(i=new f(Wr),e=Math.ceil(r/Nt+4),Vt=!1;n%2&&(i=i.times(u),QV(i.d,e)),n=oh(n/2),n!==0;)u=u.times(u),QV(u.d,e);return Vt=!0,t.s<0?new f(Wr).div(i):Tt(i,r)}}else if(a<0)throw Error(Pi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Vt=!1,i=t.times(Lm(u,r+h)),Vt=!0,i=mF(i),i.s=a,i};we.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=gn(i),r=Bu(i,n<=a.toExpNeg||n>=a.toExpPos)):($a(t,1,sh),e===void 0?e=a.rounding:$a(e,0,8),i=Tt(new a(i),t,e),n=gn(i),r=Bu(i,t<=n||n<=a.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($a(t,1,sh),e===void 0?e=r.rounding:$a(e,0,8)),Tt(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gn(t),n=t.constructor;return Bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function dF(t,e){var n,r,i,a,o,u,f,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Vt?Tt(e,p):e;if(f=t.d,h=e.d,o=t.e,i=e.e,f=f.slice(),a=o-i,a){for(a<0?(r=f,a=-a,u=h.length):(r=h,i=o,u=f.length),o=Math.ceil(p/Nt),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=h.length,u-a<0&&(a=u,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/kn|0,f[a]%=kn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Vt?Tt(e,p):e}function $a(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Eu+t)}function Na(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Nt-r.length,n&&(a+=ko(n)),a+=r;o=t[e],r=o+"",n=Nt-r.length,n&&(a+=ko(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ts=(function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%kn|0,o=a/kn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,f;if(a!=o)f=a>o?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*kn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,f,h,d,p,y,b,w,S,E,C,D,N,M,V,L,R,O,k=r.constructor,F=r.s==i.s?1:-1,B=r.d,U=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Pi+"Division by zero");for(f=r.e-i.e,R=U.length,V=B.length,b=new k(F),w=b.d=[],h=0;U[h]==(B[h]||0);)++h;if(U[h]>(B[h]||0)&&--f,a==null?D=a=k.precision:o?D=a+(gn(r)-gn(i))+1:D=a,D<0)return new k(0);if(D=D/Nt+2|0,h=0,R==1)for(d=0,U=U[0],D++;(h<V||d)&&D--;h++)N=d*kn+(B[h]||0),w[h]=N/U|0,d=N%U|0;else{for(d=kn/(U[0]+1)|0,d>1&&(U=t(U,d),B=t(B,d),R=U.length,V=B.length),M=R,S=B.slice(0,R),E=S.length;E<R;)S[E++]=0;O=U.slice(),O.unshift(0),L=U[0],U[1]>=kn/2&&++L;do d=0,u=e(U,S,R,E),u<0?(C=S[0],R!=E&&(C=C*kn+(S[1]||0)),d=C/L|0,d>1?(d>=kn&&(d=kn-1),p=t(U,d),y=p.length,E=S.length,u=e(p,S,y,E),u==1&&(d--,n(p,R<y?O:U,y))):(d==0&&(u=d=1),p=U.slice()),y=p.length,y<E&&p.unshift(0),n(S,p,E),u==-1&&(E=S.length,u=e(U,S,R,E),u<1&&(d++,n(S,R<E?O:U,E))),E=S.length):u===0&&(d++,S=[0]),w[h++]=d,u&&S[0]?S[E++]=B[M]||0:(S=[B[M]],E=1);while((M++<V||S[0]!==void 0)&&D--)}return w[0]||w.shift(),b.e=f,Tt(b,o?a+gn(b)+1:a)}})();function mF(t,e){var n,r,i,a,o,u,f=0,h=0,d=t.constructor,p=d.precision;if(gn(t)>16)throw Error(JI+gn(t));if(!t.s)return new d(Wr);for(Vt=!1,u=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(r=Math.log(tu(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new d(Wr),d.precision=u;;){if(i=Tt(i.times(t),u),n=n.times(++f),o=a.plus(Ts(i,n,u)),Na(o.d).slice(0,u)===Na(a.d).slice(0,u)){for(;h--;)a=Tt(a.times(a),u);return d.precision=p,e==null?(Vt=!0,Tt(a,p)):a}a=o}}function gn(t){for(var e=t.e*Nt,n=t.d[0];n>=10;n/=10)e++;return e}function Z1(t,e,n){if(e>t.LN10.sd())throw Vt=!0,n&&(t.precision=n),Error(Pi+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function ko(t){for(var e="";t--;)e+="0";return e}function Lm(t,e){var n,r,i,a,o,u,f,h,d,p=1,y=10,b=t,w=b.d,S=b.constructor,E=S.precision;if(b.s<1)throw Error(Pi+(b.s?"NaN":"-Infinity"));if(b.eq(Wr))return new S(0);if(e==null?(Vt=!1,h=E):h=e,b.eq(10))return e==null&&(Vt=!0),Z1(S,h);if(h+=y,S.precision=h,n=Na(w),r=n.charAt(0),a=gn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Na(b.d),r=n.charAt(0),p++;a=gn(b),r>1?(b=new S("0."+n),a++):b=new S(r+"."+n.slice(1))}else return f=Z1(S,h+2,E).times(a+""),b=Lm(new S(r+"."+n.slice(1)),h-y).plus(f),S.precision=E,e==null?(Vt=!0,Tt(b,E)):b;for(u=o=b=Ts(b.minus(Wr),b.plus(Wr),h),d=Tt(b.times(b),h),i=3;;){if(o=Tt(o.times(d),h),f=u.plus(Ts(o,new S(i),h)),Na(f.d).slice(0,h)===Na(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(Z1(S,h+2,E).times(a+""))),u=Ts(u,new S(p),h),S.precision=E,e==null?(Vt=!0,Tt(u,E)):u;u=f,i+=2}}function XV(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=oh(n/Nt),t.d=[],r=(n+1)%Nt,n<0&&(r+=Nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nt;r<i;)t.d.push(+e.slice(r,r+=Nt));e=e.slice(r),r=Nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Vt&&(t.e>E0||t.e<-E0))throw Error(JI+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,n){var r,i,a,o,u,f,h,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Nt,i=e,h=p[d=0];else{if(d=Math.ceil((r+1)/Nt),a=p.length,d>=a)return t;for(h=a=p[d],o=1;a>=10;a/=10)o++;r%=Nt,i=r-Nt+o}if(n!==void 0&&(a=tu(10,o-i-1),u=h/a%10|0,f=e<0||p[d+1]!==void 0||h%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/tu(10,o-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=gn(t),p.length=1,e=e-a-1,p[0]=tu(10,(Nt-e%Nt)%Nt),t.e=oh(-e/Nt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=tu(10,Nt-r),p[d]=i>0?(h/tu(10,o-i)%tu(10,i)|0)*a:0),f)for(;;)if(d==0){(p[0]+=a)==kn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=kn)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Vt&&(t.e>E0||t.e<-E0))throw Error(JI+gn(t));return t}function pF(t,e){var n,r,i,a,o,u,f,h,d,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Vt?Tt(e,b):e;if(f=t.d,p=e.d,r=e.e,h=t.e,f=f.slice(),o=h-r,o){for(d=o<0,d?(n=f,o=-o,u=p.length):(n=p,r=h,u=f.length),i=Math.max(Math.ceil(b/Nt),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){d=f[i]<p[i];break}o=0}for(d&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>o;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=kn-1;--f[a],f[i]+=kn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Vt?Tt(e,b):e):new y(0)}function Bu(t,e,n){var r,i=gn(t),a=Na(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ko(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ko(-i-1)+a,n&&(r=n-o)>0&&(a+=ko(r))):i>=o?(a+=ko(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ko(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ko(r))),t.s<0?"-"+a:a}function QV(t,e){if(t.length>e)return t.length=e,!0}function gF(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Eu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return XV(o,a.toString())}else if(typeof a!="string")throw Error(Eu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,kde.test(a))XV(o,a);else throw Error(Eu+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gF,i.config=i.set=jde,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jde(t){if(!t||typeof t!="object")throw Error(Pi+"Object expected");var e,n,r,i=["precision",1,sh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(oh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Eu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Eu+n+": "+r);return this}var eC=gF(Mde);Wr=new eC(1);const pt=eC;function yF(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function vF(t,e,n){for(var r=new pt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var bF=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},xF=(t,e,n)=>{if(t.lte(0))return new pt(0);var r=yF(t.toNumber()),i=new pt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new pt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=u.mul(i);return e?new pt(f.toNumber()):new pt(Math.ceil(f.toNumber()))},Vde=(t,e,n)=>{var r=new pt(1),i=new pt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new pt(10).pow(yF(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));for(var o=Math.floor((e-1)/2),u=[],f=0;f<e;f++)u.push(i.add(new pt(f-o).mul(r)).toNumber());return u},_F=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var o=xF(new pt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new pt(0):(u=new pt(e).add(n).div(2),u=u.sub(new pt(u).mod(o)));var f=Math.ceil(u.sub(e).div(o).toNumber()),h=Math.ceil(new pt(n).sub(u).div(o).toNumber()),d=f+h+1;return d>r?_F(e,n,r,i,a+1):(d<r&&(h=n>0?h+(r-d):h,f=n>0?f:f+(r-d)),{step:o,tickMin:u.sub(new pt(f).mul(o)),tickMax:u.add(new pt(h).mul(o))})},Lde=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[u,f]=bF([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?h.reverse():h}if(u===f)return Vde(u,i,a);var{step:d,tickMin:p,tickMax:y}=_F(u,f,o,a,0),b=vF(p,y.add(new pt(.1).mul(d)),d);return n>r?b.reverse():b},zde=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=bF([r,i]);if(o===-1/0||u===1/0)return[r,i];if(o===u)return[o];var f=Math.max(n,2),h=xF(new pt(u).sub(o).div(f-1),a,0),d=[...vF(new pt(o),new pt(u),h),u];return a===!1&&(d=d.map(p=>Math.round(p))),r>i?d.reverse():d},Ude=t=>t.rootProps.barCategoryGap,Bb=t=>t.rootProps.stackOffset,wF=t=>t.rootProps.reverseStackOrder,tC=t=>t.options.chartName,nC=t=>t.rootProps.syncId,EF=t=>t.rootProps.syncMethod,rC=t=>t.options.eventEmitter,Bde=t=>t.rootProps.baseValue,br={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Kl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ea={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Fb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function qb(t,e,n){if(n!=="auto")return n;if(t!=null)return Ka(t,e)?"category":"number"}function ZV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(n),!0).forEach(function(r){Fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fde(t,e,n){return(e=qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=$de(t,"string");return typeof e=="symbol"?e:e+""}function $de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JV={allowDataOverflow:Kl.allowDataOverflow,allowDecimals:Kl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Kl.angleAxisId,includeHidden:!1,name:void 0,reversed:Kl.reversed,scale:Kl.scale,tick:Kl.tick,tickCount:void 0,ticks:void 0,type:Kl.type,unit:void 0},eL={allowDataOverflow:Ea.allowDataOverflow,allowDecimals:Ea.allowDecimals,allowDuplicatedCategory:Ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ea.radiusAxisId,includeHidden:Ea.includeHidden,name:void 0,reversed:Ea.reversed,scale:Ea.scale,tick:Ea.tick,tickCount:Ea.tickCount,ticks:void 0,type:Ea.type,unit:void 0},Hde=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},iC=re([Hde,d9],(t,e)=>{var n;if(t!=null)return t;var r=(n=qb(e,"angleAxis",JV.type))!==null&&n!==void 0?n:"category";return T0(T0({},JV),{},{type:r})}),Gde=(t,e)=>t.polarAxis.radiusAxis[e],aC=re([Gde,d9],(t,e)=>{var n;if(t!=null)return t;var r=(n=qb(e,"radiusAxis",eL.type))!==null&&n!==void 0?n:"category";return T0(T0({},eL),{},{type:r})}),$b=t=>t.polarOptions,sC=re([$s,Hs,tr],Fce),TF=re([$b,sC],(t,e)=>{if(t!=null)return ol(t.innerRadius,e,0)}),SF=re([$b,sC],(t,e)=>{if(t!=null)return ol(t.outerRadius,e,e*.8)}),Kde=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},AF=re([$b],Kde);re([iC,AF],Fb);var IF=re([sC,TF,SF],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([aC,IF],Fb);var CF=re([Ut,$b,TF,SF,$s,Hs],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:u,startAngle:f,endAngle:h}=e;return{cx:ol(o,i,i/2),cy:ol(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Ln=(t,e)=>e,Hb=(t,e,n)=>n;function oC(t){return t?.id}function PF(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var d=oC(u);h.forEach((p,y)=>{var b=a==null||i?y:String(er(p,a,null)),w=er(p,u.dataKey,0),S;o.has(b)?S=o.get(b):S={},Object.assign(S,{[d]:w}),o.set(b,S)})}}),Array.from(o.values())}function lC(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Gb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Kb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Wde(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var zn=t=>{var e=Ut(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},lh=t=>t.tooltip.settings.axisId;function Yde(t){if(t in Bd)return Bd[t]();var e="scale".concat(mI(t));if(e in Bd)return Bd[e]()}function tL(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],u=i[1];return o<=u?a>=o&&a<=u:a>=u&&a<=o},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,o)=>{var u=t(a);if(u!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var f=t.bandwidth();switch(o.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function nL(t,e,n){if(typeof t=="function")return tL(t.copy().domain(e).range(n));if(t!=null){var r=Yde(t);if(r!=null)return r.domain(e).range(n),tL(r)}}var Xde=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Vs(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];et(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=Jde(t,"string");return typeof e=="symbol"?e:e+""}function Jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nS=[0,"auto"],Nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RF=(t,e)=>t.cartesianAxis.xAxis[e],Ws=(t,e)=>{var n=RF(t,e);return n??Nn},Dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hp},OF=(t,e)=>t.cartesianAxis.yAxis[e],Ys=(t,e)=>{var n=OF(t,e);return n??Dn},eme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},uC=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??eme},wr=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"zAxis":return uC(t,n);case"angleAxis":return iC(t,n);case"radiusAxis":return aC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tme=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xp=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"angleAxis":return iC(t,n);case"radiusAxis":return aC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},NF=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function DF(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var MF=t=>t.graphicalItems.cartesianItems,nme=re([Ln,Hb],DF),kF=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),_p=re([MF,wr,nme],kF,{memoizeOptions:{resultEqualityCheck:Kb}}),jF=re([_p],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(lC)),VF=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),rme=re([_p],VF),LF=t=>t.map(e=>e.data).filter(Boolean).flat(1),ime=re([_p],LF,{memoizeOptions:{resultEqualityCheck:Kb}}),zF=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},cC=re([ime,cF],zF),UF=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:er(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:er(i,r)}))):t.map(r=>({value:r})),Wb=re([cC,wr,_p],UF);function BF(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sv(t){if(Fa(t)||t instanceof Date){var e=Number(t);if(et(e))return e}}function iL(t){if(Array.isArray(t)){var e=[sv(t[0]),sv(t[1])];return Vs(e)?e:void 0}var n=sv(t);if(n!=null)return[n,n]}function Ls(t){return t.map(sv).filter(Or)}function ame(t,e,n){return!n||typeof e!="number"||Ba(e)?[]:n.length?Ls(n.flatMap(r=>{var i=er(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!et(a)||!et(o)))return[e-a,e+o]})):[]}var An=t=>{var e=zn(t),n=lh(t);return xp(t,e,n)},wp=re([An],t=>t?.dataKey),sme=re([jF,cF,An],PF),FF=(t,e,n,r)=>{var i={},a=e.reduce((o,u)=>{if(u.stackId==null)return o;var f=o[u.stackId];return f==null&&(f=[]),f.push(u),o[u.stackId]=f,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[u,f]=o,h=r?[...f].reverse():f,d=h.map(oC);return[u,{stackedData:Nle(t,d,n),graphicalItems:h}]}))},qF=re([sme,jF,Bb,wF],FF),$F=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=jle(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},ome=re([wr],t=>t.allowDataOverflow),fC=t=>{var e;if(t==null||!("domain"in t))return nS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ls(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:nS},HF=re([wr],fC),GF=re([HF,ome],fF),lme=re([qF,Ks,Ln,GF],$F,{memoizeOptions:{resultEqualityCheck:Gb}}),hC=t=>t.errorBars,ume=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>BF(n,r)),A0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},KF=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,d,p=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>BF(i,C)),y=er(u,(d=e.dataKey)!==null&&d!==void 0?d:f.dataKey),b=ame(u,y,p);if(b.length>=2){var w=Math.min(...b),S=Math.max(...b);(a==null||w<a)&&(a=w),(o==null||S>o)&&(o=S)}var E=iL(y);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=iL(er(u,e.dataKey));f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),o=o==null?f[1]:Math.max(o,f[1]))}),et(a)&&et(o))return[a,o]},cme=re([cC,wr,rme,hC,Ln],KF,{memoizeOptions:{resultEqualityCheck:Gb}});function fme(t){var{value:e}=t;if(Fa(e)||e instanceof Date)return e}var hme=(t,e,n)=>{var r=t.map(fme).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&fB(r))?P9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},WF=t=>t.referenceElements.dots,uh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),dme=re([WF,Ln,Hb],uh),YF=t=>t.referenceElements.areas,mme=re([YF,Ln,Hb],uh),XF=t=>t.referenceElements.lines,pme=re([XF,Ln,Hb],uh),QF=(t,e)=>{if(t!=null){var n=Ls(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},gme=re(dme,Ln,QF),ZF=(t,e)=>{if(t!=null){var n=Ls(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},yme=re([mme,Ln],ZF);function vme(t){var e;if(t.x!=null)return Ls([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ls(n)}function bme(t){var e;if(t.y!=null)return Ls([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ls(n)}var JF=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?vme(r):bme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xme=re([pme,Ln],JF),_me=re(gme,xme,yme,(t,e,n)=>A0(t,n,e)),e8=(t,e,n,r,i,a,o,u)=>{if(n!=null)return n;var f=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",h=f?A0(r,a,i):A0(a,i);return Dde(e,h,t.allowDataOverflow)},wme=re([wr,HF,GF,lme,cme,_me,Ut,Ln],e8,{memoizeOptions:{resultEqualityCheck:Gb}}),Eme=[0,1],t8=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:f}=t,h=Ka(e,a);if(h&&u==null){var d;return P9(0,(d=n?.length)!==null&&d!==void 0?d:0)}return f==="category"?hme(r,t,h):i==="expand"?Eme:o}},dC=re([wr,Ut,cC,Wb,Bb,Ln,wme],t8);function Tme(t){return t in Bd}var n8=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(mI(r));return Tme(a)?a:"point"}}},ch=re([wr,NF,tC],n8);function mC(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?nL(t.scale,n,r):nL(e,n,r)}var r8=(t,e,n)=>{var r=fC(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Vs(t))return Lde(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Vs(t))return zde(t,e.tickCount,e.allowDecimals)}},pC=re([dC,xp,ch],r8),i8=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Vs(e)&&Array.isArray(n)&&n.length>0){var i,a,o=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],h=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,u),Math.max(f,h)]}return e},Sme=re([wr,dC,pC,Ln],i8),Ame=re(Wb,wr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ls(t.map(p=>p.value))).sort((p,y)=>p-y),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var d=h-f;n=Math.min(n,d)}}return n/o}}),a8=re(Ame,Ut,Ude,tr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!et(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=ol(n,t*a),u=t*a/2;return u-o-(u-o)/a*o}return 0}),Ime=(t,e,n)=>{var r=Ws(t,e);return r==null||typeof r.padding!="string"?0:a8(t,"xAxis",e,n,r.padding)},Cme=(t,e,n)=>{var r=Ys(t,e);return r==null||typeof r.padding!="string"?0:a8(t,"yAxis",e,n,r.padding)},Pme=re(Ws,Ime,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Rme=re(Ys,Cme,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Ome=re([tr,Pme,Rb,Pb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Nme=re([tr,Ut,Rme,Rb,Pb,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ep=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Ome(t,n,r);case"yAxis":return Nme(t,n,r);case"zAxis":return(i=uC(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return AF(t);case"radiusAxis":return IF(t,n);default:return}},s8=re([wr,Ep],Fb),Dme=re([ch,Sme],Xde),Yb=re([wr,ch,Dme,s8],mC);re([_p,hC,Ln],ume);function o8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Xb=(t,e)=>e,Qb=(t,e,n)=>n,Mme=re(Ib,Xb,Qb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(o8)),kme=re(Cb,Xb,Qb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(o8)),l8=(t,e)=>({width:t.width,height:e.height}),jme=(t,e)=>{var n=typeof e.width=="number"?e.width:hp;return{width:n,height:t.height}},Vme=re(tr,Ws,l8),Lme=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},zme=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ume=re(Hs,tr,Mme,Xb,Qb,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=l8(e,u);o==null&&(o=Lme(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(h)*f.height,o+=(h?-1:1)*f.height}),a}),Bme=re($s,tr,kme,Xb,Qb,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=jme(e,u);o==null&&(o=zme(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(h)*f.width,o+=(h?-1:1)*f.width}),a}),Fme=(t,e)=>{var n=Ws(t,e);if(n!=null)return Ume(t,n.orientation,n.mirror)},qme=re([tr,Ws,Fme,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),$me=(t,e)=>{var n=Ys(t,e);if(n!=null)return Bme(t,n.orientation,n.mirror)},Hme=re([tr,Ys,$me,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Gme=re(tr,Ys,(t,e)=>{var n=typeof e.width=="number"?e.width:hp;return{width:n,height:t.height}}),u8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=Ka(t,r),f=e.map(h=>h.value);if(o&&u&&a==="category"&&i&&fB(f))return f}},gC=re([Ut,Wb,wr,Ln],u8),c8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Ka(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},yC=re([Ut,Wb,xp,Ln],c8),aL=re([Ut,tme,ch,Yb,gC,yC,Ep,pC,Ln],(t,e,n,r,i,a,o,u,f)=>{if(e!=null){var h=Ka(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:o,realScaleType:n,scale:r}}}),Kme=(t,e,n,r,i,a,o,u,f)=>{if(!(e==null||r==null)){var h=Ka(t,f),{type:d,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=d==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&a!=null&&a.length>=2?_i(a[0]-a[1])*2*w:w;var S=p||i;return S?S.map((E,C)=>{var D=o?o.indexOf(E):E,N=r.map(D);return et(N)?{index:C,coordinate:N+w,value:E,offset:w}:null}).filter(Or):h&&u?u.map((E,C)=>{var D=r.map(E);return et(D)?{coordinate:D+w,value:E,index:C,offset:w}:null}).filter(Or):r.ticks?r.ticks(y).map((E,C)=>{var D=r.map(E);return et(D)?{coordinate:D+w,value:E,index:C,offset:w}:null}).filter(Or):r.domain().map((E,C)=>{var D=r.map(E);return et(D)?{coordinate:D+w,value:o?o[E]:E,index:C,offset:w}:null}).filter(Or)}},f8=re([Ut,xp,ch,Yb,pC,Ep,gC,yC,Ln],Kme),Wme=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ka(t,o),{tickCount:f}=e,h=0;return h=o==="angleAxis"&&r?.length>=2?_i(r[0]-r[1])*2*h:h,u&&a?a.map((d,p)=>{var y=n.map(d);return et(y)?{coordinate:y+h,value:d,index:p,offset:h}:null}).filter(Or):n.ticks?n.ticks(f).map((d,p)=>{var y=n.map(d);return et(y)?{coordinate:y+h,value:d,index:p,offset:h}:null}).filter(Or):n.domain().map((d,p)=>{var y=n.map(d);return et(y)?{coordinate:y+h,value:i?i[d]:d,index:p,offset:h}:null}).filter(Or)}},h8=re([Ut,xp,Yb,Ep,gC,yC,Ln],Wme),d8=re(wr,Yb,(t,e)=>{if(!(t==null||e==null))return S0(S0({},t),{},{scale:e})}),Yme=re([wr,ch,dC,s8],mC);re((t,e,n)=>uC(t,n),Yme,(t,e)=>{if(!(t==null||e==null))return S0(S0({},t),{},{scale:e})});var Xme=re([Ut,Ib,Cb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),m8=t=>t.options.defaultTooltipEventType,p8=t=>t.options.validateTooltipEventTypes;function g8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function vC(t,e){var n=m8(t),r=p8(t);return g8(e,n,r)}function Qme(t){return De(e=>vC(e,t))}var y8=(t,e)=>{var n,r=Number(e);if(!(Ba(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Zme=t=>t.tooltip.settings,Fo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Jme={itemInteraction:{click:Fo,hover:Fo},axisInteraction:{click:Fo,hover:Fo},keyboardInteraction:Fo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v8=Dr({name:"tooltip",initialState:Jme,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:kt()},removeTooltipEntrySettings:{reducer(t,e){var n=Zi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:kt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:epe,replaceTooltipEntrySettings:tpe,removeTooltipEntrySettings:npe,setTooltipSettingsState:rpe,setActiveMouseOverItemIndex:ipe,mouseLeaveItem:C_e,mouseLeaveChart:b8,setActiveClickItemIndex:P_e,setMouseOverAxisIndex:x8,setMouseClickAxisIndex:ape,setSyncInteraction:rS,setKeyboardInteraction:iS}=v8.actions,spe=v8.reducer;function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ope(t,e,n){return(e=lpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lpe(t){var e=upe(t,"string");return typeof e=="symbol"?e:e+""}function upe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cpe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function fpe(t){return t.index!=null}var _8=(t,e,n,r)=>{if(e==null)return Fo;var i=cpe(t,e,n);if(i==null)return Fo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(fpe(i)){if(a)return Cy(Cy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Cy(Cy({},Fo),{},{coordinate:i.coordinate})};function hpe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function dpe(t,e){var n=hpe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function mpe(t,e,n){if(n==null||e==null)return!0;var r=er(t,e);return r==null||!Vs(n)?!0:dpe(r,n)}var bC=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!et(a))return i;var o=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(o,Math.min(a,u)),h=e[f];return h==null||mpe(h,n,r)?String(f):null},w8=(t,e,n,r,i,a,o)=>{if(a!=null){var u=o[0],f=u?.getPosition(a);if(f!=null)return f;var h=i?.[Number(a)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},E8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},T8=t=>t.options.tooltipPayloadSearcher,fh=t=>t.tooltip;function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e,n){return(e=gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=ype(t,"string");return typeof e=="symbol"?e:e+""}function ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vpe(t,e){return t??e}var S8=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:d}=n,p=[];return t.reduce((y,b)=>{var w,{dataDefinedOnItem:S,settings:E}=b,C=vpe(S,u),D=Array.isArray(C)?t9(C,h,d):C,N=(w=E?.dataKey)!==null&&w!==void 0?w:r,M=E?.nameKey,V;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&o==="axis"?V=hB(D,r,i):V=a(D,e,f,M),Array.isArray(V))V.forEach(R=>{var O=lL(lL({},E),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});y.push(lj({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:er(R.payload,R.dataKey),name:R.name}))});else{var L;y.push(lj({tooltipEntrySettings:E,dataKey:N,payload:V,value:er(V,N),name:(L=er(V,M))!==null&&L!==void 0?L:E?.name}))}return y},p)}},xC=re([An,NF,tC],n8),bpe=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),xpe=re([zn,lh],DF),hh=re([bpe,An,xpe],kF,{memoizeOptions:{resultEqualityCheck:Kb}}),_pe=re([hh],t=>t.filter(lC)),wpe=re([hh],LF,{memoizeOptions:{resultEqualityCheck:Kb}}),dh=re([wpe,Ks],zF),Epe=re([_pe,Ks,An],PF),_C=re([dh,An,hh],UF),A8=re([An],fC),Tpe=re([An],t=>t.allowDataOverflow),I8=re([A8,Tpe],fF),Spe=re([hh],t=>t.filter(lC)),Ape=re([Epe,Spe,Bb,wF],FF),Ipe=re([Ape,Ks,zn,I8],$F),Cpe=re([hh],VF),Ppe=re([dh,An,Cpe,hC,zn],KF,{memoizeOptions:{resultEqualityCheck:Gb}}),Rpe=re([WF,zn,lh],uh),Ope=re([Rpe,zn],QF),Npe=re([YF,zn,lh],uh),Dpe=re([Npe,zn],ZF),Mpe=re([XF,zn,lh],uh),kpe=re([Mpe,zn],JF),jpe=re([Ope,kpe,Dpe],A0),Vpe=re([An,A8,I8,Ipe,Ppe,jpe,Ut,zn],e8),Tp=re([An,Ut,dh,_C,Bb,zn,Vpe],t8),Lpe=re([Tp,An,xC],r8),zpe=re([An,Tp,Lpe,zn],i8),C8=t=>{var e=zn(t),n=lh(t),r=!1;return Ep(t,e,n,r)},P8=re([An,C8],Fb),R8=re([An,xC,zpe,P8],mC),Upe=re([Ut,_C,An,zn],u8),Bpe=re([Ut,_C,An,zn],c8),Fpe=(t,e,n,r,i,a,o,u)=>{if(e){var{type:f}=e,h=Ka(t,u);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?_i(i[0]-i[1])*2*p:p,h&&o?o.map((y,b)=>{var w=r.map(y);return et(w)?{coordinate:w+p,value:y,index:b,offset:p}:null}).filter(Or):r.domain().map((y,b)=>{var w=r.map(y);return et(w)?{coordinate:w+p,value:a?a[y]:y,index:b,offset:p}:null}).filter(Or)}}},Xs=re([Ut,An,xC,R8,C8,Upe,Bpe,zn],Fpe),wC=re([m8,p8,Zme],(t,e,n)=>g8(n.shared,t,e)),O8=t=>t.tooltip.settings.trigger,EC=t=>t.tooltip.settings.defaultIndex,Sp=re([fh,wC,O8,EC],_8),zm=re([Sp,dh,wp,Tp],bC),N8=re([Xs,zm],y8),qpe=re([Sp],t=>{if(t)return t.dataKey});re([Sp],t=>{if(t)return t.graphicalItemId});var D8=re([fh,wC,O8,EC],E8),$pe=re([$s,Hs,Ut,tr,Xs,EC,D8],w8),Hpe=re([Sp,$pe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Gpe=re([Sp],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Kpe=re([D8,zm,Ks,wp,N8,T8,wC],S8),Wpe=re([Kpe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){Ype(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ype(t,e,n){return(e=Xpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xpe(t){var e=Qpe(t,"string");return typeof e=="symbol"?e:e+""}function Qpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zpe=()=>De(An),Jpe=()=>{var t=Zpe(),e=De(Xs),n=De(R8);return r0(!t||!n?void 0:cL(cL({},t),{},{scale:n}),e)};function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ege(t,e,n){return(e=tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tge(t){var e=nge(t,"string");return typeof e=="symbol"?e:e+""}function nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rge=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},ige=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Gc(Gc(Gc({},r),Jn(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:f}=r;return Gc(Gc(Gc({},r),Jn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function age(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var M8=(t,e,n,r,i)=>{var a,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var f,h,d,p,y,b=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[o-1])===null||h===void 0?void 0:h.coordinate,w=(d=n[u])===null||d===void 0?void 0:d.coordinate,S=u>=o-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(y=n[u+1])===null||y===void 0?void 0:y.coordinate,E=void 0;if(!(b==null||w==null||S==null))if(_i(w-b)!==_i(S-w)){var C=[];if(_i(S-w)===_i(i[1]-i[0])){E=S;var D=w+i[1]-i[0];C[0]=Math.min(D,(D+b)/2),C[1]=Math.max(D,(D+b)/2)}else{E=b;var N=S+i[1]-i[0];C[0]=Math.min(w,(N+w)/2),C[1]=Math.max(w,(N+w)/2)}var M=[Math.min(w,(E+w)/2),Math.max(w,(E+w)/2)];if(t>M[0]&&t<=M[1]||t>=C[0]&&t<=C[1]){var V;return(V=n[u])===null||V===void 0?void 0:V.index}}else{var L=Math.min(b,S),R=Math.max(b,S);if(t>(L+w)/2&&t<=(R+w)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(e)for(var k=0;k<o;k++){var F=e[k];if(F!=null){var B=e[k+1],U=e[k-1];if(k===0&&B!=null&&t<=(F.coordinate+B.coordinate)/2||k===o-1&&U!=null&&t>(F.coordinate+U.coordinate)/2||k>0&&k<o-1&&U!=null&&B!=null&&t>(F.coordinate+U.coordinate)/2&&t<=(F.coordinate+B.coordinate)/2)return F.index}}return-1},k8=()=>De(tC),TC=(t,e)=>e,j8=(t,e,n)=>n,SC=(t,e,n,r)=>r,sge=re(Xs,t=>yb(t,e=>e.coordinate)),AC=re([fh,TC,j8,SC],_8),IC=re([AC,dh,wp,Tp],bC),oge=(t,e,n)=>{if(e!=null){var r=fh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},V8=re([fh,TC,j8,SC],E8),I0=re([$s,Hs,Ut,tr,Xs,SC,V8],w8),lge=re([AC,I0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),L8=re([Xs,IC],y8),uge=re([V8,IC,Ks,wp,L8,T8,TC],S8),cge=re([AC,IC],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),fge=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&age(t,o)){var u=Vle(t,e),f=M8(u,a,i,n,r),h=rge(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},hge=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var u=Kce(t,n);if(u){var f=Lle(u,e),h=M8(f,o,a,r,i),d=ige(e,a,h,u);return{activeIndex:String(h),activeCoordinate:d}}}},dge=(t,e,n,r,i,a,o,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?fge(t,e,r,i,a,o,u):hge(t,e,n,r,i,a,o)},mge=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),pge=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(br)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Wde}});function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e,n){return(e=yge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=vge(t,"string");return typeof e=="symbol"?e:e+""}function vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bge={},xge={zIndexMap:Object.values(br).reduce((t,e)=>dL(dL({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),bge)},_ge=new Set(Object.values(br));function wge(t){return _ge.has(t)}var z8=Dr({name:"zIndex",initialState:xge,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!wge(n)&&delete t.zIndexMap[n])},prepare:kt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:kt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:kt()}}}),{registerZIndexPortal:Ege,unregisterZIndexPortal:Tge,registerZIndexPortalElement:Sge,unregisterZIndexPortalElement:Age}=z8.actions,Ige=z8.reducer;function Qs(t){var{zIndex:e,children:n}=t,r=gue(),i=r&&e!==void 0&&e!==0,a=Mr(),o=jn();T.useLayoutEffect(()=>i?(o(Ege({zIndex:e})),()=>{o(Tge({zIndex:e}))}):rh,[o,e,i]);var u=De(f=>mge(f,e,a));return i?u?k4.createPortal(n,u):null:n}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(null,arguments)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){Cge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cge(t,e,n){return(e=Pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pge(t){var e=Rge(t,"string");return typeof e=="symbol"?e:e+""}function Rge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oge(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function Nge(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:u,cursor:f,tooltipEventType:h,chartName:d}=t,p=n,y=r,b=i;if(!f||!p||d!=="ScatterChart"&&h!=="axis")return null;var w,S,E;if(d==="ScatterChart")w=p,S=ice,E=br.cursorLine;else if(d==="BarChart")w=ace(u,p,a,o),S=Vce,E=br.cursorRectangle;else if(u==="radial"&&dB(p)){var{cx:C,cy:D,radius:N,startAngle:M,endAngle:V}=I9(p);w={cx:C,cy:D,startAngle:M,endAngle:V,innerRadius:N,outerRadius:N},S=Qce,E=br.cursorLine}else w={points:Zce(u,p,a)},S=av,E=br.cursorLine;var L=typeof f=="object"&&"className"in f?f.className:void 0,R=Py(Py(Py(Py({stroke:"#ccc",pointerEvents:"none"},a),w),db(f)),{},{payload:y,payloadIndex:b,className:It("recharts-tooltip-cursor",L)});return T.createElement(Qs,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},T.createElement(Oge,{cursor:f,cursorComp:S,cursorProps:R}))}function Dge(t){var e=Jpe(),n=c9(),r=ih(),i=k8();return e==null||n==null||r==null||i==null?null:T.createElement(Nge,aS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var U8=T.createContext(null),Mge=()=>T.useContext(U8),J1={exports:{}},pL;function kge(){return pL||(pL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,d){this.fn=f,this.context=h,this.once=d||!1}function a(f,h,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,p||f,y),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},u.prototype.listeners=function(h){var d=n?n+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,w=new Array(b);y<b;y++)w[y]=p[y].fn;return w},u.prototype.listenerCount=function(h){var d=n?n+h:h,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,d,p,y,b,w){var S=n?n+h:h;if(!this._events[S])return!1;var E=this._events[S],C=arguments.length,D,N;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,y),!0;case 5:return E.fn.call(E.context,d,p,y,b),!0;case 6:return E.fn.call(E.context,d,p,y,b,w),!0}for(N=1,D=new Array(C-1);N<C;N++)D[N-1]=arguments[N];E.fn.apply(E.context,D)}else{var M=E.length,V;for(N=0;N<M;N++)switch(E[N].once&&this.removeListener(h,E[N].fn,void 0,!0),C){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,d);break;case 3:E[N].fn.call(E[N].context,d,p);break;case 4:E[N].fn.call(E[N].context,d,p,y);break;default:if(!D)for(V=1,D=new Array(C-1);V<C;V++)D[V-1]=arguments[V];E[N].fn.apply(E[N].context,D)}}return!0},u.prototype.on=function(h,d,p){return a(this,h,d,p,!1)},u.prototype.once=function(h,d,p){return a(this,h,d,p,!0)},u.prototype.removeListener=function(h,d,p,y){var b=n?n+h:h;if(!this._events[b])return this;if(!d)return o(this,b),this;var w=this._events[b];if(w.fn)w.fn===d&&(!y||w.once)&&(!p||w.context===p)&&o(this,b);else{for(var S=0,E=[],C=w.length;S<C;S++)(w[S].fn!==d||y&&!w[S].once||p&&w[S].context!==p)&&E.push(w[S]);E.length?this._events[b]=E.length===1?E[0]:E:o(this,b)}return this},u.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(J1)),J1.exports}var jge=kge();const Vge=ll(jge);var Um=new Vge,sS="recharts.syncEvent.tooltip",gL="recharts.syncEvent.brush",Lge=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ba(n))return t[n]}},zge={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},B8=Dr({name:"options",initialState:zge,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Uge=B8.reducer,{createEventEmitter:Bge}=B8.actions;function Fge(t){return t.tooltip.syncInteraction}var qge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},F8=Dr({name:"chartData",initialState:qge,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:yL,setDataStartEndIndexes:$ge,setComputedData:R_e}=F8.actions,Hge=F8.reducer,Gge=["x","y"];function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){Kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Yge(t,"string");return typeof e=="symbol"?e:e+""}function Yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xge(t,e){if(t==null)return{};var n,r,i=Qge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zge(){var t=De(nC),e=De(rC),n=jn(),r=De(EF),i=De(Xs),a=ih(),o=Ob(),u=De(f=>f.rootProps.className);T.useEffect(()=>{if(t==null)return rh;var f=(h,d,p)=>{if(e!==p&&t===h){if(r==="index"){var y;if(o&&d!==null&&d!==void 0&&(y=d.payload)!==null&&y!==void 0&&y.coordinate&&d.payload.sourceViewBox){var b=d.payload.coordinate,{x:w,y:S}=b,E=Xge(b,Gge),{x:C,y:D,width:N,height:M}=d.payload.sourceViewBox,V=Kc(Kc({},E),{},{x:o.x+(N?(w-C)/N:0)*o.width,y:o.y+(M?(S-D)/M:0)*o.height});n(Kc(Kc({},d),{},{payload:Kc(Kc({},d.payload),{},{coordinate:V})}))}else n(d);return}if(i!=null){var L;if(typeof r=="function"){var R={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=r(i,R);L=i[O]}else r==="value"&&(L=i.find(W=>String(W.value)===d.payload.label));var{coordinate:k}=d.payload;if(L==null||d.payload.active===!1||k==null||o==null){n(rS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:B}=k,U=Math.min(F,o.x+o.width),q=Math.min(B,o.y+o.height),K={x:a==="horizontal"?L.coordinate:U,y:a==="horizontal"?q:L.coordinate},he=rS({active:d.payload.active,coordinate:K,dataKey:d.payload.dataKey,index:String(L.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(he)}}};return Um.on(sS,f),()=>{Um.off(sS,f)}},[u,n,e,t,r,i,a,o])}function Jge(){var t=De(nC),e=De(rC),n=jn();T.useEffect(()=>{if(t==null)return rh;var r=(i,a,o)=>{e!==o&&t===i&&n($ge(a))};return Um.on(gL,r),()=>{Um.off(gL,r)}},[n,e,t])}function eye(){var t=jn();T.useEffect(()=>{t(Bge())},[t]),Zge(),Jge()}function tye(t,e,n,r,i,a){var o=De(b=>oge(b,t,e)),u=De(rC),f=De(nC),h=De(EF),d=De(Fge),p=d?.active,y=Ob();T.useEffect(()=>{if(!p&&f!=null&&u!=null){var b=rS({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Um.emit(sS,f,b,u)}},[p,n,o,i,r,u,f,h,a,y])}function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(r){nye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nye(t,e,n){return(e=rye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rye(t){var e=iye(t,"string");return typeof e=="symbol"?e:e+""}function iye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aye(t){return t.dataKey}function sye(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(Vue,e)}var _L=[],oye={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wL(t){var e,n,r=ni(t,oye),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:u,content:f,filterNull:h,isAnimationActive:d,offset:p,payloadUniqBy:y,position:b,reverseDirection:w,useTranslate3d:S,wrapperStyle:E,cursor:C,shared:D,trigger:N,defaultIndex:M,portal:V,axisId:L}=r,R=jn(),O=typeof M=="number"?String(M):M;T.useEffect(()=>{R(rpe({shared:D,trigger:N,axisId:L,active:i,defaultIndex:O}))},[R,D,N,L,i,O]);var k=Ob(),F=_9(),B=Qme(D),{activeIndex:U,isActive:q}=(e=De(Me=>cge(Me,B,N,O)))!==null&&e!==void 0?e:{},K=De(Me=>uge(Me,B,N,O)),he=De(Me=>L8(Me,B,N,O)),W=De(Me=>lge(Me,B,N,O)),ie=K,de=Mge(),_e=(n=i??q)!==null&&n!==void 0?n:!1,[Ae,H]=Toe([ie,_e]),ae=B==="axis"?he:void 0;tye(B,N,W,ae,U,_e);var pe=V??de;if(pe==null||k==null||B==null)return null;var ge=ie??_L;_e||(ge=_L),h&&ge.length&&(ge=Xse(ge.filter(Me=>Me.value!=null&&(Me.hide!==!0||r.includeHidden)),y,aye));var Re=ge.length>0,je=T.createElement($ue,{allowEscapeViewBox:a,animationDuration:o,animationEasing:u,isAnimationActive:d,active:_e,coordinate:W,hasPayload:Re,offset:p,position:b,reverseDirection:w,useTranslate3d:S,viewBox:k,wrapperStyle:E,lastBoundingBox:Ae,innerRef:H,hasPortalFromProps:!!V},sye(f,xL(xL({},r),{},{payload:ge,label:ae,active:_e,activeIndex:U,coordinate:W,accessibilityLayer:F})));return T.createElement(T.Fragment,null,k4.createPortal(je,pe),_e&&T.createElement(Dge,{cursor:C,tooltipEventType:B,coordinate:W,payload:ge,index:U}))}function lye(t,e,n){return(e=uye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uye(t){var e=cye(t,"string");return typeof e=="symbol"?e:e+""}function cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fye{constructor(e){lye(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e,n){return(e=mye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=pye(t,"string");return typeof e=="symbol"?e:e+""}function pye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gye={cacheSize:2e3,enableCache:!0},q8=hye({},gye),TL=new fye(q8.cacheSize),yye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SL="recharts_measurement_span";function vye(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var AL=(t,e)=>{try{var n=document.getElementById(SL);n||(n=document.createElement("span"),n.setAttribute("id",SL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,yye,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},rm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pp.isSsr)return{width:0,height:0};if(!q8.enableCache)return AL(e,n);var r=vye(e,n),i=TL.get(r);if(i)return i;var a=AL(e,n);return TL.set(r,a),a},$8;function bye(t,e,n){return(e=xye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xye(t){var e=_ye(t,"string");return typeof e=="symbol"?e:e+""}function _ye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Eye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Tye={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sye=["cm","mm","pt","pc","in","Q","px"];function Aye(t){return Sye.includes(t)}var lf="NaN";function Iye(t,e){return t*Tye[e]}class Xn{static parse(e){var n,[,r,i]=(n=Eye.exec(e))!==null&&n!==void 0?n:[];return r==null?Xn.NaN:new Xn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ba(e)&&(this.unit=""),n!==""&&!wye.test(n)&&(this.num=NaN,this.unit=""),Aye(n)&&(this.num=Iye(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xn(NaN,""):new Xn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ba(this.num)}}$8=Xn;bye(Xn,"NaN",new $8(NaN,""));function H8(t){if(t==null||t.includes(lf))return lf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=IL.exec(e))!==null&&n!==void 0?n:[],o=Xn.parse(r??""),u=Xn.parse(a??""),f=i==="*"?o.multiply(u):o.divide(u);if(f.isNaN())return lf;e=e.replace(IL,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,d,p,y]=(h=CL.exec(e))!==null&&h!==void 0?h:[],b=Xn.parse(d??""),w=Xn.parse(y??""),S=p==="+"?b.add(w):b.subtract(w);if(S.isNaN())return lf;e=e.replace(CL,S.toString())}return e}var PL=/\(([^()]*)\)/;function Cye(t){for(var e=t,n;(n=PL.exec(e))!=null;){var[,r]=n;e=e.replace(PL,H8(r))}return e}function Pye(t){var e=t.replace(/\s+/g,"");return e=Cye(e),e=H8(e),e}function Rye(t){try{return Pye(t)}catch{return lf}}function eE(t){var e=Rye(t.slice(5,-1));return e===lf?"":e}var Oye=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nye=["dx","dy","angle","className","breakAll"];function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(null,arguments)}function RL(t,e){if(t==null)return{};var n,r,i=Dye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var G8=/[ \f\n\r\t\v\u2028\u2029]+/,K8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];fr(e)||(n?i=e.toString().split(""):i=e.toString().split(G8));var a=i.map(u=>({word:u,width:rm(u,r).width})),o=n?0:rm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function Mye(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var W8=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:u}=a,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(o),f.width+=u+n;else{var h={words:[o],width:u};i.push(h)}return i},[]),Y8=t=>t.reduce((e,n)=>e.width>n.width?e:n),kye="",OL=(t,e,n,r,i,a,o,u)=>{var f=t.slice(0,e),h=K8({breakAll:n,style:r,children:f+kye});if(!h)return[!1,[]];var d=W8(h.wordsWithComputedWidth,a,o,u),p=d.length>i||Y8(d).width>Number(a);return[p,d]},jye=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:f}=t,h=Ce(a),d=String(o),p=W8(e,r,n,i);if(!h||i)return p;var y=p.length>a||Y8(p).width>Number(r);if(!y)return p;for(var b=0,w=d.length-1,S=0,E;b<=w&&S<=d.length-1;){var C=Math.floor((b+w)/2),D=C-1,[N,M]=OL(d,D,f,u,a,r,n,i),[V]=OL(d,C,f,u,a,r,n,i);if(!N&&!V&&(b=C+1),N&&V&&(w=C-1),!N&&V){E=M;break}S++}return E||p},NL=t=>{var e=fr(t)?[]:t.toString().split(G8);return[{words:e,width:void 0}]},Vye=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!pp.isSsr){var u,f,h=K8({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:d,spaceWidth:p}=h;u=d,f=p}else return NL(r);return jye({breakAll:a,children:r,maxLines:o,style:i},u,f,e,!!n)}return NL(r)},X8="#808080",Lye={angle:0,breakAll:!1,capHeight:"0.71em",fill:X8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},CC=T.forwardRef((t,e)=>{var n=ni(t,Lye),{x:r,y:i,lineHeight:a,capHeight:o,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:d}=n,p=RL(n,Oye),y=T.useMemo(()=>Vye({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:f,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,f,p.style,p.width]),{dx:b,dy:w,angle:S,className:E,breakAll:C}=p,D=RL(p,Nye);if(!Fa(r)||!Fa(i)||y.length===0)return null;var N=Number(r)+(Ce(b)?b:0),M=Number(i)+(Ce(w)?w:0);if(!et(N)||!et(M))return null;var V;switch(d){case"start":V=eE("calc(".concat(o,")"));break;case"middle":V=eE("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:V=eE("calc(".concat(y.length-1," * -").concat(a,")"));break}var L=[],R=y[0];if(f&&R!=null){var O=R.width,{width:k}=p;L.push("scale(".concat(Ce(k)&&Ce(O)?k/O:1,")"))}return S&&L.push("rotate(".concat(S,", ").concat(N,", ").concat(M,")")),L.length&&(D.transform=L.join(" ")),T.createElement("text",oS({},Ii(D),{ref:e,x:N,y:M,className:It("recharts-text",E),textAnchor:h,fill:u.includes("url")?X8:u}),y.map((F,B)=>{var U=F.words.join(C?"":" ");return T.createElement("tspan",{x:N,dy:B===0?V:a,key:"".concat(U,"-").concat(B)},U)}))});CC.displayName="Text";function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){zye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zye(t,e,n){return(e=Uye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uye(t){var e=Bye(t,"string");return typeof e=="symbol"?e:e+""}function Bye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fye=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:o,height:u,upperWidth:f,lowerWidth:h}=AI(e),d=a,p=a+(f-h)/2,y=(d+p)/2,b=(f+h)/2,w=d+f/2,S=u>=0?1:-1,E=S*r,C=S>0?"end":"start",D=S>0?"start":"end",N=f>=0?1:-1,M=N*r,V=N>0?"end":"start",L=N>0?"start":"end",R=i;if(n==="top"){var O={x:d+f/2,y:o-E,horizontalAnchor:"middle",verticalAnchor:C};return R&&(O.height=Math.max(o-R.y,0),O.width=f),O}if(n==="bottom"){var k={x:p+h/2,y:o+u+E,horizontalAnchor:"middle",verticalAnchor:D};return R&&(k.height=Math.max(R.y+R.height-(o+u),0),k.width=h),k}if(n==="left"){var F={x:y-M,y:o+u/2,horizontalAnchor:V,verticalAnchor:"middle"};return R&&(F.width=Math.max(F.x-R.x,0),F.height=u),F}if(n==="right"){var B={x:y+b+M,y:o+u/2,horizontalAnchor:L,verticalAnchor:"middle"};return R&&(B.width=Math.max(R.x+R.width-B.x,0),B.height=u),B}var U=R?{width:b,height:u}:{};return n==="insideLeft"?Ta({x:y+M,y:o+u/2,horizontalAnchor:L,verticalAnchor:"middle"},U):n==="insideRight"?Ta({x:y+b-M,y:o+u/2,horizontalAnchor:V,verticalAnchor:"middle"},U):n==="insideTop"?Ta({x:d+f/2,y:o+E,horizontalAnchor:"middle",verticalAnchor:D},U):n==="insideBottom"?Ta({x:p+h/2,y:o+u-E,horizontalAnchor:"middle",verticalAnchor:C},U):n==="insideTopLeft"?Ta({x:d+M,y:o+E,horizontalAnchor:L,verticalAnchor:D},U):n==="insideTopRight"?Ta({x:d+f-M,y:o+E,horizontalAnchor:V,verticalAnchor:D},U):n==="insideBottomLeft"?Ta({x:p+M,y:o+u-E,horizontalAnchor:L,verticalAnchor:C},U):n==="insideBottomRight"?Ta({x:p+h-M,y:o+u-E,horizontalAnchor:V,verticalAnchor:C},U):n&&typeof n=="object"&&(Ce(n.x)||Vu(n.x))&&(Ce(n.y)||Vu(n.y))?Ta({x:a+ol(n.x,b),y:o+ol(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},U):Ta({x:w,y:o+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},U)},qye=["labelRef"],$ye=["content"];function ML(t,e){if(t==null)return{};var n,r,i=Hye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){Gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gye(t,e,n){return(e=Kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Wye(t,"string");return typeof e=="symbol"?e:e+""}function Wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(null,arguments)}var Q8=T.createContext(null),Yye=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:u}=t,f=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return T.createElement(Q8.Provider,{value:f},u)},Z8=()=>{var t=T.useContext(Q8),e=Ob();return t||(e?AI(e):void 0)},Xye=T.createContext(null),Qye=()=>{var t=T.useContext(Xye),e=De(CF);return t||e},Zye=t=>{var{value:e,formatter:n}=t,r=fr(t.children)?e:t.children;return typeof n=="function"?n(r):r},PC=t=>t!=null&&typeof t=="function",Jye=(t,e)=>{var n=_i(e-t),r=Math.min(Math.abs(e-t),360);return n*r},eve=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:u,cy:f,innerRadius:h,outerRadius:d,startAngle:p,endAngle:y,clockWise:b}=i,w=(h+d)/2,S=Jye(p,y),E=S>=0?1:-1,C,D;switch(e){case"insideStart":C=p+E*a,D=b;break;case"insideEnd":C=y-E*a,D=!b;break;case"end":C=y+E*a,D=b;break;default:throw new Error("Unsupported position ".concat(e))}D=S<=0?D:!D;var N=Jn(u,f,w,C),M=Jn(u,f,w,C+(D?1:-1)*359),V="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(D?0:1,`,
    `).concat(M.x,",").concat(M.y),L=fr(t.id)?Am("recharts-radial-line-"):t.id;return T.createElement("text",ps({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:L,d:V})),T.createElement("textPath",{xlinkHref:"#".concat(L)},n))},tve=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:d,y:p}=Jn(r,i,o+e,h);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:w}=Jn(r,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ov=t=>t!=null&&"cx"in t&&Ce(t.cx),nve={angle:0,offset:5,zIndex:br.label,position:"middle",textBreakAll:!1};function rve(t){if(!ov(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function jo(t){var e=ni(t,nve),{viewBox:n,parentViewBox:r,position:i,value:a,children:o,content:u,className:f="",textBreakAll:h,labelRef:d}=e,p=Qye(),y=Z8(),b=i==="center"?y:p??y,w,S,E;n==null?w=b:ov(n)?w=n:w=AI(n);var C=rve(w);if(!w||fr(a)&&fr(o)&&!T.isValidElement(u)&&typeof u!="function")return null;var D=Fd(Fd({},e),{},{viewBox:w});if(T.isValidElement(u)){var{labelRef:N}=D,M=ML(D,qye);return T.cloneElement(u,M)}if(typeof u=="function"){var{content:V}=D,L=ML(D,$ye);if(S=T.createElement(u,L),T.isValidElement(S))return S}else S=Zye(e);var R=Ii(e);if(ov(w)){if(i==="insideStart"||i==="insideEnd"||i==="end")return eve(e,i,S,R,w);E=tve(w,e.offset,e.position)}else{if(!C)return null;var O=Fye({viewBox:C,position:i,offset:e.offset,parentViewBox:ov(r)?void 0:r});E=Fd(Fd({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return T.createElement(Qs,{zIndex:e.zIndex},T.createElement(CC,ps({ref:d,className:It("recharts-label",f)},R,E,{textAnchor:Mye(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:h}),S))}jo.displayName="Label";var ive=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(jo,ps({key:"label-implicit"},r)):Fa(t)?T.createElement(jo,ps({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===jo?T.cloneElement(t,Fd({key:"label-implicit"},r)):T.createElement(jo,ps({key:"label-implicit",content:t},r)):PC(t)?T.createElement(jo,ps({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(jo,ps({},t,{key:"label-implicit"},r)):null};function ave(t){var{label:e,labelRef:n}=t,r=Z8();return ive(e,r,n)||null}var tE={},nE={},jL;function sve(){return jL||(jL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(nE)),nE}var rE={},VL;function ove(){return VL||(VL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(rE)),rE}var LL;function lve(){return LL||(LL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sve(),n=ove(),r=gI();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(tE)),tE}var iE,zL;function uve(){return zL||(zL=1,iE=lve().last),iE}var cve=uve();const fve=ll(cve);var hve=["valueAccessor"],dve=["dataKey","clockWise","id","textBreakAll","zIndex"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(null,arguments)}function UL(t,e){if(t==null)return{};var n,r,i=mve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pve=t=>Array.isArray(t.value)?fve(t.value):t.value,J8=T.createContext(void 0),gve=J8.Provider,eq=T.createContext(void 0);eq.Provider;function yve(){return T.useContext(J8)}function vve(){return T.useContext(eq)}function lv(t){var{valueAccessor:e=pve}=t,n=UL(t,hve),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:u}=n,f=UL(n,dve),h=yve(),d=vve(),p=h||d;return!p||!p.length?null:T.createElement(Qs,{zIndex:u??br.label},T.createElement(Ua,{className:"recharts-label-list"},p.map((y,b)=>{var w,S=fr(r)?e(y,b):er(y.payload,r),E=fr(a)?{}:{id:"".concat(a,"-").concat(b)};return T.createElement(jo,C0({key:"label-".concat(b)},Ii(y),f,E,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:o,viewBox:y.viewBox,index:b,zIndex:0}))})))}lv.displayName="LabelList";function bve(t){var{label:e}=t;return e?e===!0?T.createElement(lv,{key:"labelList-implicit"}):T.isValidElement(e)||PC(e)?T.createElement(lv,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(lv,C0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}var tq=t=>{var{cx:e,cy:n,r,className:i}=t,a=It("recharts-dot",i);return Ce(e)&&Ce(n)&&Ce(r)?T.createElement("circle",lS({},Ji(t),pI(t),{className:a,cx:e,cy:n,r})):null},xve={radiusAxis:{},angleAxis:{}},nq=Dr({name:"polarAxis",initialState:xve,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:O_e,removeRadiusAxis:N_e,addAngleAxis:D_e,removeAngleAxis:M_e}=nq.actions,_ve=nq.reducer;function wve(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var rq=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function Eve(t){var{tooltipEntrySettings:e}=t,n=jn(),r=Mr(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(epe(e)):i.current!==e&&n(tpe({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(npe(i.current)),i.current=null)},[n]),null}function Tve(t){var{legendPayload:e}=t,n=jn(),r=Mr(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Pue(e)):i.current!==e&&n(Rue({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Oue(i.current)),i.current=null)},[n]),null}var aE,Sve=()=>{var[t]=T.useState(()=>Am("uid-"));return t},Ave=(aE=d$.useId)!==null&&aE!==void 0?aE:Sve;function Ive(t,e){var n=Ave();return e||(t?"".concat(t,"-").concat(n):n)}var Cve=T.createContext(void 0),Pve=t=>{var{id:e,type:n,children:r}=t,i=Ive("recharts-".concat(n),e);return T.createElement(Cve.Provider,{value:i},r(i))},Rve={cartesianItems:[],polarItems:[]},iq=Dr({name:"graphicalItems",initialState:Rve,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:kt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Zi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:kt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(t,e){var n=Zi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:kt()}}}),{addCartesianGraphicalItem:Ove,replaceCartesianGraphicalItem:Nve,removeCartesianGraphicalItem:Dve,addPolarGraphicalItem:k_e,removePolarGraphicalItem:j_e}=iq.actions,Mve=iq.reducer,kve=t=>{var e=jn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Ove(t)):n.current!==t&&e(Nve({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(Dve(n.current)),n.current=null)},[e]),null},jve=T.memo(kve),Vve=["points"];function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){Lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lve(t,e,n){return(e=zve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zve(t){var e=Uve(t,"string");return typeof e=="symbol"?e:e+""}function Uve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(null,arguments)}function Bve(t,e){if(t==null)return{};var n,r,i=Fve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qve(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=It(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,u=Bve(a,Vve);return T.createElement(tq,P0({},u,{className:i}))}function $ve(t,e){return t==null?!1:e?!0:t.length===1}function Hve(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:u,clipPathId:f,zIndex:h=br.scatter}=t;if(!$ve(e,n))return null;var d=rq(n),p=qae(n),y=e.map((w,S)=>{var E,C,D=sE(sE(sE({r:3},o),p),{},{index:S,cx:(E=w.x)!==null&&E!==void 0?E:void 0,cy:(C=w.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return T.createElement(qve,{key:"dot-".concat(S),option:n,dotProps:D,className:i})}),b={};return u&&f!=null&&(b.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(f,")")),T.createElement(Qs,{zIndex:h},T.createElement(Ua,P0({className:r},b),y))}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){Gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e,n){return(e=Kve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kve(t){var e=Wve(t,"string");return typeof e=="symbol"?e:e+""}function Wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aq=0,Yve={xAxis:{},yAxis:{},zAxis:{}},sq=Dr({name:"cartesianAxis",initialState:Yve,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:kt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:kt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:kt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:kt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:kt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:kt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:kt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:kt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:kt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var u=[...o,r].slice(-3);t.yAxis[n]=qL(qL({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:Xve,replaceXAxis:Qve,removeXAxis:Zve,addYAxis:Jve,replaceYAxis:e0e,removeYAxis:t0e,addZAxis:V_e,replaceZAxis:L_e,removeZAxis:z_e,updateYAxisWidth:n0e}=sq.actions,r0e=sq.reducer,i0e=re([tr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),a0e=re([i0e,$s,Hs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),RC=()=>De(a0e),s0e=()=>De(Wpe);function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){o0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o0e(t,e,n){return(e=l0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l0e(t){var e=u0e(t,"string");return typeof e=="symbol"?e:e+""}function u0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c0e=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=oE(oE(oE({},u),db(i)),pI(i)),h;return T.isValidElement(i)?h=T.cloneElement(i,f):typeof i=="function"?h=i(f):h=T.createElement(tq,f),T.createElement(Ua,{className:"recharts-active-dot",clipPath:o},h)};function HL(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=br.activeDot}=t,u=De(zm),f=s0e();if(e==null||f==null)return null;var h=e.find(d=>f.includes(d.payload));return fr(h)?null:T.createElement(Qs,{zIndex:o},T.createElement(c0e,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var f0e=t=>{var{chartData:e}=t,n=jn(),r=Mr();return T.useEffect(()=>r?()=>{}:(n(yL(e)),()=>{n(yL(void 0))}),[e,n,r]),null},GL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oq=Dr({name:"brush",initialState:GL,reducers:{setBrushSettings(t,e){return e.payload==null?GL:e.payload}}}),{setBrushSettings:U_e}=oq.actions,h0e=oq.reducer;function d0e(t){return(t%180+180)%180}var m0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=d0e(i),o=a*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},p0e={dots:[],areas:[],lines:[]},lq=Dr({name:"referenceElements",initialState:p0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Zi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Zi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Zi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:B_e,removeDot:F_e,addArea:q_e,removeArea:$_e,addLine:H_e,removeLine:G_e}=lq.actions,g0e=lq.reducer,y0e=T.createContext(void 0),v0e=t=>{var{children:e}=t,[n]=T.useState("".concat(Am("recharts"),"-clip")),r=RC();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return T.createElement(y0e.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:u,width:o}))),e)};function uq(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function b0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return m0e(r,n)}function x0e(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:u}=t;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function Bm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function _0e(t,e){return uq(t,e+1)}function w0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=e,f=0,h=1,d=o,p=function(){var w=r?.[f];if(w===void 0)return{v:uq(r,h)};var S=f,E,C=()=>(E===void 0&&(E=n(w,S)),E),D=w.coordinate,N=f===0||Bm(t,D,C,d,u);N||(f=0,d=o,h+=1),N&&(d=D+t*(C()/2+i),f+=h)},y;h<=a.length;)if(y=p(),y)return y.v;return[]}function E0e(t,e,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:u,end:f}=e,h=1;h<=o;h++){for(var d=(o-1)%h,p=u,y=!0,b=function(){var M=r[S];if(M==null)return 0;var V=S,L,R=()=>(L===void 0&&(L=n(M,V)),L),O=M.coordinate,k=S===d||Bm(t,O,R,p,f);if(!k)return y=!1,1;k&&(p=O+t*(R()/2+i))},w,S=d;S<o&&(w=b(),!(w!==0&&w===1));S+=h);if(y){for(var E=[],C=d;C<o;C+=h){var D=r[C];D!=null&&E.push(D)}return E}}return[]}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){T0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0e(t,e,n){return(e=S0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S0e(t){var e=A0e(t,"string");return typeof e=="symbol"?e:e+""}function A0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=e,{end:f}=e,h=function(y){var b=a[y];if(b==null)return 1;var w=b,S,E=()=>(S===void 0&&(S=n(b,y)),S);if(y===o-1){var C=t*(w.coordinate+t*E()/2-f);a[y]=w=ir(ir({},w),{},{tickCoord:C>0?w.coordinate-C*t:w.coordinate})}else a[y]=w=ir(ir({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var D=Bm(t,w.tickCoord,E,u,f);D&&(f=w.tickCoord-t*(E()/2+i),a[y]=ir(ir({},w),{},{isShow:!0}))}},d=o-1;d>=0;d--)h(d);return a}function C0e(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:f,end:h}=e;if(a){var d=r[u-1];if(d!=null){var p=n(d,u-1),y=t*(d.coordinate+t*p/2-h);if(o[u-1]=d=ir(ir({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate}),d.tickCoord!=null){var b=Bm(t,d.tickCoord,()=>p,f,h);b&&(h=d.tickCoord-t*(p/2+i),o[u-1]=ir(ir({},d),{},{isShow:!0}))}}}for(var w=a?u-1:u,S=function(D){var N=o[D];if(N==null)return 1;var M=N,V,L=()=>(V===void 0&&(V=n(N,D)),V);if(D===0){var R=t*(M.coordinate-t*L()/2-f);o[D]=M=ir(ir({},M),{},{tickCoord:R<0?M.coordinate-R*t:M.coordinate})}else o[D]=M=ir(ir({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var O=Bm(t,M.tickCoord,L,f,h);O&&(f=M.tickCoord+t*(L()/2+i),o[D]=ir(ir({},M),{},{isShow:!0}))}},E=0;E<w;E++)S(E);return o}function OC(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:f,tickFormatter:h,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Ce(f)||pp.isSsr){var y;return(y=_0e(i,Ce(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=u==="top"||u==="bottom"?"width":"height",S=d&&w==="width"?rm(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(V,L)=>{var R=typeof h=="function"?h(V.value,L):V.value;return w==="width"?b0e(rm(R,{fontSize:e,letterSpacing:n}),S,p):rm(R,{fontSize:e,letterSpacing:n})[w]},C=i[0],D=i[1],N=i.length>=2&&C!=null&&D!=null?_i(D.coordinate-C.coordinate):1,M=x0e(a,N,w);return f==="equidistantPreserveStart"?w0e(N,M,E,i,o):f==="equidistantPreserveEnd"?E0e(N,M,E,i,o):(f==="preserveStart"||f==="preserveStartEnd"?b=C0e(N,M,E,i,o,f==="preserveStartEnd"):b=I0e(N,M,E,i,o),b.filter(V=>V.isShow))}var P0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,h=o+f+u+(n?r:0);return Math.round(h)}return 0},R0e=["axisLine","width","height","className","hide","ticks","axisType"];function O0e(t,e){if(t==null)return{};var n,r,i=N0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(null,arguments)}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){D0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0e(t,e,n){return(e=M0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0e(t){var e=k0e(t,"string");return typeof e=="symbol"?e:e+""}function k0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ss={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:br.axis};function j0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=Yt(Yt(Yt({},f),Ji(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);h=Yt(Yt({},h),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);h=Yt(Yt({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",Fu({},h,{className:It("recharts-cartesian-axis-line",gb(u,"className"))}))}function V0e(t,e,n,r,i,a,o,u,f){var h,d,p,y,b,w,S=u?-1:1,E=t.tickSize||o,C=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=d=t.coordinate,y=n+ +!u*i,p=y-S*E,w=p-S*f,b=C;break;case"left":p=y=t.coordinate,d=e+ +!u*r,h=d-S*E,b=h-S*f,w=C;break;case"right":p=y=t.coordinate,d=e+ +u*r,h=d+S*E,b=h+S*f,w=C;break;default:h=d=t.coordinate,y=n+ +u*i,p=y+S*E,w=p+S*f,b=C;break}return{line:{x1:h,y1:p,x2:d,y2:y},tick:{x:b,y:w}}}function L0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function z0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function U0e(t){var{option:e,tickProps:n,value:r}=t,i,a=It(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Yt(Yt({},n),{},{className:a}));else if(typeof e=="function")i=e(Yt(Yt({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=It(o,wve(e))),i=T.createElement(CC,Fu({},n,{className:o}),r)}return i}var B0e=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:u,padding:f,tickTextProps:h,orientation:d,mirror:p,x:y,y:b,width:w,height:S,tickSize:E,tickMargin:C,fontSize:D,letterSpacing:N,getTicksConfig:M,events:V,axisType:L}=t,R=OC(Yt(Yt({},M),{},{ticks:n}),D,N),O=L0e(d,p),k=z0e(d,p),F=Ji(M),B=db(r),U={};typeof i=="object"&&(U=i);var q=Yt(Yt({},F),{},{fill:"none"},U),K=R.map(ie=>Yt({entry:ie},V0e(ie,y,b,w,S,d,E,p,C))),he=K.map(ie=>{var{entry:de,line:_e}=ie;return T.createElement(Ua,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},i&&T.createElement("line",Fu({},q,_e,{className:It("recharts-cartesian-axis-tick-line",gb(i,"className"))})))}),W=K.map((ie,de)=>{var _e,Ae,{entry:H,tick:ae}=ie,pe=Yt(Yt(Yt(Yt({verticalAnchor:k},F),{},{textAnchor:O,stroke:"none",fill:a},ae),{},{index:de,payload:H,visibleTicksCount:R.length,tickFormatter:o,padding:f},h),{},{angle:(_e=(Ae=h?.angle)!==null&&Ae!==void 0?Ae:F.angle)!==null&&_e!==void 0?_e:0}),ge=Yt(Yt({},pe),B);return T.createElement(Ua,Fu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Sse(V,H,de)),r&&T.createElement(U0e,{option:r,tickProps:ge,value:"".concat(typeof o=="function"?o(H.value,de):H.value).concat(u||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},W.length>0&&T.createElement(Qs,{zIndex:br.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},W)),he.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},he))}),F0e=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:u,axisType:f}=t,h=O0e(t,R0e),[d,p]=T.useState(""),[y,b]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return P0e({ticks:w.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=T.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var D=C[0];if(D){var N=window.getComputedStyle(D),M=N.fontSize,V=N.letterSpacing;(M!==d||V!==y)&&(p(M),b(V))}}},[d,y]);return o||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Qs,{zIndex:t.zIndex},T.createElement(Ua,{className:It("recharts-cartesian-axis",a)},T.createElement(j0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ji(t)}),T.createElement(B0e,{ref:S,axisType:f,events:h,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(Yye,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(ave,{label:t.label,labelRef:t.labelRef}),t.children)))}),NC=T.forwardRef((t,e)=>{var n=ni(t,Ss);return T.createElement(F0e,Fu({},n,{ref:e}))});NC.displayName="CartesianAxis";var q0e=["x1","y1","x2","y2","key"],$0e=["offset"],H0e=["xAxisId","yAxisId"],G0e=["xAxisId","yAxisId"];function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){K0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0e(t,e,n){return(e=W0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=Y0e(t,"string");return typeof e=="symbol"?e:e+""}function Y0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(null,arguments)}function R0(t,e){if(t==null)return{};var n,r,i=X0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function X0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Q0e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=t;return T.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cq(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:u,y2:f,key:h}=n,d=R0(n,q0e),p=(i=Ji(d))!==null&&i!==void 0?i:{},{offset:y}=p,b=R0(p,$0e);r=T.createElement("line",mu({},b,{x1:a,y1:o,x2:u,y2:f,fill:"none",key:h}))}return r}function Z0e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=R0(t,H0e),f=i.map((h,d)=>{var p=sr(sr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(d),index:d});return T.createElement(cq,{key:"line-".concat(d),option:r,lineItemProps:p})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function J0e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=R0(t,G0e),f=i.map((h,d)=>{var p=sr(sr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(d),index:d});return T.createElement(cq,{option:r,lineItemProps:p,key:"line-".concat(d)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ebe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var b=h[y+1],w=b==null,S=w?i+o-p:b-p;if(S<=0)return null;var E=y%e.length;return T.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:S,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function tbe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var b=h[y+1],w=b==null,S=w?i+o-p:b-p;if(S<=0)return null;var E=y%n.length;return T.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var nbe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return n9(OC(sr(sr(sr({},Ss),n),{},{ticks:r9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},rbe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return n9(OC(sr(sr(sr({},Ss),n),{},{ticks:r9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},ibe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:br.grid};function uS(t){var e=f9(),n=h9(),r=c9(),i=sr(sr({},ni(t,ibe)),{},{x:Ce(t.x)?t.x:r.left,y:Ce(t.y)?t.y:r.top,width:Ce(t.width)?t.width:r.width,height:Ce(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:f,width:h,height:d,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,w=Mr(),S=De(k=>aL(k,"xAxis",a,w)),E=De(k=>aL(k,"yAxis",o,w));if(!qa(h)||!qa(d)||!Ce(u)||!Ce(f))return null;var C=i.verticalCoordinatesGenerator||nbe,D=i.horizontalCoordinatesGenerator||rbe,{horizontalPoints:N,verticalPoints:M}=i;if((!N||!N.length)&&typeof D=="function"){var V=y&&y.length,L=D({yAxis:E?sr(sr({},E),{},{ticks:V?y:E.ticks}):void 0,width:e??h,height:n??d,offset:r},V?!0:p);i0(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(N=L)}if((!M||!M.length)&&typeof C=="function"){var R=b&&b.length,O=C({xAxis:S?sr(sr({},S),{},{ticks:R?b:S.ticks}):void 0,width:e??h,height:n??d,offset:r},R?!0:p);i0(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(M=O)}return T.createElement(Qs,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Q0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(ebe,mu({},i,{horizontalPoints:N})),T.createElement(tbe,mu({},i,{verticalPoints:M})),T.createElement(Z0e,mu({},i,{offset:r,horizontalPoints:N,xAxis:S,yAxis:E})),T.createElement(J0e,mu({},i,{offset:r,verticalPoints:M,xAxis:S,yAxis:E}))))}uS.displayName="CartesianGrid";var abe={},fq=Dr({name:"errorBars",initialState:abe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:K_e,replaceErrorBar:W_e,removeErrorBar:Y_e}=fq.actions,sbe=fq.reducer;function hq(t,e){var n,r,i=De(h=>Ws(h,t)),a=De(h=>Ys(h,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Nn.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Dn.allowDataOverflow,f=o||u;return{needClip:f,needClipX:o,needClipY:u}}function obe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=RC(),{needClipX:a,needClipY:o,needClip:u}=hq(e,n);if(!u||!i)return null;var{x:f,y:h,width:d,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?f:f-d/2,y:o?h:h-p/2,width:a?d:d*2,height:o?p:p*2}))}function lbe(t){var e=db(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),u=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(u)||u<0)&&(u=r),{r:o,strokeWidth:u}}return{r:n,strokeWidth:r}}var lE={exports:{}},uE={};var XL;function ube(){if(XL)return uE;XL=1;var t=$f();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return uE.useSyncExternalStoreWithSelector=function(f,h,d,p,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=o(function(){function E(V){if(!C){if(C=!0,D=V,V=p(V),y!==void 0&&w.hasValue){var L=w.value;if(y(L,V))return N=L}return N=V}if(L=N,n(D,V))return L;var R=p(V);return y!==void 0&&y(L,R)?(D=V,L):(D=V,N=R)}var C=!1,D,N,M=d===void 0?null:d;return[function(){return E(h())},M===null?void 0:function(){return E(M())}]},[h,d,p,y]);var S=r(f,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},uE}var QL;function cbe(){return QL||(QL=1,lE.exports=ube()),lE.exports}cbe();function fbe(t){t()}function hbe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fbe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ZL={notify(){},get:()=>[]};function dbe(t,e){let n,r=ZL,i=0,a=!1;function o(S){d();const E=r.subscribe(S);let C=!1;return()=>{C||(C=!0,E(),p())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return a}function d(){i++,n||(n=t.subscribe(f),r=hbe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ZL)}function y(){a||(a=!0,d())}function b(){a&&(a=!1,p())}const w={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var mbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pbe=mbe(),gbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ybe=gbe(),vbe=()=>pbe||ybe?T.useLayoutEffect:T.useEffect,bbe=vbe();function JL(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function xbe(t,e){if(JL(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!JL(t[n[i]],e[n[i]]))return!1;return!0}var _be=Symbol.for("react-redux-context"),wbe=typeof globalThis<"u"?globalThis:{};function Ebe(){if(!T.createContext)return{};const t=wbe[_be]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Tbe=Ebe();function Sbe(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const f=dbe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);bbe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const u=n||Tbe;return T.createElement(u.Provider,{value:a},e)}var Abe=Sbe,Ibe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Cbe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function DC(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Ibe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!xbe(t[r],e[r]))return!1}else if(!Cbe(t[r],e[r]))return!1;return!0}function MC(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:aq}function kC(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:aq}var dq=(t,e,n)=>d8(t,"xAxis",MC(t,e),n),mq=(t,e,n)=>h8(t,"xAxis",MC(t,e),n),pq=(t,e,n)=>d8(t,"yAxis",kC(t,e),n),gq=(t,e,n)=>h8(t,"yAxis",kC(t,e),n),Pbe=re([Ut,dq,pq,mq,gq],(t,e,n,r,i)=>Ka(t,"xAxis")?r0(e,r,!1):r0(n,i,!1)),Rbe=(t,e)=>e,yq=re([MF,Rbe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),vq=t=>{var e=Ut(t),n=Ka(e,"xAxis");return n?"yAxis":"xAxis"},Obe=(t,e)=>{var n=vq(t);return n==="yAxis"?kC(t,e):MC(t,e)},Nbe=(t,e,n)=>qF(t,vq(t),Obe(t,e),n),Dbe=re([yq,Nbe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=oC(t);if(!(r==null||i==null)){var a=(n=e[r])===null||n===void 0?void 0:n.stackedData,o=a?.find(u=>u.key===i);if(o!=null)return o.map(u=>[u[0],u[1]])}}}),Mbe=re([Ut,dq,pq,mq,gq,Dbe,Nde,Pbe,yq,Bde],(t,e,n,r,i,a,o,u,f,h)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:y}=o;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:b}=f,w;if(b&&b.length>0?w=b:w=d?.slice(p,y+1),w!=null)return Jbe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:f,stackedData:a,displayedData:w,chartBaseValue:h,bandSize:u})}}),kbe=["id"],jbe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(null,arguments)}function bq(t,e){if(t==null)return{};var n,r,i=Vbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){Lbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lbe(t,e,n){return(e=zbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zbe(t){var e=Ube(t,"string");return typeof e=="symbol"?e:e+""}function Ube(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O0(t,e){return t&&t!=="none"?t:e}var Bbe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:O0(r,i),value:i9(n,e),payload:t}]},Fbe=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:u,unit:f,tooltipType:h,id:d}=t,p={dataDefinedOnItem:n,getPosition:rh,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:i9(o,e),hide:u,type:h,color:O0(r,a),unit:f,graphicalItemId:d}};return T.createElement(Eve,{tooltipEntrySettings:p})});function qbe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:o}=r,u=Ji(r);return T.createElement(Hve,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:u,needClip:i,clipPathId:e})}function $be(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var o,u,f={x:(o=a.x)!==null&&o!==void 0?o:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return uf(uf({},f),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return T.createElement(gve,{value:e?i:void 0},n)}function t4(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:o,type:u,stroke:f,connectNulls:h,isRange:d}=a,{id:p}=a,y=bq(a,kbe),b=Ji(y),w=Ii(y);return T.createElement(T.Fragment,null,e?.length>1&&T.createElement(Ua,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement(av,Tu({},w,{id:p,points:e,connectNulls:h,type:u,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),f!=="none"&&T.createElement(av,Tu({},b,{className:"recharts-area-curve",layout:o,type:u,connectNulls:h,fill:"none",points:e})),f!=="none"&&d&&T.createElement(av,Tu({},b,{className:"recharts-area-curve",layout:o,type:u,connectNulls:h,fill:"none",points:n}))),T.createElement(qbe,{points:e,props:y,clipPathId:i}))}function Hbe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:o}=t,u=(e=a[0])===null||e===void 0?void 0:e.y,f=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!et(u)||!et(f))return null;var h=r*Math.abs(u-f),d=Math.max(...a.map(p=>p.x||0));return Ce(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.x||0),d)),Ce(d)?T.createElement("rect",{x:0,y:u<f?u:u-h,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(h)}):null}function Gbe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:o}=t,u=(e=a[0])===null||e===void 0?void 0:e.x,f=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!et(u)||!et(f))return null;var h=r*Math.abs(u-f),d=Math.max(...a.map(p=>p.y||0));return Ce(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.y||0),d)),Ce(d)?T.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}function Kbe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?T.createElement(Hbe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):T.createElement(Gbe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Wbe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:o,baseLine:u,isAnimationActive:f,animationBegin:h,animationDuration:d,animationEasing:p,onAnimationStart:y,onAnimationEnd:b}=r,w=T.useMemo(()=>({points:o,baseLine:u}),[o,u]),S=A9(w,"recharts-area-"),E=II(),[C,D]=T.useState(!1),N=!C,M=T.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),V=T.useCallback(()=>{typeof y=="function"&&y(),D(!0)},[y]);if(E==null)return null;var L=i.current,R=a.current;return T.createElement($be,{showLabels:N,points:o},r.children,T.createElement(S9,{animationId:S,begin:h,duration:d,isActive:f,easing:p,onAnimationEnd:M,onAnimationStart:V,key:S},O=>{if(L){var k=L.length/o.length,F=O===1?o:o.map((U,q)=>{var K=Math.floor(q*k);if(L[K]){var he=L[K];return uf(uf({},U),{},{x:Ca(he.x,U.x,O),y:Ca(he.y,U.y,O)})}return U}),B;return Ce(u)?B=Ca(R,u,O):fr(u)||Ba(u)?B=Ca(R,0,O):B=u.map((U,q)=>{var K=Math.floor(q*k);if(Array.isArray(R)&&R[K]){var he=R[K];return uf(uf({},U),{},{x:Ca(he.x,U.x,O),y:Ca(he.y,U.y,O)})}return U}),O>0&&(i.current=F,a.current=B),T.createElement(t4,{points:F,baseLine:B,needClip:e,clipPathId:n,props:r})}return O>0&&(i.current=o,a.current=u),T.createElement(Ua,null,f&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(Kbe,{alpha:O,points:o,baseLine:u,layout:E,strokeWidth:r.strokeWidth}))),T.createElement(Ua,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(t4,{points:o,baseLine:u,needClip:e,clipPathId:n,props:r})))}),T.createElement(bve,{label:r.label}))}function Ybe(t){var{needClip:e,clipPathId:n,props:r}=t,i=T.useRef(null),a=T.useRef();return T.createElement(Wbe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Xbe extends T.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:o,needClip:u,xAxisId:f,yAxisId:h,width:d,height:p,id:y,baseLine:b,zIndex:w}=this.props;if(e)return null;var S=It("recharts-area",i),E=y,{r:C,strokeWidth:D}=lbe(n),N=rq(n),M=C*2+D,V=u?"url(#clipPath-".concat(N?"":"dots-").concat(E,")"):void 0;return T.createElement(Qs,{zIndex:w},T.createElement(Ua,{className:S},u&&T.createElement("defs",null,T.createElement(obe,{clipPathId:E,xAxisId:f,yAxisId:h}),!N&&T.createElement("clipPath",{id:"clipPath-dots-".concat(E)},T.createElement("rect",{x:o-M/2,y:a-M/2,width:d+M,height:p+M}))),T.createElement(Ybe,{needClip:u,clipPathId:E,props:this.props})),T.createElement(HL,{points:r,mainColor:O0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:V}),this.props.isRange&&Array.isArray(b)&&T.createElement(HL,{points:b,mainColor:O0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:V}))}}var xq={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:br.area};function Qbe(t){var e,n=ni(t,xq),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:u,dot:f,fill:h,fillOpacity:d,hide:p,isAnimationActive:y,legendType:b,stroke:w,xAxisId:S,yAxisId:E}=n,C=bq(n,jbe),D=ih(),N=k8(),{needClip:M}=hq(S,E),V=Mr(),{points:L,isRange:R,baseLine:O}=(e=De(K=>Mbe(K,t.id,V)))!==null&&e!==void 0?e:{},k=RC();if(D!=="horizontal"&&D!=="vertical"||k==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:F,width:B,x:U,y:q}=k;return!L||!L.length?null:T.createElement(Xbe,Tu({},C,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:O,connectNulls:u,dot:f,fill:h,fillOpacity:d,height:F,hide:p,layout:D,isAnimationActive:y==="auto"?!pp.isSsr:y,isRange:R,legendType:b,needClip:M,points:L,stroke:w,width:B,left:U,top:q,xAxisId:S,yAxisId:E}))}var Zbe=(t,e,n,r,i)=>{var a=n??e;if(Ce(a))return a;var o=t==="horizontal"?i:r,u=o.scale.domain();if(o.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return a==="dataMin"?h:a==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]};function Jbe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:u,yAxis:f,displayedData:h,dataStartIndex:d,xAxisTicks:p,yAxisTicks:y,bandSize:b}=t,w=i&&i.length,S=Zbe(a,o,n,u,f),E=a==="horizontal",C=!1,D=h.map((M,V)=>{var L,R,O,k;if(w)k=i[d+V];else{var F=er(M,r);Array.isArray(F)?(k=F,C=!0):k=[S,F]}var B=(L=(R=k)===null||R===void 0?void 0:R[1])!==null&&L!==void 0?L:null,U=B==null||w&&!e&&er(M,r)==null;if(E){var q;return{x:aj({axis:u,ticks:p,bandSize:b,entry:M,index:V}),y:U?null:(q=f.scale.map(B))!==null&&q!==void 0?q:null,value:k,payload:M}}return{x:U?null:(O=u.scale.map(B))!==null&&O!==void 0?O:null,y:aj({axis:f,ticks:y,bandSize:b,entry:M,index:V}),value:k,payload:M}}),N;return w||C?N=D.map(M=>{var V,L=Array.isArray(M.value)?M.value[0]:null;if(E){var R;return{x:M.x,y:L!=null&&M.y!=null&&(R=f.scale.map(L))!==null&&R!==void 0?R:null,payload:M.payload}}return{x:L!=null&&(V=u.scale.map(L))!==null&&V!==void 0?V:null,y:M.y,payload:M.payload}}):N=E?f.scale.map(S):u.scale.map(S),{points:D,baseLine:N??0,isRange:C}}function exe(t){var e=ni(t,xq),n=Mr();return T.createElement(Pve,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(Tve,{legendPayload:Bbe(e)}),T.createElement(Fbe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),T.createElement(jve,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Dle(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(Qbe,Tu({},e,{id:r}))))}var cS=T.memo(exe,DC);cS.displayName="Area";var txe=["domain","range"],nxe=["domain","range"];function n4(t,e){if(t==null)return{};var n,r,i=rxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function r4(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function _q(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=n4(t,txe),{domain:a,range:o}=e,u=n4(e,nxe);return!r4(n,a)||!r4(r,o)?!1:DC(i,u)}var ixe=["type"],axe=["dangerouslySetInnerHTML","ticks","scale"],sxe=["id","scale"];function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oxe(t,e,n){return(e=lxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lxe(t){var e=uxe(t,"string");return typeof e=="symbol"?e:e+""}function uxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hS(t,e){if(t==null)return{};var n,r,i=cxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fxe(t){var e=jn(),n=T.useRef(null),r=II(),{type:i}=t,a=hS(t,ixe),o=qb(r,"xAxis",i),u=T.useMemo(()=>{if(o!=null)return a4(a4({},a),{},{type:o})},[a,o]);return T.useLayoutEffect(()=>{u!=null&&(n.current===null?e(Xve(u)):n.current!==u&&e(Qve({prev:n.current,next:u})),n.current=u)},[u,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Zve(n.current)),n.current=null)},[e]),null}var hxe=t=>{var{xAxisId:e,className:n}=t,r=De(s9),i=Mr(),a="xAxis",o=De(C=>f8(C,a,e,i)),u=De(C=>Vme(C,e)),f=De(C=>qme(C,e)),h=De(C=>RF(C,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:p,scale:y}=t,b=hS(t,axe),{id:w,scale:S}=h,E=hS(h,sxe);return T.createElement(NC,fS({},b,E,{x:f.x,y:f.y,width:u.width,height:u.height,className:It("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},dxe={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:Nn.allowDecimals,allowDuplicatedCategory:Nn.allowDuplicatedCategory,angle:Nn.angle,axisLine:Ss.axisLine,height:Nn.height,hide:!1,includeHidden:Nn.includeHidden,interval:Nn.interval,label:!1,minTickGap:Nn.minTickGap,mirror:Nn.mirror,orientation:Nn.orientation,padding:Nn.padding,reversed:Nn.reversed,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,tickLine:Ss.tickLine,tickSize:Ss.tickSize,type:Nn.type,xAxisId:0},mxe=t=>{var e=ni(t,dxe);return T.createElement(T.Fragment,null,T.createElement(fxe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(hxe,e))},dS=T.memo(mxe,_q);dS.displayName="XAxis";var pxe=["type"],gxe=["dangerouslySetInnerHTML","ticks","scale"],yxe=["id","scale"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(null,arguments)}function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){vxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vxe(t,e,n){return(e=bxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bxe(t){var e=xxe(t,"string");return typeof e=="symbol"?e:e+""}function xxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pS(t,e){if(t==null)return{};var n,r,i=_xe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _xe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wxe(t){var e=jn(),n=T.useRef(null),r=II(),{type:i}=t,a=pS(t,pxe),o=qb(r,"yAxis",i),u=T.useMemo(()=>{if(o!=null)return o4(o4({},a),{},{type:o})},[o,a]);return T.useLayoutEffect(()=>{u!=null&&(n.current===null?e(Jve(u)):n.current!==u&&e(e0e({prev:n.current,next:u})),n.current=u)},[u,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(t0e(n.current)),n.current=null)},[e]),null}function Exe(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),o=T.useRef(null),u=De(s9),f=Mr(),h=jn(),d="yAxis",p=De(L=>Gme(L,e)),y=De(L=>Hme(L,e)),b=De(L=>f8(L,d,e,f)),w=De(L=>OF(L,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!p||PC(i)||T.isValidElement(i)||w==null)){var L=a.current;if(L){var R=L.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&h(n0e({id:e,width:R}))}}},[b,p,h,i,e,r,w]),p==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:E,scale:C}=t,D=pS(t,gxe),{id:N,scale:M}=w,V=pS(w,yxe);return T.createElement(NC,mS({},D,V,{ref:a,labelRef:o,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:It("recharts-".concat(d," ").concat(d),n),viewBox:u,ticks:b,axisType:d}))}var Txe={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:Dn.allowDecimals,allowDuplicatedCategory:Dn.allowDuplicatedCategory,angle:Dn.angle,axisLine:Ss.axisLine,hide:!1,includeHidden:Dn.includeHidden,interval:Dn.interval,label:!1,minTickGap:Dn.minTickGap,mirror:Dn.mirror,orientation:Dn.orientation,padding:Dn.padding,reversed:Dn.reversed,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,tickLine:Ss.tickLine,tickSize:Ss.tickSize,type:Dn.type,width:Dn.width,yAxisId:0},Sxe=t=>{var e=ni(t,Txe);return T.createElement(T.Fragment,null,T.createElement(wxe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(Exe,e))},gS=T.memo(Sxe,_q);gS.displayName="YAxis";var Axe=(t,e)=>e,jC=re([Axe,Ut,CF,zn,P8,Xs,sge,tr],dge),VC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},wq=Ci("mouseClick"),Eq=fp();Eq.startListening({actionCreator:wq,effect:(t,e)=>{var n=t.payload,r=jC(e.getState(),VC(n));r?.activeIndex!=null&&e.dispatch(ape({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yS=Ci("mouseMove"),Tq=fp(),Ry=null;Tq.startListening({actionCreator:yS,effect:(t,e)=>{var n=t.payload;Ry!==null&&cancelAnimationFrame(Ry);var r=VC(n);Ry=requestAnimationFrame(()=>{var i=e.getState(),a=vC(i,i.tooltip.settings.shared);if(a==="axis"){var o=jC(i,r);o?.activeIndex!=null?e.dispatch(x8({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(b8())}Ry=null})}});function Ixe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var l4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Sq=Dr({name:"rootProps",initialState:l4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:l4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Cxe=Sq.reducer,{updateOptions:Pxe}=Sq.actions,Rxe=null,Oxe={updatePolarOptions:(t,e)=>e.payload},Aq=Dr({name:"polarOptions",initialState:Rxe,reducers:Oxe}),{updatePolarOptions:X_e}=Aq.actions,Nxe=Aq.reducer,Iq=Ci("keyDown"),Cq=Ci("focus"),LC=fp();LC.startListening({actionCreator:Iq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=bC(i,dh(n),wp(n),Tp(n)),u=o==null?-1:Number(o);if(!(!Number.isFinite(u)||u<0)){var f=Xs(n);if(a==="Enter"){var h=I0(n,"axis","hover",String(i.index));e.dispatch(iS({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var d=Xme(n),p=d==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,b=u+y*p;if(!(f==null||b>=f.length||b<0)){var w=I0(n,"axis","hover",String(b));e.dispatch(iS({active:!0,activeIndex:b.toString(),activeCoordinate:w}))}}}}}});LC.startListening({actionCreator:Cq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=I0(n,"axis","hover",String(a));e.dispatch(iS({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var yi=Ci("externalEvent"),Pq=fp(),cE=new Map;Pq.startListening({actionCreator:yi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=cE.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:Hpe(u),activeDataKey:qpe(u),activeIndex:zm(u),activeLabel:N8(u),activeTooltipIndex:zm(u),isTooltipActive:Gpe(u)};n(f,r)}finally{cE.delete(i)}});cE.set(i,o)}}});var Dxe=re([fh],t=>t.tooltipItemPayloads),Mxe=re([Dxe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),Rq=Ci("touchMove"),Oq=fp();Oq.startListening({actionCreator:Rq,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=vC(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=jC(r,VC({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(x8({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(Ule),p=(u=h.getAttribute(Ble))!==null&&u!==void 0?u:void 0,y=hh(r).find(S=>S.id===p);if(d==null||y==null||p==null)return;var{dataKey:b}=y,w=Mxe(r,d,p);e.dispatch(ipe({activeDataKey:b,activeIndex:d,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var kxe=IB({brush:h0e,cartesianAxis:r0e,chartData:Hge,errorBars:sbe,graphicalItems:Mve,layout:Tle,legend:Nue,options:Uge,polarAxis:_ve,polarOptions:Nxe,referenceElements:g0e,rootProps:Cxe,tooltip:spe,zIndex:Ige}),jxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Yoe({reducer:kxe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Eq.middleware,Tq.middleware,LC.middleware,Pq.middleware,Oq.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(FB({type:"raf"}))},devTools:{serialize:{replacer:Ixe},name:"recharts-".concat(n)}})};function Vxe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Mr(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=jxe(e,r));var o=vI;return T.createElement(Abe,{context:o,store:a.current},n)}function Lxe(t){var{layout:e,margin:n}=t,r=jn(),i=Mr();return T.useEffect(()=>{i||(r(_le(e)),r(xle(n)))},[r,i,e,n]),null}var zxe=T.memo(Lxe,DC);function Uxe(t){var e=jn();return T.useEffect(()=>{e(Pxe(t))},[e,t]),null}function u4(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=jn();return T.useLayoutEffect(()=>(r.current&&i(Sge({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Age({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function c4(t){var{children:e,isPanorama:n}=t,r=De(pge);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return T.createElement(T.Fragment,null,i.map(o=>T.createElement(u4,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>T.createElement(u4,{key:o,zIndex:o,isPanorama:n})))}var Bxe=["children"];function Fxe(t,e){if(t==null)return{};var n,r,i=qxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(null,arguments)}var $xe={width:"100%",height:"100%",display:"block"},Hxe=T.forwardRef((t,e)=>{var n=f9(),r=h9(),i=_9();if(!qa(n)||!qa(r))return null;var{children:a,otherAttributes:o,title:u,desc:f}=t,h,d;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),T.createElement(YU,N0({},o,{title:u,desc:f,role:d,tabIndex:h,width:n,height:r,style:$xe,ref:e}),a)}),Gxe=t=>{var{children:e}=t,n=De(Rb);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return T.createElement(YU,{width:r,height:i,x:o,y:a},e)},f4=T.forwardRef((t,e)=>{var{children:n}=t,r=Fxe(t,Bxe),i=Mr();return i?T.createElement(Gxe,null,T.createElement(c4,{isPanorama:!0},n)):T.createElement(Hxe,N0({ref:e},r),T.createElement(c4,{isPanorama:!1},n))});function Kxe(){var t=jn(),[e,n]=T.useState(null),r=De(zle);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;et(a)&&a!==r&&t(Ele(a))}},[e,t,r]),n}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){Yxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yxe(t,e,n){return(e=Xxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xxe(t){var e=Qxe(t,"string");return typeof e=="symbol"?e:e+""}function Qxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(null,arguments)}var Zxe=()=>(eye(),null);function D0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Jxe=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,o]=T.useState({containerWidth:D0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:D0((r=t.style)===null||r===void 0?void 0:r.height)}),u=T.useCallback((h,d)=>{o(p=>{var y=Math.round(h),b=Math.round(d);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),f=T.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=h.getBoundingClientRect();u(d,p);var y=w=>{var S=w[0];if(S!=null){var{width:E,height:C}=S.contentRect;u(E,C)}},b=new ResizeObserver(y);b.observe(h),i.current=b}},[e,u]);return T.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),T.createElement(T.Fragment,null,T.createElement(dp,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",Jo({ref:f},t)))}),e_e=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:D0(n),containerHeight:D0(r)}),o=T.useCallback((f,h)=>{a(d=>{var p=Math.round(f),y=Math.round(h);return d.containerWidth===p&&d.containerHeight===y?d:{containerWidth:p,containerHeight:y}})},[]),u=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:d}=f.getBoundingClientRect();o(h,d)}},[e,o]);return T.createElement(T.Fragment,null,T.createElement(dp,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Jo({ref:u},t)))}),t_e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(dp,{width:n,height:r}),T.createElement("div",Jo({ref:e},t)))}),n_e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?T.createElement(e_e,Jo({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?T.createElement(t_e,Jo({},t,{width:n,height:r,ref:e})):T.createElement(T.Fragment,null,T.createElement(dp,{width:n,height:r}),T.createElement("div",Jo({ref:e},t)))});function r_e(t){return t?Jxe:n_e}var i_e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:d,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:S,style:E,width:C,responsive:D,dispatchTouchEvents:N=!0}=t,M=T.useRef(null),V=jn(),[L,R]=T.useState(null),[O,k]=T.useState(null),F=Kxe(),B=SI(),U=B?.width>0?B.width:C,q=B?.height>0?B.height:i,K=T.useCallback(se=>{F(se),typeof e=="function"&&e(se),R(se),k(se),se!=null&&(M.current=se)},[F,e,R,k]),he=T.useCallback(se=>{V(wq(se)),V(yi({handler:a,reactEvent:se}))},[V,a]),W=T.useCallback(se=>{V(yS(se)),V(yi({handler:h,reactEvent:se}))},[V,h]),ie=T.useCallback(se=>{V(b8()),V(yi({handler:d,reactEvent:se}))},[V,d]),de=T.useCallback(se=>{V(yS(se)),V(yi({handler:p,reactEvent:se}))},[V,p]),_e=T.useCallback(()=>{V(Cq())},[V]),Ae=T.useCallback(se=>{V(Iq(se.key))},[V]),H=T.useCallback(se=>{V(yi({handler:o,reactEvent:se}))},[V,o]),ae=T.useCallback(se=>{V(yi({handler:u,reactEvent:se}))},[V,u]),pe=T.useCallback(se=>{V(yi({handler:f,reactEvent:se}))},[V,f]),ge=T.useCallback(se=>{V(yi({handler:y,reactEvent:se}))},[V,y]),Re=T.useCallback(se=>{V(yi({handler:S,reactEvent:se}))},[V,S]),je=T.useCallback(se=>{N&&V(Rq(se)),V(yi({handler:w,reactEvent:se}))},[V,N,w]),Me=T.useCallback(se=>{V(yi({handler:b,reactEvent:se}))},[V,b]),Ct=r_e(D);return T.createElement(U8.Provider,{value:L},T.createElement(Xae.Provider,{value:O},T.createElement(Ct,{width:U??E?.width,height:q??E?.height,className:It("recharts-wrapper",r),style:Wxe({position:"relative",cursor:"default",width:U,height:q},E),onClick:he,onContextMenu:H,onDoubleClick:ae,onFocus:_e,onKeyDown:Ae,onMouseDown:pe,onMouseEnter:W,onMouseLeave:ie,onMouseMove:de,onMouseUp:ge,onTouchEnd:Me,onTouchMove:je,onTouchStart:Re,ref:K},T.createElement(Zxe,null),n)))}),a_e=["width","height","responsive","children","className","style","compact","title","desc"];function s_e(t,e){if(t==null)return{};var n,r,i=o_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var l_e=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:u,compact:f,title:h,desc:d}=t,p=s_e(t,a_e),y=Ji(p);return f?T.createElement(T.Fragment,null,T.createElement(dp,{width:n,height:r}),T.createElement(f4,{otherAttributes:y,title:h,desc:d},a)):T.createElement(i_e,{className:o,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(f4,{otherAttributes:y,title:h,desc:d,ref:e},T.createElement(v0e,null,a)))});function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(null,arguments)}var u_e={top:5,right:5,bottom:5,left:5},c_e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:u_e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},f_e=T.forwardRef(function(e,n){var r,i=ni(e.categoricalChartProps,c_e),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return T.createElement(Vxe,{preloadedState:{options:d},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},T.createElement(f0e,{chartData:h.data}),T.createElement(zxe,{layout:i.layout,margin:i.margin}),T.createElement(Uxe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(l_e,vS({},i,{ref:n})))}),h_e=["axis"],d4=T.forwardRef((t,e)=>T.createElement(f_e,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:h_e,tooltipPayloadSearcher:Lge,categoricalChartProps:t,ref:e}));const d_e="https://r2-upload-api.cosmiccards777.workers.dev",m4="pub-af5d778dd3294bcd8fbd1b204614810b.r2.dev",m_e=async(t,e="music")=>{try{console.log(`Uploading ${t.name} to R2 via Worker...`);const n=new FormData;n.append("file",t),n.append("folder",e);const r=await fetch(d_e,{method:"POST",body:n});if(!r.ok){const a=await r.json();throw new Error(a.error||"Upload failed")}const i=await r.json();return console.log("Upload successful!",i),i.key}catch(n){throw console.error("Error uploading to R2:",n),n}},p4=(t,e)=>{const n=[],r=t==="7d"?7:t==="30d"?30:12;let i=e/r;i<0&&(i=0);for(let a=0;a<r;a++){const o=Math.random()*1+.5;let u=Math.floor(i*o);n.push({name:t==="12m"?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a]:`Day ${a+1}`,value:u})}return n},p_e=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=i=>n(i)});function g_e(){const{user:t,logout:e}=dl(),{tracks:n,addTrack:r,deleteTrack:i,updateTrack:a}=CA(),o=zs(),[u,f]=T.useState("7d"),[h,d]=T.useState(null),[p,y]=T.useState(!1),[b,w]=T.useState(null),[S,E]=T.useState(""),[C,D]=T.useState(null),[N,M]=T.useState(null),[V,L]=T.useState(""),[R,O]=T.useState(["Pop"]),[k,F]=T.useState(!1),[B,U]=T.useState(0),[q,K]=T.useState(null),[he,W]=T.useState(null),ie=120*1024*1024,de=10*1024*1024,_e=()=>{e(),o("/")},Ae=xe=>{const it=xe.target.files?.[0];if(it){if(it.size>ie){K("Audio file exceeds 120MB limit.");return}K(null),D(it)}},H=xe=>{const it=xe.target.files?.[0];if(it){if(it.size>de){K("Image file exceeds 10MB limit.");return}K(null),M(it)}},ae=()=>{w(null),E(""),D(null),M(null),L(""),O(["Pop"]),U(0),K(null),y(!0)},pe=(xe,it)=>{it.stopPropagation(),w(xe.id),E(xe.title),L(xe.lyrics||"");const Cn=xe.genres||(xe.genre?[xe.genre]:["Pop"]);O(Array.isArray(Cn)?Cn:[Cn]),D(null),M(null),U(0),K(null),y(!0)},ge=async xe=>{if(xe.preventDefault(),!b&&!C){K("Please select an audio file.");return}F(!0),K(null),U(0);const it=setInterval(()=>{U(Pt=>Pt<30?Pt+2:Pt<60?Pt+1:Pt<85?Pt+.5:Pt)},100);await new Promise(Pt=>setTimeout(Pt,1500));let Cn,kr;if(C)try{U(40);const Pt=await m_e(C);U(75),m4&&(Cn=`https://${m4}/${Pt}`),U(90)}catch(Pt){console.error("R2 Upload Error:",Pt),alert(`Cloudflare Upload Failed: ${Pt.message||Pt}. Using local fallback.`),Cn=URL.createObjectURL(C)}if(N&&(kr=await p_e(N)),U(95),b){const Pt={title:S,lyrics:V,genres:R};Cn&&(Pt.file=Cn),kr&&(Pt.cover=kr),a(b,Pt)}else{const Pt=kr||"/profile_final.jpg";Cn&&r({title:S,artist:t?.name||"Unknown Artist",cover:Pt,file:Cn,lyrics:V,genres:R})}U(100),clearInterval(it),F(!1),y(!1),w(null),E(""),D(null)},Re=()=>{he&&(i(he),W(null),h===he&&d(null))},je=n.reduce((xe,it)=>xe+it.plays,0),Me=n.reduce((xe,it)=>xe+it.revenue,0),Ct=Math.floor(je/3),se=n.find(xe=>xe.id===h),Ve=se?se.revenue:Me,Fe=se?se.plays:je,fe=se?Math.floor(se.plays/3):Ct,Bt=p4(u,Ve),Ge=p4(u,Fe),[Jt,St]=T.useState(!1),[bn,ri]=T.useState(""),[Ft,Ht]=T.useState(()=>{const xe=localStorage.getItem("etao_total_withdrawn_af");return xe?parseFloat(xe):0}),In=Math.max(0,Ve-Ft),Yu=In/100,Xu=async()=>{if(!(!t||t.email?.toLowerCase()!=="cosmiccards777@gmail.com")&&confirm("ADMIN: Reset all track revenue to 0? This cannot be undone.")){Ht(0),localStorage.removeItem("etao_total_withdrawn_af");for(const xe of n)(xe.artistId===t.id||xe.artist===t.name)&&await a(xe.id,{revenue:0});alert("Revenue reset complete."),window.location.reload()}},Un=()=>{const xe=parseFloat(bn);if(isNaN(xe)||xe<500)return;if(xe>In){alert("Insufficient funds.");return}const it=Ft+xe;Ht(it),localStorage.setItem("etao_total_withdrawn_af",it.toString()),St(!1),ri(""),alert(` Success! ${xe} AF has been withdrawn to your connected account.`)};return _.jsxs("div",{className:"min-h-screen bg-slate-50",children:[_.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-10",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("img",{src:"/logo.png",className:"h-10 w-auto"}),_.jsxs("span",{className:"font-bold text-xl tracking-tight",children:[_.jsx("span",{className:"text-purple-600",children:"Artists"}),_.jsx("span",{className:"text-brand-teal",children:"Hub"})]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[t?.email?.toLowerCase()==="cosmiccards777@gmail.com"&&_.jsx("button",{onClick:()=>o("/admin"),className:"px-3 py-1 bg-red-100 text-red-700 text-xs font-bold rounded-full mr-2 hover:bg-red-200 uppercase tracking-wider",children:"Admin Dashboard"}),_.jsx("button",{onClick:()=>o("/etao"),className:"flex items-center gap-2 px-2 py-1 md:px-3 md:py-1.5 bg-slate-100 text-slate-600 rounded-lg text-[10px] md:text-xs font-bold hover:bg-slate-200 transition-colors whitespace-nowrap",children:"View Public Page"}),_.jsx("img",{src:t?.avatar||"/profile_final.jpg",className:"w-10 h-10 rounded-full border border-slate-200"}),_.jsx("button",{onClick:_e,className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Logout",children:_.jsx(iae,{size:20})})]})]})}),_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[_.jsxs(ft.div,{whileHover:{y:-2},className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-slate-500 font-medium text-sm",children:"Available Balance"}),_.jsxs("div",{className:"text-3xl font-bold text-slate-900 flex items-baseline gap-2",children:[In.toLocaleString()," AF",_.jsxs("span",{className:"text-lg text-slate-400 font-normal",children:["($",Yu.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")"]})]}),_.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Lifetime: ",Ve.toLocaleString()," AF ($$",(Ve/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")"]})]}),_.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-xl",children:_.jsx(Sm,{size:24})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>St(!0),disabled:In<5,className:`w-full py-2 rounded-lg font-bold text-sm transition-colors ${In>=5?"bg-slate-900 text-white hover:bg-slate-800":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:In>=5?"Withdraw Funds":"Min. Withdraw 500 AF"}),t?.email?.toLowerCase()==="cosmiccards777@gmail.com"&&_.jsx("button",{onClick:Xu,className:"px-3 rounded-lg bg-red-50 text-red-600 font-bold text-xs hover:bg-red-100 border border-red-200",title:"Hard Reset Revenue to 0",children:"RESET"})]})]}),_.jsx(ft.div,{whileHover:{y:-2},className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-slate-500 font-medium text-sm",children:h?"Track Plays":"Total Plays"}),_.jsx("div",{className:"text-3xl font-bold text-slate-900",children:Fe.toLocaleString()})]}),_.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-xl",children:_.jsx(bT,{size:24})})]})}),_.jsx(ft.div,{whileHover:{y:-2},className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-slate-500 font-medium text-sm",children:"Total Listeners"}),_.jsx("div",{className:"text-3xl font-bold text-slate-900",children:fe.toLocaleString()})]}),_.jsx("div",{className:"bg-purple-100 text-purple-600 p-3 rounded-xl",children:_.jsx(kae,{size:24})})]})})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h3",{className:"font-bold text-slate-900",children:"Revenue Analytics (9.0 AF/stream)"}),_.jsxs("select",{value:u,onChange:xe=>f(xe.target.value),className:"bg-slate-50 border border-slate-200 text-slate-600 text-sm rounded-lg px-3 py-1 outline-none focus:border-teal-500",children:[_.jsx("option",{value:"7d",children:"Last 7 Days"}),_.jsx("option",{value:"30d",children:"Last 30 Days"}),_.jsx("option",{value:"12m",children:"Last 12 Months"})]})]}),_.jsx("div",{className:"h-64 w-full",children:_.jsx(gj,{width:"100%",height:"100%",children:_.jsxs(d4,{data:Bt,children:[_.jsx("defs",{children:_.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[_.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),_.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),_.jsx(uS,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),_.jsx(dS,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),_.jsx(gS,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:xe=>`${(xe*100).toLocaleString()}`}),_.jsx(wL,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:xe=>[`${xe.toLocaleString()} AF ($${(xe/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})`,"Revenue"]}),_.jsx(cS,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[_.jsx("div",{className:"flex justify-between items-center mb-6",children:_.jsx("h3",{className:"font-bold text-slate-900",children:"Play Analytics"})}),_.jsx("div",{className:"h-64 w-full",children:_.jsx(gj,{width:"100%",height:"100%",children:_.jsxs(d4,{data:Ge,children:[_.jsx("defs",{children:_.jsxs("linearGradient",{id:"colorPlays",x1:"0",y1:"0",x2:"0",y2:"1",children:[_.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),_.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),_.jsx(uS,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),_.jsx(dS,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),_.jsx(gS,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),_.jsx(wL,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}}),_.jsx(cS,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorPlays)"})]})})})]})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[_.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[_.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Your Tracks"}),_.jsxs("button",{onClick:ae,className:"bg-slate-900 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-slate-800 transition-colors flex items-center gap-2",children:[_.jsx(mae,{size:18}),"Upload New Track"]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-slate-50/50",children:[_.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"Cover"}),_.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"Track Name"}),_.jsx("th",{className:"hidden md:table-cell p-4 text-xs font-bold text-slate-500 uppercase",children:"Status"}),_.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"Plays"}),_.jsx("th",{className:"hidden md:table-cell p-4 text-xs font-bold text-slate-500 uppercase",children:"Revenue"}),_.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase text-right",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(xe=>_.jsxs("tr",{className:`hover:bg-slate-50 transition-colors cursor-pointer ${h===xe.id?"bg-teal-50/50":""}`,onClick:()=>d(h===xe.id?null:xe.id),children:[_.jsx("td",{className:"p-4",children:_.jsxs("div",{className:"h-12 w-12 rounded-lg bg-slate-200 overflow-hidden relative",children:[_.jsx("img",{src:xe.cover,className:"h-full w-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:_.jsx(bT,{className:"text-white",size:24})})]})}),_.jsxs("td",{className:"p-4 font-bold text-slate-900",children:[xe.title,_.jsxs("div",{className:"md:hidden text-xs text-slate-500 font-normal",children:[xe.revenue.toLocaleString()," AF ($",(xe.revenue/100).toFixed(2),")  ",xe.status]})]}),_.jsx("td",{className:"hidden md:table-cell p-4",children:_.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:xe.status})}),_.jsx("td",{className:"p-4 text-slate-600",children:xe.plays.toLocaleString()}),_.jsxs("td",{className:"hidden md:table-cell p-4 text-slate-600",children:[xe.revenue.toLocaleString()," AF",_.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["($",(xe.revenue/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")"]})]}),_.jsxs("td",{className:"p-4 text-right space-x-2",children:[_.jsx("button",{onClick:it=>{it.stopPropagation(),pe(xe,it)},className:"p-2 hover:bg-slate-200 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",children:_.jsx(HU,{size:16})}),_.jsx("button",{onClick:it=>{it.stopPropagation(),W(xe.id)},className:"p-2 hover:bg-red-50 rounded-lg text-slate-400 hover:text-red-500 transition-colors",children:_.jsx(Pae,{size:16})})]})]},xe.id))})]})})]})]}),_.jsx(xu,{children:Jt&&_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[_.jsx(ft.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>St(!1)}),_.jsxs(ft.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md relative z-10 overflow-hidden",children:[_.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[_.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Artist Dashboard (v2.1)"}),_.jsx("button",{onClick:()=>St(!1),className:"text-slate-400 hover:text-slate-600",children:_.jsx(qv,{size:24})})]}),_.jsxs("div",{className:"p-6 space-y-4",children:[_.jsxs("div",{className:"bg-green-50 rounded-xl p-4 flex items-center justify-between border border-green-100",children:[_.jsx("div",{className:"text-green-800 font-medium",children:"Available to Withdraw"}),_.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[In.toLocaleString()," AF ",_.jsxs("span",{className:"text-sm font-normal",children:["($",Yu.toFixed(2),")"]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Amount to Withdraw (AF)"}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"AF"}),_.jsx("input",{type:"number",value:bn,onChange:xe=>ri(xe.target.value),placeholder:"500",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900 transition-all"}),_.jsx("button",{onClick:()=>ri(In.toString()),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-bold text-teal-600 bg-teal-50 px-2 py-1 rounded-lg hover:bg-teal-100 transition-colors",children:"MAX"})]}),_.jsxs("div",{className:"text-xs text-slate-500 mt-2 flex items-center gap-1",children:[_.jsx(xT,{size:12}),"Minimum withdrawal amount is 500 AF ($5.00)"]})]}),_.jsx("button",{onClick:Un,disabled:!bn||parseFloat(bn)<500||parseFloat(bn)>In,className:"w-full py-4 bg-slate-900 text-white rounded-xl font-bold text-lg hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-slate-900/10",children:"Withdraw Funds"})]})]})]})}),_.jsx(xu,{children:p&&_.jsx(ft.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:_.jsxs(ft.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[_.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100",children:[_.jsx("h3",{className:"text-xl font-bold text-slate-900",children:b?"Edit Track Details":"Upload New Track"}),_.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600",children:_.jsx(qv,{size:24})})]}),_.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[q&&_.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm font-medium flex items-center gap-2",children:[_.jsx(UM,{size:18}),q]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Track Title"}),_.jsx("input",{type:"text",required:!0,value:S,onChange:xe=>E(xe.target.value),className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:outline-none focus:border-purple-500",placeholder:"e.g. Morning Meditation"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Genres (Select up to 3)"}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Pop","R&B","Hip Hop","Lo-Fi","Ambient","Electronic","Jazz","Classical","Rock","Indie","Soul","Reggae","House","Techno","Meditation","Healing","Drum & Bass","Dubstep","Trance","Disco","Funk","Blues","Country","Folk","Latin","Metal","Punk","Gospel","Afrobeat","World","Trap","Synthwave"].map(xe=>{const it=R.includes(xe);return _.jsx("button",{type:"button",onClick:()=>{it?O(R.filter(Cn=>Cn!==xe)):R.length<3&&O([...R,xe])},className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${it?"bg-purple-600 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:xe},xe)})}),_.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Selected: ",R.join(", ")||"None"]})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:["Lyrics (Time-Synced)",_.jsx("span",{className:"text-xs font-normal text-slate-400 ml-2",children:"Format: [mm:ss] Line text"})]}),_.jsx("textarea",{value:V,onChange:xe=>L(xe.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:border-purple-500 font-mono text-sm h-32",placeholder:`[00:12] Hello world
[00:15] This is a song`})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 mb-1",children:["Audio File",_.jsx("span",{className:"text-xs font-normal text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:"Max 120MB"})]}),_.jsxs("div",{className:"relative border-2 border-dashed border-slate-200 rounded-xl p-4 text-center hover:bg-slate-50 transition-colors cursor-pointer group flex flex-col items-center justify-center min-h-[120px]",children:[_.jsx("input",{type:"file",accept:"audio/*",required:!b,onChange:Ae,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"},b?`edit-audio-${b}`:"new-audio"),_.jsx("div",{className:"text-purple-600 mb-2 group-hover:scale-110 transition-transform",children:_.jsx(lI,{className:"mx-auto",size:24})}),_.jsx("div",{className:"text-xs text-slate-500 w-full flex flex-col items-center relative z-10",children:C?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"font-bold text-slate-900 truncate max-w-[120px] mb-1",children:C.name}),_.jsx("span",{className:"text-[10px] text-purple-600 bg-purple-50 px-2 py-1 rounded-full font-bold",children:"Click to Change"})]}):b?"Replace Audio File":"Choose Audio File"})]})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 mb-1",children:["Cover Art",_.jsx("span",{className:"text-xs font-normal text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:"Max 10MB"})]}),_.jsxs("div",{className:"relative border-2 border-dashed border-slate-200 rounded-xl p-6 text-center hover:bg-slate-50 transition-colors cursor-pointer group flex flex-col items-center justify-center min-h-[180px]",children:[_.jsx("input",{type:"file",accept:"image/*",onChange:H,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"},b?`edit-cover-${b}`:"new-cover"),_.jsx("div",{className:"text-purple-600 mb-2 group-hover:scale-110 transition-transform",children:_.jsx(Dae,{className:"mx-auto",size:24})}),_.jsx("div",{className:"text-xs text-slate-500 w-full flex flex-col items-center relative z-10",children:N?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"font-bold text-slate-900 truncate max-w-[120px] mb-1",children:N.name}),_.jsx("span",{className:"text-[10px] text-purple-600 bg-purple-50 px-2 py-1 rounded-full font-bold",children:"Click to Change"})]}):b?"Replace Image":"Choose Image"})]})]})]}),k&&_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsx("span",{className:"text-slate-700 font-medium",children:"Turning sound into gold, frequency into fortune..."}),_.jsxs("span",{className:"text-purple-600 font-bold",children:[B,"%"]})]}),_.jsxs("div",{className:"relative h-3 bg-slate-100 rounded-full overflow-hidden",children:[_.jsx(ft.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${B}%`},transition:{duration:.3,ease:"easeOut"}}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})]})]}),_.jsx("button",{type:"submit",disabled:k,className:"w-full py-4 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition-colors shadow-lg shadow-purple-500/20 mt-4 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:k?b?"Saving...":"Uploading...":b?"Save Changes":"Publish Track"})]})]})})}),_.jsx(xu,{children:he&&_.jsx(ft.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:_.jsxs(ft.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden p-6 text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(UM,{size:32})}),_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Are you sure you want to delete this?"}),_.jsx("p",{className:"text-slate-500 mb-6",children:"it will be gone forever!"}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx("button",{onClick:()=>W(null),className:"px-4 py-2 rounded-xl font-bold text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:Re,className:"px-4 py-2 rounded-xl font-bold text-white bg-red-600 hover:bg-red-700 transition-colors shadow-lg shadow-red-500/30",children:"Confirm"})]})]})})})]})}function y_e(){const{user:t,updateGenres:e,isLoading:n}=dl(),r=zs(),a=Ga().state?.edit===!0,[o,u]=T.useState([]),[f,h]=T.useState(!1);T.useEffect(()=>{if(!n){if(!t){r("/auth");return}t.favoriteGenres&&t.favoriteGenres.length>0&&u(b=>b.length===0?t.favoriteGenres:b),!a&&t.favoriteGenres&&t.favoriteGenres.length>=4&&r("/discover")}},[t,r,n,a]);const d=b=>{o.includes(b)?u(w=>w.filter(S=>S!==b)):o.length<10&&u(w=>[...w,b])},p=async()=>{if(o.length>=4){h(!0);const b=Bo.currentUser;if(!b){alert("You appear to be logged out. Please log in again."),r("/auth");return}try{const w=Kr(mr,"users",b.uid);await gf(w,{favoriteGenres:o},{merge:!0}),e(o).catch(C=>console.warn("Context update warning",C));const E=(await YE(w)).data();if(E&&E.favoriteGenres&&E.favoriteGenres.length>0)r("/discover");else throw new Error("Verification failed - Data not found after write.")}catch(w){console.error("Cloud save failed:",w),alert("Failed to save your preferences. Please check your connection and try again."),h(!1)}}},y=o.length>=4&&o.length<=10;return _.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:_.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl w-full",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:a?"Update Your Vibe ":"Pick Your Vibe "}),_.jsx("p",{className:"text-slate-500 text-lg",children:"Select 4 to 10 genres to help us curate your experience."})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-10",children:az.map(b=>{const w=o.includes(b);return _.jsxs(ft.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(b),className:`
                                    relative h-32 rounded-2xl flex items-center justify-center text-lg font-bold transition-all shadow-sm
                                    ${w?"bg-slate-900 text-white shadow-xl shadow-slate-900/20 ring-4 ring-slate-200":"bg-white text-slate-600 hover:bg-slate-100 hover:text-slate-900"}
                                `,children:[b,w&&_.jsx("div",{className:"absolute top-3 right-3 bg-white text-slate-900 rounded-full p-1",children:_.jsx(Zl,{size:14,strokeWidth:4})})]},b)})}),_.jsx("div",{className:"flex justify-center",children:_.jsx("button",{onClick:p,disabled:!y||f,className:`
                            px-12 py-4 rounded-full font-bold text-lg transition-all flex items-center gap-2
                            ${y&&!f?"bg-brand-teal text-white shadow-lg shadow-teal-500/30 hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"}
                        `,children:f?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):y?a?"Update Vibe":"Start Listening":`Select ${4-o.length>0?4-o.length:"more"} genres`})})]})})}const fE=(t,e=null)=>{if(!t||!Array.isArray(t))return[];const n=[...t].sort((r,i)=>(i.monthlyPlays||0)-(r.monthlyPlays||0));if(e&&e!=="All"){const r=n.filter(i=>i.genre===e);return r.length<3?[...r,...n.filter(a=>a.genre!==e)].slice(0,50):r.slice(0,100)}return n.slice(0,100)};function v_e(){const{user:t,isLoading:e,updateWallet:n}=dl(),{tracks:r,playTrack:i,currentTrack:a,isPlaying:o,togglePlay:u}=CA(),f=zs(),[h,d]=T.useState("All"),[p,y]=T.useState("library"),[b,w]=T.useState(!1),[S,E]=T.useState(""),C=.3,D=.029,N=async()=>{const K=parseFloat(S);if(isNaN(K)||K<100)return;const he=K/100,W=(he+C)/(1-D),ie=W-he;confirm(`Charge Card: $${W.toFixed(2)}

(Includes $${ie.toFixed(2)} processing fee for Stripe/Bank)`)&&(await n(K)?(w(!1),E(""),alert(` Successfully added ${K} RF to your wallet!`)):alert("Transaction failed. Please try again."))},M=parseFloat(S)||0,V=M/100,L=V>0?(V+C)/(1-D):0,R=L>0?L-V:0;if(T.useEffect(()=>{e&&console.log("Auth is loading in background...")},[e]),!r)return _.jsx("div",{children:"Error: Tracks not loaded."});const O=Array.isArray(r)?r:[],k=fE(O,h),F=fE(O,h!=="All"?h:null).slice(0,5),[B]=T.useState([{id:1,name:"Morning Vibes",count:12},{id:2,name:"Workout Energy",count:8},{id:3,name:"Late Night Focus",count:24}]),U=(K,he)=>{K.stopPropagation(),console.log(`Adding track ${he} to playlist...`)},q=(K,he)=>{K.stopPropagation(),i(he)};return _.jsxs("div",{className:"min-h-screen bg-slate-50 pb-32",children:[_.jsxs("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>f("/"),children:[_.jsx("img",{src:"/logo.png",className:"h-10 w-auto"}),_.jsxs("span",{className:"font-bold text-xl tracking-tight hidden md:inline",children:[_.jsx("span",{className:"text-purple-600",children:"Artists"}),_.jsx("span",{className:"text-brand-teal",children:"First"})]})]}),_.jsxs("div",{className:"flex-1 max-w-lg mx-6 relative hidden md:block",children:[_.jsx(vae,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),_.jsx("input",{type:"text",placeholder:"Search songs, artists, genres...",className:"w-full pl-10 pr-4 py-2 bg-slate-100 rounded-full text-sm outline-none focus:ring-2 focus:ring-purple-500 transition-all shadow-inner"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[t?.email==="jcpvp.mc@gmail.com"&&_.jsx("button",{onClick:()=>f("/admin"),className:"hidden md:block px-3 py-1 bg-brand-teal text-slate-900 text-xs font-bold rounded shadow-sm hover:bg-teal-400 transition-colors",children:"ADMIN"}),_.jsxs("div",{className:"hidden md:flex flex-col items-end mr-2",children:[_.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Balance"}),_.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[t?.walletBalance?.toFixed(2)||"0.00"," RF"]})]}),_.jsx("img",{src:t?.avatar||"/profile_final.jpg",className:"w-10 h-10 rounded-full border border-slate-200"})]})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center gap-8 overflow-x-auto",children:[_.jsx("button",{onClick:()=>y("library"),className:`py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${p==="library"?"border-purple-600 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:"Your Library"}),_.jsx("button",{onClick:()=>y("discover"),className:`py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${p==="discover"?"border-purple-600 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:"For You"}),_.jsx("button",{onClick:()=>y("charts"),className:`py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${p==="charts"?"border-purple-600 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:"Top 100 Charts"})]})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[p==="library"&&_.jsxs(ft.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Your Library"}),_.jsxs("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-lg font-bold text-sm flex items-center gap-2",children:[_.jsx(dy,{size:16}),"New Playlist"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:_.jsxs(ft.div,{whileHover:{y:-2},className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),_.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-slate-500 font-medium text-sm",children:"Wallet Balance"}),_.jsxs("div",{className:"text-3xl font-bold text-slate-900 flex items-baseline gap-2",children:[t?.walletBalance?.toLocaleString()," RF",_.jsxs("span",{className:"text-lg text-slate-400 font-normal",children:["($",(t?.walletBalance?t.walletBalance/100:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")"]})]}),_.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"100 RF = $1.00 USD"})]}),_.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-xl",children:_.jsx(Sm,{size:24})})]}),_.jsx("button",{onClick:()=>w(!0),className:"w-full py-2 bg-slate-900 text-white rounded-lg font-bold text-sm hover:bg-slate-800 transition-colors relative z-10",children:"Deposit Funds"})]})}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:B.map(K=>_.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 p-6 rounded-2xl text-white shadow-lg hover:scale-[1.02] transition-transform cursor-pointer group relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/20 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx(nae,{size:32,className:"mb-4 text-teal-400"}),_.jsx("h3",{className:"text-xl font-bold mb-1",children:K.name}),_.jsxs("p",{className:"text-slate-400 text-sm",children:[K.count," tracks"]})]})]},K.id))}),_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Liked Songs"}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:_.jsxs("div",{className:"p-12 text-center text-slate-400",children:[_.jsx(Mw,{size:48,className:"mx-auto mb-4 text-slate-200"}),_.jsx("p",{children:"You haven't liked any songs yet."}),_.jsx("button",{onClick:()=>y("discover"),className:"mt-4 text-brand-teal font-bold hover:underline",children:"Discover Music"})]})})]}),p==="discover"&&_.jsxs(ft.div,{className:"space-y-10",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[_.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-purple-900 rounded-3xl p-8 mb-8 text-white relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome Home, ",_.jsx("span",{className:"text-teal-400",children:t?.name||"Listener"}),"!"]}),_.jsx("p",{className:"text-slate-300",children:"Here's your daily dose of high-vibe frequencies."})]})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Made For You"}),_.jsxs("button",{onClick:()=>f("/genre-selection",{state:{edit:!0}}),className:"text-xs font-bold text-slate-500 hover:text-purple-600 flex items-center gap-1 transition-colors",children:[_.jsx(HU,{size:14}),"Edit Vibe"]})]}),t?.favoriteGenres&&t.favoriteGenres.length>0?_.jsx("div",{className:"space-y-8",children:t.favoriteGenres.map(K=>{const he=fE(r,K).slice(0,4);return he.length===0?null:_.jsxs("div",{children:[_.jsxs("h3",{className:"text-base font-bold text-slate-700 mb-4 flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-6 bg-purple-500 rounded-full"}),"Top Trending in ",K]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:he.map(W=>_.jsxs("div",{className:"group relative bg-white rounded-xl p-3 shadow-sm border border-slate-100 hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer",children:[_.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden mb-3 relative",onClick:ie=>q(ie,W),children:[_.jsx("img",{src:W.cover,className:"w-full h-full object-cover"}),_.jsx("div",{className:`absolute inset-0 bg-black/20 flex items-center justify-center transition-opacity ${a?.id===W.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:_.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg transform scale-90 group-hover:scale-100 transition-transform",children:a?.id===W.id&&o?_.jsx(Fv,{className:"fill-slate-900 text-slate-900",size:20}):_.jsx(su,{className:"fill-slate-900 text-slate-900 ml-0.5",size:20})})}),_.jsx("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md px-2 py-0.5 rounded-full text-[10px] font-bold text-white border border-white/10 z-10",children:W.price?`${W.price} RF`:"Free"})]}),_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("h3",{className:"font-bold text-slate-900 text-sm truncate",children:W.title}),_.jsx("p",{className:"text-xs text-slate-500 truncate",children:W.artist})]}),_.jsx("button",{onClick:ie=>U(ie,W.id),className:"text-slate-300 hover:text-purple-600 transition-colors ml-1",title:"Add to Playlist",children:_.jsx(dy,{size:18})})]})]},W.id))})]},K)})}):_.jsxs("div",{className:"p-12 text-center bg-white rounded-3xl border border-slate-200 border-dashed",children:[_.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Vibe Selected Yet"}),_.jsx("p",{className:"text-slate-500 mb-6",children:"Select your favorite genres to get personalized recommendations."}),_.jsx("button",{onClick:()=>f("/genre-selection"),className:"px-8 py-3 bg-slate-900 text-white rounded-full font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all",children:"Pick Your Vibe"})]})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center justify-between mb-6",children:_.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Top 5 Trending ",_.jsx("span",{className:"text-purple-600",children:h==="All"?"Overall":`in ${h}`})]})}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:F.map((K,he)=>_.jsxs("div",{onClick:W=>q(W,K),className:`flex items-center p-4 hover:bg-slate-50 border-b border-slate-50 last:border-none transition-colors group cursor-pointer ${a?.id===K.id?"bg-purple-50":""}`,children:[_.jsx("div",{className:"w-8 font-bold text-slate-400 text-center mr-4 flex justify-center",children:a?.id===K.id&&o?_.jsxs("div",{className:"flex gap-0.5 items-end h-4",children:[_.jsx("div",{className:"w-1 bg-brand-teal h-full animate-pulse"}),_.jsx("div",{className:"w-1 bg-brand-teal h-2/3 animate-pulse delay-75"}),_.jsx("div",{className:"w-1 bg-brand-teal h-full animate-pulse delay-150"})]}):_.jsx("span",{children:he+1})}),_.jsxs("div",{className:"w-12 h-12 rounded-lg overflow-hidden relative mr-4 flex-shrink-0",children:[_.jsx("img",{src:K.cover,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/20 hidden group-hover:flex items-center justify-center",children:_.jsx(su,{size:16,className:"text-white fill-white"})})]}),_.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[_.jsx("div",{className:`font-bold truncate ${a?.id===K.id?"text-purple-700":"text-slate-900"}`,children:K.title}),_.jsx("div",{className:"text-sm text-slate-500 truncate",children:K.artist})]}),_.jsx("div",{className:"text-sm font-bold text-slate-900 mr-8",children:K.price?`${K.price} RF`:"Free"}),_.jsxs("div",{className:"text-sm font-bold text-slate-500 mr-4 hidden sm:block",children:[(K.monthlyPlays||0).toLocaleString()," plays"]}),_.jsx("button",{onClick:W=>U(W,K.id),className:"p-2 text-slate-300 hover:text-purple-600 transition-colors",children:_.jsx(dy,{size:20})})]},K.id))})]}),_.jsxs("section",{children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"New Arrivals"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.slice(0,6).map(K=>_.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-xl border border-slate-100 hover:bg-slate-50 transition-colors cursor-pointer group",children:[_.jsx("img",{src:K.cover,className:"w-16 h-16 rounded-lg object-cover shadow-sm"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h4",{className:"font-bold text-slate-900 truncate",children:K.title}),_.jsx("p",{className:"text-xs text-slate-500",children:K.artist})]}),_.jsx("div",{className:"text-xs font-bold text-slate-900 bg-slate-100 px-2 py-1 rounded-md",children:K.price?`${K.price} RF`:"Free"}),_.jsx("button",{onClick:he=>q(he,K),className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-brand-teal hover:text-white",children:_.jsx(su,{size:14,className:"ml-0.5"})})]},K.id))})]})]}),p==="charts"&&_.jsxs(ft.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[_.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[_.jsxs("div",{children:[_.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[_.jsx(Oae,{className:"text-brand-teal"}),"Top 100 Charts"]}),_.jsx("p",{className:"text-slate-500",children:"The most played tracks this month on Artists First."})]}),_.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 md:pb-0 scrollbar-hide",children:az.map(K=>_.jsx("button",{onClick:()=>d(K),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${h===K?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:K},K))})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 w-12 text-center text-xs font-bold text-slate-400",children:"#"}),_.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase",children:"Track"}),_.jsx("th",{className:"hidden md:table-cell p-4 text-xs font-bold text-slate-500 uppercase",children:"Artist"}),_.jsx("th",{className:"hidden md:table-cell p-4 text-xs font-bold text-slate-500 uppercase",children:"Genre"}),_.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase text-right",children:"Plays"}),_.jsx("th",{className:"p-4 w-12",children:"Action"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-100",children:k.map((K,he)=>_.jsxs("tr",{onClick:W=>q(W,K),className:"hover:bg-slate-50 group transition-colors cursor-pointer",children:[_.jsxs("td",{className:"p-4 text-center font-bold text-slate-400 w-12",children:[_.jsx("span",{className:"group-hover:hidden",children:he+1}),_.jsx(su,{size:16,className:"hidden group-hover:block mx-auto text-slate-900 fill-slate-900"})]}),_.jsx("td",{className:"p-4",children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:K.cover,className:"w-12 h-12 rounded-lg object-cover shadow-sm"}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"font-bold text-slate-900 truncate",children:K.title}),_.jsx("div",{className:"md:hidden text-xs text-slate-500",children:K.artist})]})]})}),_.jsx("td",{className:"hidden md:table-cell p-4 text-sm text-slate-600 font-medium",children:K.artist}),_.jsx("td",{className:"hidden md:table-cell p-4",children:_.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 text-xs font-bold rounded-full",children:K.genre||"Unclassified"})}),_.jsx("td",{className:"p-4 text-right font-mono text-sm text-slate-600",children:(K.monthlyPlays||0).toLocaleString()}),_.jsxs("td",{className:"p-4 text-right flex gap-2 justify-end",children:[_.jsx("button",{className:"text-slate-300 hover:text-pink-500 transition-colors",children:_.jsx(Mw,{size:18})}),_.jsx("button",{onClick:W=>U(W,K.id),className:"text-slate-300 hover:text-purple-600 transition-colors",children:_.jsx(dy,{size:18})})]})]},K.id))})]}),k.length===0&&_.jsx("div",{className:"p-12 text-center text-slate-400",children:"No tracks found for this genre."})]})]})]}),a&&_.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-slate-200 p-4 shadow-[0_-8px_30px_rgba(0,0,0,0.12)] z-[100] transition-transform duration-300 ease-out translate-y-0",children:_.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[_.jsxs("div",{className:"flex items-center gap-4 w-1/3",children:[_.jsx("img",{src:a.cover,className:"w-14 h-14 rounded-lg shadow-sm object-cover"}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("h4",{className:"font-bold text-slate-900 truncate",children:a.title}),_.jsx("p",{className:"text-xs text-slate-500 truncate",children:a.artist})]}),_.jsx("button",{className:"text-slate-400 hover:text-pink-500 hidden sm:block",children:_.jsx(Mw,{size:20})})]}),_.jsxs("div",{className:"flex flex-col items-center flex-1 max-w-lg",children:[_.jsxs("div",{className:"flex items-center gap-6 mb-1",children:[_.jsx("button",{className:"text-slate-400 hover:text-slate-600 hover:scale-110 transition-all",children:_.jsx(xae,{size:18})}),_.jsx("button",{className:"text-slate-600 hover:text-slate-900 hover:scale-110 transition-all",children:_.jsx(wae,{size:24,fill:"currentColor"})}),_.jsx("button",{onClick:u,className:"w-10 h-10 bg-slate-900 text-white rounded-full flex items-center justify-center hover:scale-105 active:scale-95 transition-all shadow-lg",children:o?_.jsx(Fv,{size:20,fill:"currentColor"}):_.jsx(su,{size:20,fill:"currentColor",className:"ml-0.5"})}),_.jsx("button",{className:"text-slate-600 hover:text-slate-900 hover:scale-110 transition-all",children:_.jsx(Tae,{size:24,fill:"currentColor"})}),_.jsx("button",{className:"text-slate-400 hover:text-slate-600 hover:scale-110 transition-all",children:_.jsx(gae,{size:18})})]}),_.jsxs("div",{className:"w-full flex items-center gap-2 text-xs text-slate-400 font-mono",children:[_.jsx("span",{children:"0:24"}),_.jsx("div",{className:"h-1 flex-1 bg-slate-200 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full w-1/3 bg-slate-900 rounded-full"})}),_.jsx("span",{children:"3:45"})]})]}),_.jsxs("div",{className:"w-1/3 flex justify-end items-center gap-4",children:[_.jsx("div",{className:"text-xs font-bold bg-slate-100 px-2 py-1 rounded text-slate-500 border border-slate-200",children:a.price?`${a.price} RF`:"Free"}),_.jsxs("button",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 hover:text-purple-600 bg-slate-100 px-3 py-2 rounded-full transition-colors border border-slate-200",children:[_.jsx(lae,{size:16}),"Lyrics"]})]})]})}),_.jsx(xu,{children:b&&_.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center px-4",children:[_.jsx(ft.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>w(!1)}),_.jsxs(ft.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md relative z-10 overflow-hidden",children:[_.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[_.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Deposit Funds"}),_.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600",children:_.jsx(qv,{size:24})})]}),_.jsxs("div",{className:"p-6 space-y-4",children:[_.jsxs("div",{className:"bg-green-50 rounded-xl p-4 flex items-center justify-between border border-green-100",children:[_.jsx("div",{className:"text-green-800 font-medium",children:"Current Balance"}),_.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[t?.walletBalance?.toLocaleString()," RF ",_.jsxs("span",{className:"text-sm font-normal",children:["($",((t?.walletBalance||0)/100).toFixed(2),")"]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Amount to Deposit (RF)"}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"RF"}),_.jsx("input",{type:"number",value:S,onChange:K=>E(K.target.value),placeholder:"500",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-900 outline-none focus:border-slate-900 focus:ring-1 focus:ring-slate-900 transition-all"}),_.jsx("button",{onClick:()=>E("1000"),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-bold text-teal-600 bg-teal-50 px-2 py-1 rounded-lg hover:bg-teal-100 transition-colors",children:"+1000"})]}),_.jsxs("div",{className:"text-xs text-slate-500 mt-2 flex items-center gap-1",children:[_.jsx(xT,{size:12}),"100 RF = $1.00 USD. Minimum deposit 100 RF."]})]}),M>=100&&_.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl space-y-2 text-sm",children:[_.jsxs("div",{className:"flex justify-between text-slate-600",children:[_.jsxs("span",{children:["Subtotal (",M," RF)"]}),_.jsxs("span",{children:["$",V.toFixed(2)]})]}),_.jsxs("div",{className:"flex justify-between text-slate-600",children:[_.jsxs("span",{className:"flex items-center gap-1",title:"Stripe/Bank fees (2.9% + $0.30)",children:["Processing Fee ",_.jsx(xT,{size:10})]}),_.jsxs("span",{children:["$",R.toFixed(2)]})]}),_.jsxs("div",{className:"border-t border-slate-200 pt-2 flex justify-between font-bold text-slate-900 text-lg",children:[_.jsx("span",{children:"Total Charge"}),_.jsxs("span",{children:["$",L.toFixed(2)]})]})]}),_.jsx("button",{onClick:N,disabled:!S||M<100,className:"w-full py-4 bg-slate-900 text-white rounded-xl font-bold text-lg hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-slate-900/10",children:M>=100?`Pay $${L.toFixed(2)}`:"Enter Amount"}),_.jsx("p",{className:"text-center text-xs text-slate-400 mt-2",children:"Funds will be available immediately."})]})]})]})})]})}function b_e(){const{user:t}=dl(),e=zs(),[n,r]=T.useState(null),[i,a]=T.useState(!0);if(T.useEffect(()=>{t&&t.email?.toLowerCase()!=="cosmiccards777@gmail.com"&&e("/")},[t,e]),T.useEffect(()=>{const f=tz(Kr(mr,"admin_stats","main_stats"),h=>{h.exists()?r(h.data()):r({companyBalanceAF:0,totalTransactions:0}),a(!1)});return()=>f()},[]),i)return _.jsx("div",{className:"p-8 text-center",children:"Loading Company Data..."});const o=n?.companyBalanceAF||0,u=o/100;return _.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[_.jsx("button",{onClick:()=>e("/artistdashboard"),className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:_.jsx(Fie,{size:24})}),_.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Company Master Dashboard"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-900 text-white p-8 rounded-3xl shadow-xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2 text-teal-400 font-medium",children:[_.jsx(Sm,{size:20}),_.jsx("span",{children:"Platform Revenue (10%)"})]}),_.jsxs("div",{className:"text-5xl font-bold mb-2",children:[o.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})," AF"]}),_.jsxs("div",{className:"text-2xl text-slate-400",children:["$",u.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," USD"]})]})]}),_.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-200",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4 text-purple-600 font-medium",children:[_.jsx(Uie,{size:24}),_.jsx("span",{children:"Total Paid Streams"})]}),_.jsx("div",{className:"text-5xl font-bold text-slate-900 mb-2",children:(n?.totalTransactions||0).toLocaleString()}),_.jsx("div",{className:"text-slate-500",children:"Global platform activity"})]})]}),_.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-100 p-6 rounded-2xl text-yellow-800 text-sm",children:[_.jsx("strong",{children:"Note:"}),' This is the 10% "Platform Share" accumulated from all streams. Your personal artist revenue (the 90%) is tracked separately in your Artist Dashboard.']})]})})}function x_e({children:t}){const{user:e,isLoading:n}=dl();return n?_.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-slate-900 mb-4"}),_.jsx("p",{className:"text-slate-500 font-medium",children:"Verifying Artist Access..."})]}):e?e.role!=="artist"?_.jsx(cv,{to:"/",replace:!0}):_.jsx(_.Fragment,{children:t}):_.jsx(cv,{to:"/auth",replace:!0})}function __e(){return _.jsx(LJ,{children:_.jsx(UJ,{children:_.jsx(UH,{children:_.jsx("div",{className:"bg-slate-50 min-h-screen",children:_.jsxs(gH,{children:[_.jsx(Sa,{path:"/",element:_.jsx(Lae,{})}),_.jsx(Sa,{path:"/etao",element:_.jsx(Vae,{})}),_.jsx(Sa,{path:"/auth",element:_.jsx(zae,{})}),_.jsx(Sa,{path:"/genre-selection",element:_.jsx(y_e,{})}),_.jsx(Sa,{path:"/listenerdashboard",element:_.jsx(v_e,{})}),_.jsx(Sa,{path:"/artistdashboard",element:_.jsx(x_e,{children:_.jsx(g_e,{})})}),_.jsx(Sa,{path:"/discover",element:_.jsx(cv,{to:"/listenerdashboard",replace:!0})}),_.jsx(Sa,{path:"/dashboard",element:_.jsx(cv,{to:"/artistdashboard",replace:!0})}),_.jsx(Sa,{path:"/admin",element:_.jsx(b_e,{})})]})})})})})}b$.createRoot(document.getElementById("root")).render(_.jsx(T.StrictMode,{children:_.jsx(__e,{})}));
